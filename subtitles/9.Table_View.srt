1
00:00:00,401 --> 00:00:04,435
本字幕由志愿者义务贡献，采用许可协议
知识共享 署名-非商业性使用-相同方式共享 3.0 美国

2
00:00:04,504 --> 00:00:07,605
Stanford University.
斯坦福大学

3
00:00:07,674 --> 00:00:11,109
>> All right, well, welcome to Stanford CS193P,
欢迎参加 2017 年冬季学期斯坦福

4
00:00:11,178 --> 00:00:14,946
Developing Applications for iOS, winter of 2017.
在2017年冬天开发iOS应用。
CS193P 课程，iOS 应用程序开发
CS193P课程,iOS应用程序开发

5
00:00:15,015 --> 00:00:18,183
This is Lecture number 9.
这是第九讲。

6
00:00:18,252 --> 00:00:20,786
And today we have only one topic which is Table View.
今天我们只有一个主题是Table View。

7
00:00:20,854 --> 00:00:23,187
And I'm gonna go through a bunch of slides to talk about
我要讲一大堆幻灯片

8
00:00:23,256 --> 00:00:23,989
the concepts of it.
它的概念。

9
00:00:24,058 --> 00:00:26,992
And then we're gonna have a humongous demo
然后我们会有一个巨大的演示

10
00:00:27,061 --> 00:00:29,360
that we're gonna build a Twitter client and
我们要建立一个Twitter客户端

11
00:00:29,429 --> 00:00:31,296
it's gonna use Table View and
它将使用表格视图

12
00:00:31,365 --> 00:00:33,532
some other things that we've learned, like Text Field.
还有一些我们学过的东西，比如文本框。

13
00:00:34,802 --> 00:00:36,835
And Table View, what is it?
表格视图，它是什么?

14
00:00:36,903 --> 00:00:40,739
You've seen a Table View in all sorts of iOS apps.
你已经在各种iOS应用中看到了一个表视图。

15
00:00:40,807 --> 00:00:43,908
It's just this UI where there's a list of things.
它只是这个UI，这里有一个列表。

16
00:00:43,977 --> 00:00:46,879
There's really two different kinds of looks to Table View.
有两种不同类型的表视图。

17
00:00:46,947 --> 00:00:48,479
There's the kind on the left there,
左边是这样的，

18
00:00:48,548 --> 00:00:50,648
which we call plain style.
我们称之为普通风格。

19
00:00:50,717 --> 00:00:53,818
Plain style is just a list of things.
简单的风格只是一份清单。

20
00:00:53,887 --> 00:00:56,721
And it might be collected into groups like little sections.
它可能会被收集成小组，比如小段。

21
00:00:56,790 --> 00:00:59,291
But it's mostly just a big long list.
但它大多只是一个长长的列表。

22
00:00:59,359 --> 00:01:02,660
On the right side, is called a grouped style.
在右边，称为分组样式。

23
00:01:02,729 --> 00:01:05,230
Where the sections in the table,
在表格中，

24
00:01:05,299 --> 00:01:08,934
you're more obviously disconnected from each other.
你们之间的联系更加明显。

25
00:01:09,003 --> 00:01:11,436
They have you know, big gaps in between.
他们之间有很大的差距。

26
00:01:11,505 --> 00:01:17,943
Normally the plain style we use for dynamic data.
通常我们使用的是动态数据的普通样式。

27
00:01:18,011 --> 00:01:20,445
Data that might have any number of items in there.
数据可能包含任意数量的项。

28
00:01:20,514 --> 00:01:22,580
The group style we tend to use for static data,
我们倾向于使用的组样式用于静态数据，

29
00:01:22,649 --> 00:01:25,050
where we know exactly what rows are gonna be in there,
我们确切知道哪行是，

30
00:01:25,119 --> 00:01:28,120
and exactly what's gonna be in them.
他们到底会发生什么。

31
00:01:28,188 --> 00:01:31,289
So let's talk about the names of all the parts of
我们来讨论一下所有部分的名称

32
00:01:31,358 --> 00:01:33,558
a Table View, so that as I'm explaining all this,
一个表格视图，当我解释这些的时候，

33
00:01:33,627 --> 00:01:35,461
you'll know what the terminology is.
你会知道术语是什么。

34
00:01:36,563 --> 00:01:38,230
First we have a table header.
首先我们有一个表格标题。

35
00:01:38,298 --> 00:01:39,363
That's a UIView.
这是一个UIView。

36
00:01:39,432 --> 00:01:40,999
There's only one of them.
只有一个。

37
00:01:41,068 --> 00:01:43,135
It sits at the very top of the table.
它位于桌子的最顶端。

38
00:01:43,204 --> 00:01:44,902
This is where, as you'll see in the demo,
你们会在演示中看到，

39
00:01:44,971 --> 00:01:49,040
you might put a search field or something that searches
你可能会放一个搜索栏或者搜索

40
00:01:49,109 --> 00:01:51,009
to find what's in your table or something like that.
来看看你的桌子上有什么。

41
00:01:51,078 --> 00:01:53,478
And similarly, there's a footer view.
类似地，还有一个footer view。

42
00:01:53,546 --> 00:01:54,513
Rarely see this used.
很少看到这种使用。

43
00:01:54,582 --> 00:01:57,749
But it's just a UIView that sits at the bottom
但它只是一个位于底部的UIView

44
00:01:57,817 --> 00:01:59,301
And in between, there are these things called sections.
在这两者之间，有一些叫做节的东西。

45
00:01:59,302 --> 00:02:00,786
of the table.
的表。

46
00:02:00,854 --> 00:02:03,989
So a section is just a combination of a header and
所以section只是一个header和

47
00:02:04,058 --> 00:02:05,857
a footer, which are usually strings, but
一个页脚，通常是字符串，但是

48
00:02:05,925 --> 00:02:09,460
also could be UIViews, and then any number of rows.
也可以是uiview，然后是任意数量的行。

49
00:02:09,529 --> 00:02:10,728
That's what we call a section.
这就是我们所说的section。

50
00:02:10,797 --> 00:02:12,397
So that's a section right there.
这是一个部分。

51
00:02:12,466 --> 00:02:15,667
This is the section header for the two sections that I have
这是我所拥有的两个部分的页眉

52
00:02:15,736 --> 00:02:18,537
showing in this table, right, where it says Header 0.
显示在这个表中，它说的是Header 0。

53
00:02:18,605 --> 00:02:20,705
And these are sections footers for
这些是页脚

54
00:02:20,774 --> 00:02:22,440
the two sections that I have.
我有两个部分。

55
00:02:22,509 --> 00:02:25,310
These two sections happen to both have the same numbers of
这两个部分的数量相等

56
00:02:25,379 --> 00:02:28,113
rows in each which is two but a section, one section have
每一行有两行，但一节，一节有

57
00:02:28,182 --> 00:02:31,583
a 100 rows, and one could have just 1, it's perfectly fine.
100行，1可以是1，很好。

58
00:02:32,786 --> 00:02:36,521
This right in here, we call a table cell.
在这里，我们调用一个表格单元格。

59
00:02:36,589 --> 00:02:39,023
C-E-L-L, cell, and it's the UIView,
c - e - l - l,cell，它是UIView，

60
00:02:39,092 --> 00:02:40,692
actually UITableViewCell,
实际上UITableViewCell,

61
00:02:40,761 --> 00:02:43,495
it's the name of the subclass that's in there.
它是这里的子类的名字。

62
00:02:43,564 --> 00:02:46,731
And this is the thing that's gonna draw the data that's at
这就是要绘制数据的地方

63
00:02:46,800 --> 00:02:47,799
a particular row.
一个特定的行。

64
00:02:47,868 --> 00:02:49,467
And we're gonna see how that works.
我们将会看到它是如何运作的。

65
00:02:49,536 --> 00:02:52,203
By the way, along the bottom you're seeing source code that
顺便说一下，在底部你看到的是源代码

66
00:02:52,272 --> 00:02:54,005
kind of corresponds with these things.
类似于这些东西。

67
00:02:54,074 --> 00:02:57,075
Don't worry I'm gonna get back to showing you all that stuff
别担心，我会回来给你看这些东西的

68
00:02:57,143 --> 00:02:57,976
in later slides.
在后面的幻灯片。

69
00:02:58,045 --> 00:03:01,145
So this is the naming we use to name all the parts of
这是命名，我们用它来命名所有的部分

70
00:03:01,214 --> 00:03:03,014
a table view.
一个表格视图。

71
00:03:03,083 --> 00:03:04,148
And this is in plain style.
这是朴素的风格。

72
00:03:04,217 --> 00:03:06,618
All the same names work in group style.
所有相同的名称都以组的方式工作。

73
00:03:06,687 --> 00:03:08,519
Everything just kinda looks a little different.
每件事看起来都有点不同。

74
00:03:08,588 --> 00:03:10,088
All right, still have a header, footer,
好的，还有页眉，页脚，

75
00:03:10,157 --> 00:03:12,123
sections, all the same.
部分,都是一样的。

76
00:03:12,192 --> 00:03:14,059
Just a little different UI look.
只是一种不同的UI外观。

77
00:03:15,896 --> 00:03:18,930
Now, tables can have sections or not.
现在，表格可以有分段。

78
00:03:18,999 --> 00:03:20,832
You don't have to have any sections, so
你不需要有任何部分，所以

79
00:03:20,900 --> 00:03:25,003
the table on the left is just a whole list of cities and
左边的桌子仅仅是一个城市的列表

80
00:03:25,071 --> 00:03:27,205
the countries they're in and just a big long list.
他们所在的国家，只是一个长长的名单。

81
00:03:27,273 --> 00:03:29,307
On the right is kind of the same kind of list but
右边是同样的列表

82
00:03:29,376 --> 00:03:31,943
you can see that they're grouped into sections there by
你可以看到它们被分成了几个部分

83
00:03:32,011 --> 00:03:32,811
country, right.
国家,对吧。

84
00:03:32,880 --> 00:03:35,213
So Japan there, Mexico, etc.
日本，墨西哥等等。

85
00:03:35,282 --> 00:03:37,248
So sections are optional,
所以部分是可选的,

86
00:03:37,317 --> 00:03:40,318
not optional in the case of an option, but
在选项的情况下不是可选的，但是

87
00:03:40,387 --> 00:03:44,856
sections you can have them or not, it's totally up to you.
你可以选择的部分，完全取决于你。

88
00:03:46,160 --> 00:03:51,096
The type of the cell, like each row, there are four
单元格的类型，比如每一行，有四个

89
00:03:51,164 --> 00:03:54,432
kinda pre-defined types and then there's a custom type.
有预定义类型，然后有自定义类型。

90
00:03:54,501 --> 00:03:57,969
The four pre-defined types are subtitle where you just got
四个预定义类型是您刚刚得到的子标题

91
00:03:58,037 --> 00:03:58,737
like a title and
像一个标题和

92
00:03:58,806 --> 00:04:01,773
a little smaller text subtitle under it.
在它下面有一个小的文本副标题。

93
00:04:01,842 --> 00:04:03,575
There's default which is the same except
默认情况下，除了

94
00:04:03,643 --> 00:04:05,644
there's no little subtitle thing.
没有什么副标题。

95
00:04:05,712 --> 00:04:08,179
There's value 1 and value 2, which is just like subtitle,
有值1和值2，就像副标题一样，

96
00:04:08,248 --> 00:04:10,715
it's just that the little thing underneath is in
只是下面的小东西在里面

97
00:04:10,784 --> 00:04:13,218
a different spot, it's either blue and
一个不同的点，要么是蓝色的，要么是

98
00:04:13,287 --> 00:04:17,588
to the left or it's kind of grayed off into the right but
向左或向右偏

99
00:04:17,657 --> 00:04:21,326
i's just how i's laying out the basic information there.
我只是在这里列出基本信息。

100
00:04:21,395 --> 00:04:23,995
Now a custom cell can have arbitrary UI
现在自定义单元格可以有任意的UI

101
00:04:24,063 --> 00:04:25,130
in it as you will see.
就像你看到的那样。

102
00:04:26,533 --> 00:04:30,234
So how do we use a table view?
那么如何使用表格视图呢?

103
00:04:30,303 --> 00:04:32,070
Okay, a table view is a UIView,
好的，一个表视图是一个UIView，

104
00:04:32,139 --> 00:04:35,073
i's actually subclass UIScrollView because i's
我实际上是子类UIScrollView，因为

105
00:04:35,141 --> 00:04:38,176
scrolling through all those rows.
滚动所有这些行。

106
00:04:38,245 --> 00:04:40,495
Well 99% of the time, we use the special ViewController
99%的时候，我们使用特殊的ViewController

107
00:04:40,496 --> 00:04:42,746
So how do we do it?
那我们该怎么做呢?

108
00:04:42,816 --> 00:04:45,884
called UITableViewController in UIKit.
叫UITableViewController UIKit。

109
00:04:45,952 --> 00:04:50,922
And UITableViewController is just a convenient package to
UITableViewController只是一个方便的包

110
00:04:50,991 --> 00:04:56,261
use UITableView in and its self.view is a UITableView.
使用UITableView和它的self。视图是一个UITableView。

111
00:04:56,330 --> 00:04:59,063
Okay, so you would only use a UITableViewController
你只能使用UITableViewController

112
00:04:59,132 --> 00:05:02,066
when your entire self.view is going to be filled
当你的整个自我。视图将被填充

113
00:05:02,135 --> 00:05:04,035
with a table view.
表视图。

114
00:05:04,104 --> 00:05:06,771
And you can add one into your storyboard just by dragging it
你可以通过拖动添加一个到故事板中

115
00:05:06,840 --> 00:05:08,139
out as we always do.
一如既往。

116
00:05:08,208 --> 00:05:09,841
There's a thing called Table View Controller and
有一个东西叫表视图控制器

117
00:05:09,910 --> 00:05:10,675
it's just gonna drag it out.
把它拖出来。

118
00:05:10,744 --> 00:05:12,878
Now it's a controller, so when you drag it out,
现在它是一个控制器，当你把它拖出来的时候，

119
00:05:12,946 --> 00:05:14,512
it looks like an MVC.
它看起来像一个MVC。

120
00:05:14,581 --> 00:05:16,314
But inside of that MVC,
但是在MVC内部，

121
00:05:16,383 --> 00:05:18,316
there is a table view sitting there, okay?
这里有一个表视图?

122
00:05:18,385 --> 00:05:20,986
And so what you see here the controller,
你在这里看到的是控制器，

123
00:05:21,055 --> 00:05:22,420
is a UITableViewController,
是一个UITableViewController,

124
00:05:22,489 --> 00:05:26,191
and the self.view of it is a UITableView.
和自我。视图是一个UITableView。

125
00:05:26,260 --> 00:05:27,793
Okay, subclass of UIScrollView.
好的,UIScrollView的子类。

126
00:05:29,329 --> 00:05:31,662
Now like any other ViewController,
和其他视图控制器一样，

127
00:05:31,731 --> 00:05:33,498
if you're going to do anything with this thing,
如果你想做任何事，

128
00:05:33,567 --> 00:05:35,400
you need to subclass it, right?
你需要子类化它，对吧?

129
00:05:35,469 --> 00:05:37,302
Just like you create a calculator view controller or
就像你创建计算器视图控制器一样

130
00:05:37,370 --> 00:05:38,169
graph view controller,
图视图控制器,

131
00:05:38,237 --> 00:05:41,540
you need to subclass, your UITableViewController as well.
你需要对UITableViewController进行子类化。

132
00:05:41,608 --> 00:05:43,074
And you do it the same way, right?
你也用同样的方法，对吧?

133
00:05:43,142 --> 00:05:44,910
New files are created.
创建新文件。

134
00:05:44,978 --> 00:05:48,146
It's gonna be a Cocoa Touch Class of course.
当然是Cocoa Touch类。

135
00:05:48,214 --> 00:05:50,548
It's gonna be a subclass of UITableViewController.
它是UITableViewController的子类。

136
00:05:50,617 --> 00:05:51,549
Make sure you pick that.
一定要选那个。

137
00:05:51,618 --> 00:05:53,585
Don't say it's a subclass of UIViewController.
不要说它是UIViewController的子类。

138
00:05:53,654 --> 00:05:56,955
It has to be a subclass UITableViewController if you
它必须是一个子类UITableViewController

139
00:05:57,023 --> 00:05:59,090
want it to work.
想要的工作。

140
00:05:59,158 --> 00:06:02,660
And then you just set it in the identity inspector
然后你把它设置为身份检查器

141
00:06:02,729 --> 00:06:03,995
Just exactly like any other controllers, just that it has
和其他控制器完全一样，只是它有

142
00:06:03,996 --> 00:06:05,262
to be your class.
你的课。

143
00:06:05,332 --> 00:06:08,033
to be subclass UITableViewController.
UITableViewController子类。

144
00:06:08,101 --> 00:06:11,002
This UITableViewController subclass
这UITableViewController子类

145
00:06:11,070 --> 00:06:14,739
is also going to serve as the data source and delegates.
也将作为数据源和委托。

146
00:06:14,808 --> 00:06:16,707
Okay, the data source is just a special kind of delegate for
数据源只是一种特殊的委托

147
00:06:16,776 --> 00:06:19,010
getting the data in the table.
获取表中的数据。

148
00:06:19,079 --> 00:06:21,045
For the table view that's inside of it.
对于表视图，它的内部。

149
00:06:21,114 --> 00:06:23,114
So, we're gonna talk a lot more about that
所以，我们会更多地讨论这个问题

150
00:06:23,183 --> 00:06:24,449
down the road here.
这里的道路。

151
00:06:24,517 --> 00:06:27,352
By the way, if you right click on the view controller and
顺便说一下，如果你右键点击视图控制器

152
00:06:27,421 --> 00:06:29,888
you get that black window to come up, you can actually see
你可以看到那个黑色的窗口

153
00:06:29,957 --> 00:06:31,623
it, if you look down towards the bottom there,
它，如果你向下看，

154
00:06:31,691 --> 00:06:33,225
you see data source and delegate.
您可以看到数据源和委托。

155
00:06:33,293 --> 00:06:35,560
Their properties and they're pre wired up for you.
他们的财产和他们预先为你准备好了。

156
00:06:35,628 --> 00:06:37,862
If you use this UITableViewController thing,
如果你使用这个UITableViewController，

157
00:06:37,930 --> 00:06:39,431
just pre-wires it up.
只是pre-wires起来。

158
00:06:39,500 --> 00:06:41,399
That the controller is the delegate and
控制器是委托

159
00:06:41,468 --> 00:06:44,335
data source of the table view.
表视图的数据源。

160
00:06:44,404 --> 00:06:46,304
If you don't use UITableViewController,
如果你不使用UITableViewController，

161
00:06:46,373 --> 00:06:48,373
by the way, this kinda pre-packaged one?
顺便问一下，这是预包装的吗?

162
00:06:48,442 --> 00:06:50,375
Then you'll have to wire up the data source and
然后你需要将数据源连接起来

163
00:06:50,443 --> 00:06:52,811
delegate, you know, either in code by saying
委托，你知道，可以用代码来表示

164
00:06:54,147 --> 00:06:57,215
tableView.delegate = self or something like that.
表视图。委托= self之类的。

165
00:06:57,283 --> 00:06:59,150
You'll have to do it yourself but 99% of the time you're
你必须自己做，但99%的时间都是这样

166
00:06:59,219 --> 00:07:00,685
just gonna use this UITableViewController.
使用这个UITableViewController。

167
00:07:00,754 --> 00:07:02,921
Cuz usually the best UI for a table view, is for
对于表视图来说，Cuz通常是最好的UI

168
00:07:02,989 --> 00:07:05,156
it to take over the whole screen.
它占据了整个屏幕。

169
00:07:05,225 --> 00:07:07,025
For it to fill the whole screen, it's rare that you can
为了填补整个屏幕，你很少能做到

170
00:07:07,094 --> 00:07:08,560
have a table view in part of your screen.
在你的屏幕上有一个表视图。

171
00:07:11,497 --> 00:07:14,866
So you can edit the attributes of the table view itself,
你可以编辑表格视图本身的属性，

172
00:07:14,935 --> 00:07:16,734
of course, by just clicking on it and
当然，只要点击它就可以了

173
00:07:16,803 --> 00:07:18,670
bringing up the attributes inspector.
打开属性检查器。

174
00:07:18,738 --> 00:07:21,172
One thing that's a little frustrating about a table view
有一件事有点让人沮丧

175
00:07:21,241 --> 00:07:24,309
is you've got the table view cells, which are UIViews.
你有表视图单元格，它们是uiview。

176
00:07:24,377 --> 00:07:26,844
And then you've got the table view kind of that they're
然后你就得到了表格视图

177
00:07:26,913 --> 00:07:27,479
contained in.
包含在。

178
00:07:27,547 --> 00:07:29,147
That's a UIView also.
这是一个UIView也。

179
00:07:29,215 --> 00:07:31,149
And then you've got the table view controller behind it.
然后你就有了表视图控制器。

180
00:07:31,218 --> 00:07:33,651
And you wanna set attributes on all of these things.
你想要在所有这些东西上设置属性。

181
00:07:33,720 --> 00:07:38,523
So don't forget you can do Ctrl+Shift+Left-click, and
所以别忘了你可以Ctrl + Shift +左击，还有

182
00:07:38,592 --> 00:07:39,424
it'll put up a little menu.
它会放一个小菜单。

183
00:07:39,492 --> 00:07:41,459
Says, okay, what thing under the mouse do you want?
说，好吧，你想要什么东西?

184
00:07:41,527 --> 00:07:44,796
Do you want the cell, the table view, or the controller?
你想要单元格，表视图，还是控制器?

185
00:07:44,864 --> 00:07:48,800
And so that'll help you dig down to the thing you want.
这样你就能找到你想要的东西。

186
00:07:48,869 --> 00:07:50,368
All right, but once you have it selected,
好的，但是一旦你选择了它，

187
00:07:50,437 --> 00:07:52,203
whichever one you want, like the TableView or
不管你想要哪个，比如TableView

188
00:07:52,272 --> 00:07:55,506
the Controller or the Cell, you can inspect it of course.
控制器或单元格，当然可以检查。

189
00:07:55,575 --> 00:07:59,877
Now, one important thing is this grouped versus plain that
现在，有一件很重要的事情是这一组对比普通的

190
00:07:59,946 --> 00:08:01,045
I showed you at the very beginning.
我一开始就给你们看过。

191
00:08:01,114 --> 00:08:03,648
So here I'm gonna switch this one which is plain
我要把这个换成普通的

192
00:08:03,716 --> 00:08:05,182
over to grouped.
分组。

193
00:08:05,251 --> 00:08:07,352
So I'm just picking grouped in the style there,
所以我只是按照这里的样式进行分组，

194
00:08:07,421 --> 00:08:08,619
in the inspector.
检查员。

195
00:08:08,688 --> 00:08:11,455
Another important attribute is dynamic versus static.
另一个重要的属性是动态与静态。

196
00:08:11,524 --> 00:08:15,259
So dynamic is all the contents are coming from some database.
动态是所有内容都来自于数据库。

197
00:08:15,328 --> 00:08:18,363
And static is, I'm gonna put all the content right here in
我将把所有内容放到这里

198
00:08:18,431 --> 00:08:19,698
the story board, okay?
这个故事,好吗?

199
00:08:19,766 --> 00:08:21,199
So here we'll switch this one over to static.
我们把这个换成静态的。

200
00:08:21,267 --> 00:08:25,570
So this is now a static, grouped table view.
这是一个静态的，分组的表格视图。

201
00:08:25,639 --> 00:08:28,205
And I told you that usually static table views
我讲过静态表格视图

202
00:08:28,274 --> 00:08:31,509
are grouped, and usually only grouped ones are static.
分组，通常只有分组的是静态的。

203
00:08:31,577 --> 00:08:33,011
So usually these kinda go together.
通常这些都是结合在一起的。

204
00:08:33,080 --> 00:08:35,880
They don't have to, they're separate properties, but
它们不需要，它们是分开的属性，但是

205
00:08:35,949 --> 00:08:37,682
they generally go together.
他们通常一起去。

206
00:08:37,750 --> 00:08:41,051
Now the UI for these rows, most of the time you're
这些行的UI，大部分时间都是这样

207
00:08:41,120 --> 00:08:43,921
just going to build by dragging UI in.
通过拖动UI来构建。

208
00:08:43,990 --> 00:08:47,759
So here I'm just dragging the label in here, and you know,
我把标签拖到这里，

209
00:08:47,827 --> 00:08:51,429
maybe I'll change the name of the label, dragging the UI
也许我会改变标签的名称，拖拽UI

210
00:08:51,498 --> 00:08:55,199
switch in there, cuz I want to set up some settings.
切换到这里，因为我想设置一些设置。

211
00:08:55,268 --> 00:08:58,569
Often times, by the way, this thing is used for settings and
通常情况下，这个东西是用来设置的

212
00:08:58,638 --> 00:08:59,737
things like that.
类似这样的事情。

213
00:08:59,806 --> 00:09:03,008
And then if I want to talk to these switches and
如果我想和这些开关对话

214
00:09:03,076 --> 00:09:06,410
labels that I brought in there, I'm actually gonna
我带来的标签，我将会

215
00:09:06,479 --> 00:09:09,581
create outlets to my UITableViewController.
为我的UITableViewController创建outlet。

216
00:09:09,649 --> 00:09:12,383
And since what's in this table is fixed for
因为这张桌子上的东西是固定的

217
00:09:12,452 --> 00:09:14,485
all time in the storyboard.
所有时间都在故事板中。

218
00:09:14,554 --> 00:09:15,954
I'm building it in a storyboard,
我在故事板中构建它，

219
00:09:16,022 --> 00:09:17,122
that's perfectly fine.
就很好了。

220
00:09:17,190 --> 00:09:20,191
So I would just Ctrl + drag from them to my controller,
我将Ctrl +拖动到控制器中，

221
00:09:20,260 --> 00:09:23,061
which will work, and then I can create an outlet for
这是可行的，然后我可以创建一个outlet for

222
00:09:23,130 --> 00:09:25,730
example, my feature enabled switch outlet and
例如，我的功能启用了开关插座

223
00:09:25,799 --> 00:09:27,798
it'll create an outlet here.
它会在这里创建一个outlet。

224
00:09:27,867 --> 00:09:29,134
And then in my code and my controller,
然后在我的代码和控制器中，

225
00:09:29,202 --> 00:09:31,969
I can obviously do whatever I want to that switch.
我可以做任何我想做的事情。

226
00:09:32,038 --> 00:09:35,573
So, it's almost like when you have a static table view, it's
它就像你有一个静态表格视图

227
00:09:35,642 --> 00:09:38,843
almost just like a normal view that you would build UI in.
就像一般的视图一样，你可以创建UI。

228
00:09:38,911 --> 00:09:40,845
It's just that it's divided into these rows.
只是它被分成了这些行。

229
00:09:40,913 --> 00:09:42,914
Which is nice for something like settings, right?
这对设置来说很好，对吧?

230
00:09:42,983 --> 00:09:45,549
If you think about the settings app, right,
如果你想想设置app，对吧，

231
00:09:45,618 --> 00:09:46,817
on your phone.
在你的手机上。

232
00:09:46,886 --> 00:09:50,355
It's got a lot of UI that's kind of in rows right, and
它有很多UI，在行右边

233
00:09:50,423 --> 00:09:51,356
in tables.
在表中。

234
00:09:51,424 --> 00:09:53,958
So, if you really wanna see how static table view works,
如果你想看看静态表格视图是如何工作的，

235
00:09:54,027 --> 00:09:56,493
get your phone out, go to the general settings app and
把你的手机拿出来，去通用设置应用程序

236
00:09:56,562 --> 00:09:57,662
just look around in there.
随便看看。

237
00:09:57,731 --> 00:10:01,232
That is table view after table view after table view where
这是表视图之后的表格视图

238
00:10:01,300 --> 00:10:04,769
the rows are static built in some storyboard somewhere by
这些行是静态构建在某个故事板中的某个地方

239
00:10:04,838 --> 00:10:05,736
Apple.
苹果。

240
00:10:05,805 --> 00:10:11,075
All right, so that's pretty much it for static table.
这差不多就是静态表格的内容了。

241
00:10:11,144 --> 00:10:12,776
These are pretty straightforward to do.
这些都很简单。

242
00:10:12,845 --> 00:10:14,712
So I'm gonna clear this UI out of here,
我要把这个UI清除掉，

243
00:10:14,780 --> 00:10:17,649
this featured enabled out of there, then we're gonna talk
这个功能被激活了，然后我们会讨论

244
00:10:17,717 --> 00:10:21,252
about a different kind of table view, which is dynamic.
关于另一种表视图，它是动态的。

245
00:10:21,321 --> 00:10:24,555
So a dynamic table view, you set it here by picking dynamic
一个动态表格视图，你可以通过选择动态来设置它

246
00:10:24,624 --> 00:10:27,992
property, prototypes, rather, there instead of static cells,
属性，原型，而不是静态单元，

247
00:10:28,060 --> 00:10:30,694
really is a totally different kind of animal, and
真的是一种完全不同的动物，而且

248
00:10:30,763 --> 00:10:33,798
I'm gonna switch back to plain style because usually dynamic
我要切换回普通样式，因为通常是动态的

249
00:10:33,867 --> 00:10:35,700
tables are plain style.
表是简单的风格。

250
00:10:35,769 --> 00:10:39,003
These rows now instead of being something you're
这些行现在不是你的

251
00:10:39,071 --> 00:10:40,338
gonna build the UI and
来构建UI

252
00:10:40,406 --> 00:10:43,274
they're static, instead they're prototypes.
它们是静态的，而不是原型。

253
00:10:43,343 --> 00:10:46,043
They're things that are gonna be copied for every row.
它们是每一行都要复制的东西。

254
00:10:46,112 --> 00:10:48,813
So whatever UI you would build in one of these rows.
所以无论你在其中一个行中构建什么UI。

255
00:10:48,882 --> 00:10:50,381
And you can build customize UI,
你可以建立自定义UI，

256
00:10:50,450 --> 00:10:52,116
like we saw with the static one.
就像我们看到的静态的。

257
00:10:52,185 --> 00:10:54,518
It's gonna be copied for every single row.
它会被复制到每一行。

258
00:10:54,587 --> 00:10:55,419
So these are prototypes.
这是原型。

259
00:10:55,488 --> 00:10:56,721
You see what I mean by prototype?
你明白我所说的原型吗?

260
00:10:56,790 --> 00:10:58,923
It's like a template that's gonna be copied over and
它就像一个模板，复制过来

261
00:10:58,992 --> 00:11:02,460
over and over to make your table.
一遍又一遍地做你的桌子。

262
00:11:02,529 --> 00:11:05,162
So that's a really different kind of
所以这是一个非常不同的类型

263
00:11:05,231 --> 00:11:06,197
way of looking at things.
看待事物的方式。

264
00:11:06,266 --> 00:11:08,232
Because this data that's gonna go into these rows is
因为这些数据会进入这些行

265
00:11:08,301 --> 00:11:10,969
coming from some database somewhere probably and
可能来自某个数据库

266
00:11:11,037 --> 00:11:12,403
filling out all this information.
填写所有这些信息。

267
00:11:12,472 --> 00:11:14,204
So it's a little more complicated to build
所以建造起来有点复杂

268
00:11:14,273 --> 00:11:16,641
a table like this, but not a lot more.
像这样的桌子，但不是很多。

269
00:11:16,709 --> 00:11:19,977
So you can click on any one of the cells and
你可以点击任何一个单元格

270
00:11:20,046 --> 00:11:21,612
you can inspect it, right?
你可以检查一下，对吧?

271
00:11:21,681 --> 00:11:22,947
The prototypes that you want.
你想要的原型。

272
00:11:23,016 --> 00:11:26,250
For example you could change its type from being custom
例如，您可以更改它的类型自定义

273
00:11:26,319 --> 00:11:27,651
to being subtitle.
副标题。

274
00:11:27,720 --> 00:11:29,854
All right, so here's what a subtitle cell looks like.
好了，这就是一个subtitle cell的样子。

275
00:11:29,923 --> 00:11:31,956
Remember I showed you in the very second slide,
记得我在第二张幻灯片中给你们看的，

276
00:11:32,024 --> 00:11:34,391
it's one of the pre-canned types.
它是预定型的类型之一。

277
00:11:34,460 --> 00:11:35,693
And it just has, you know,
它只是，你知道，

278
00:11:35,762 --> 00:11:38,463
a text field, like a little smaller text field.
文本字段，像小一点的文本字段。

279
00:11:38,531 --> 00:11:40,698
So that's a subtitle.
这是一个副标题。

280
00:11:40,767 --> 00:11:43,535
You can also set with accessory there,
你也可以在那里设置附件，

281
00:11:43,603 --> 00:11:45,536
a little thing that can appear on the right.
右边会出现一些小东西。

282
00:11:45,604 --> 00:11:48,506
It could be a little check mark that you turn on and off.
它可以是一个你打开和关闭的检查标志。

283
00:11:48,575 --> 00:11:49,873
It could be a disclosure indicator,
它可能是一个信息披露指标，

284
00:11:49,942 --> 00:11:52,544
which you want to put there if clicking on this row is going
如果点击这一行，你想把它放在哪里

285
00:11:52,612 --> 00:11:53,845
to segue.
segue。

286
00:11:53,913 --> 00:11:56,514
Okay, that little disclosure indicator is just a little,
好吧，这个小小的披露指标只是一点点，

287
00:11:56,583 --> 00:11:58,716
kind of gray arrow thing that lets the user know,
一种灰色的箭头让用户知道，

288
00:11:58,785 --> 00:12:00,918
hey if I click on this row, it's going to segue.
如果我点击这一行，它就会segue。

289
00:12:00,987 --> 00:12:05,423
There's also kind of a special one called detail disclosure.
还有一种特殊的叫做细节披露。

290
00:12:05,492 --> 00:12:06,857
And the detail disclosure looks like this,
细节披露是这样的，

291
00:12:06,926 --> 00:12:08,292
it's a little "i" in a circle.
这是一个圆圈里的小“i”。

292
00:12:08,361 --> 00:12:10,662
And what's really cool about that is you can segue by
很酷的一点是你可以通过segue

293
00:12:10,730 --> 00:12:13,898
clicking on the row, but if you click on the little blue
点击这一行，但如果你点击蓝色的小图标

294
00:12:13,967 --> 00:12:16,066
I, it does a different segue.
我，它有一个不同的segue。

295
00:12:16,135 --> 00:12:18,169
Okay, so you kind of have your row doing two different
好了，你可以做两种不同的行

296
00:12:18,238 --> 00:12:20,438
segues, depending on whether they touch on the little i or
segue，取决于它们是接触到这个小的i还是

297
00:12:20,506 --> 00:12:21,573
touch somewhere else.
联系别的地方。

298
00:12:21,641 --> 00:12:24,308
You see the little gray arrow next to the i?
你看到我旁边的小灰箭了吗?

299
00:12:24,377 --> 00:12:26,277
That's the disclosure indicator.
这就是信息披露指标。

300
00:12:26,346 --> 00:12:28,579
So if I click on this row, it's going to segue.
如果我点击这一行，它就会segue。

301
00:12:28,648 --> 00:12:29,914
If I click on the little i,
如果我点击这个小的I，

302
00:12:29,982 --> 00:12:32,350
it's gonna do some different segue.
它会做一些不同的segue。

303
00:12:32,418 --> 00:12:34,818
Maybe bring up some modal panel with some information or
也许会带一些信息或者是一些模式

304
00:12:34,887 --> 00:12:36,287
something like that.
就像这样。

305
00:12:36,355 --> 00:12:39,423
We'll talk about how that works in a second.
我们一会儿会谈到它是如何工作的。

306
00:12:39,492 --> 00:12:41,225
All right, so I'm gonna go back to non-details,
好了，回到非细节部分，

307
00:12:41,293 --> 00:12:43,327
go ahead and get rid of that thing.
去把那个东西删掉。

308
00:12:43,396 --> 00:12:45,997
But another style besides the four pre-canned
但另一种风格除了四种预装

309
00:12:46,066 --> 00:12:48,433
ones I talked about in the beginning of this lecture
我在这节课开始的时候讲过

310
00:12:48,502 --> 00:12:49,834
that you can pick is custom.
你可以选择的是习惯。

311
00:12:49,902 --> 00:12:53,438
So custom means that, that's just a UIView,
所以自定义意味着，这只是一个UIView，

312
00:12:53,506 --> 00:12:55,606
that you can build any UI you want.
你可以构建任何你想要的UI。

313
00:12:55,675 --> 00:12:57,842
Again similar to that feature-enabled
类似于功能特性

314
00:12:57,911 --> 00:12:59,911
with the switch that I showed.
用我刚才展示的开关。

315
00:12:59,979 --> 00:13:01,779
But again, this UI is going to get copied over and
但同样，这个UI会被复制过来

316
00:13:01,848 --> 00:13:05,550
over and over for
一遍又一遍的

317
00:13:05,618 --> 00:13:07,785
Notice, by the way, there are multiple prototypes.
注意，顺便说一下，有多个原型。

318
00:13:07,854 --> 00:13:10,421
That means you can have different setups of UI
这意味着您可以有不同的UI设置

319
00:13:10,489 --> 00:13:13,123
that you could use for different rows, okay?
你可以使用不同的行?

320
00:13:13,192 --> 00:13:15,493
And we're gonna name each of these prototypes so
我们要给每一个原型命名

321
00:13:15,562 --> 00:13:18,229
that in our code, we can pick which prototype we want for
在我们的代码中，我们可以选择我们想要的原型

322
00:13:18,298 --> 00:13:18,996
a certain row.
一定行。

323
00:13:19,065 --> 00:13:20,632
It will copy that prototype.
它会复制原型。

324
00:13:21,868 --> 00:13:26,237
Now, these custom cells, you can resize them.
现在，这些自定义单元格，可以调整大小。

325
00:13:26,306 --> 00:13:30,508
You can drag stuff into them, build UI you want.
你可以把东西拖进去，你想要的UI。

326
00:13:30,577 --> 00:13:32,376
Here, I've built this complicated UI with text
这里，我用文本构建了这个复杂的UI

327
00:13:32,445 --> 00:13:33,511
fields and an image.
字段和一个图像。

328
00:13:33,580 --> 00:13:36,214
This is very similar to a UI that I'm gonna build in
这和我要构建的UI非常类似

329
00:13:36,282 --> 00:13:38,483
All right, now when you build this UI you're gonna want
当你创建这个UI时，你需要

330
00:13:38,484 --> 00:13:40,685
the demo.
这个演示。

331
00:13:40,753 --> 00:13:42,519
to use proper layout.
使用适当的布局。

332
00:13:42,588 --> 00:13:45,589
So stack views and hooking it to the edges just like you did
就像你一样，把视图叠加到边缘

333
00:13:45,658 --> 00:13:48,259
with the calculator or even stuff on the inside.
用计算器或者内部的东西。

334
00:13:48,328 --> 00:13:49,827
I'll show you a little bit of that today,
我今天会给你们展示一点，

335
00:13:49,896 --> 00:13:51,228
a little more auto layout.
多一点自动布局。

336
00:13:51,297 --> 00:13:54,431
Because if you do that, then the table view will be able to
因为如果你这样做，表格视图就能

337
00:13:54,500 --> 00:13:58,436
figure out the size this thing needs to be dynamically.
计算出这个东西需要动态的大小。

338
00:13:58,505 --> 00:14:00,171
Okay, if you don't do the right auto layout then you
如果你不做正确的自动布局

339
00:14:00,240 --> 00:14:02,273
kind of just have to fix the height of the rows, and
只需要修改行的高度

340
00:14:02,341 --> 00:14:05,109
I'm going to talk about that in a minute as well.
我一会儿也会讲到这个。

341
00:14:05,178 --> 00:14:07,144
So generally you want to do auto layout properly
一般来说，你想要正确的自动布局

342
00:14:07,213 --> 00:14:08,445
in there if you can.
如果可以的话，在那里。

343
00:14:08,514 --> 00:14:11,348
Now ther's no way I could wire up these
我不可能把它们连接起来

344
00:14:11,417 --> 00:14:13,184
elements directly to my controller.
元素直接到我的控制器。

345
00:14:13,252 --> 00:14:14,451
Do you see why?
你知道为什么吗?

346
00:14:14,520 --> 00:14:18,222
Because ther's only one outlet in my controller for
因为在我的控制器中，这里只有一个outlet

347
00:14:18,291 --> 00:14:19,757
one of these labels.
这些标签之一。

348
00:14:19,826 --> 00:14:21,492
But there are hundreds of rows.
但有数百行。

349
00:14:21,561 --> 00:14:22,794
So how is my one outlet gonna?
那么我的一个出口会怎样呢?

350
00:14:22,862 --> 00:14:25,997
It can't be hooked up to 100 at once, okay.
它不能一次连接到100，好的。

351
00:14:26,066 --> 00:14:28,566
But I still need outlets because how am I gonna
但我仍然需要媒体，因为我要怎么做

352
00:14:28,635 --> 00:14:29,834
set these things?
设置这些东西?

353
00:14:29,903 --> 00:14:30,968
All right, and so
好吧,所以

354
00:14:31,037 --> 00:14:33,538
the way we're gonna deal with that is we're gonna wire these
我们要处理的方法是把这些线连接起来

355
00:14:33,606 --> 00:14:37,474
things up to outlets in the UITableViewCell.
到UITableViewCell中的outlet。

356
00:14:37,543 --> 00:14:40,645
The UIView that contains them.
包含它们的UIView。

357
00:14:40,714 --> 00:14:42,780
So I told you that this cell is a UIView,
我告诉你这个单元格是一个UIView，

358
00:14:42,848 --> 00:14:46,050
a UITableViewCell, and it contains all of these things,
一个UITableViewCell，它包含所有这些东西，

359
00:14:46,119 --> 00:14:47,485
these labels and stuff.
这些标签等等。

360
00:14:47,554 --> 00:14:48,753
So, we're gonna have outlets in that.
因此，我们会有outlet。

361
00:14:48,821 --> 00:14:50,488
Now this is the first time you've ever seen
这是你第一次看到

362
00:14:50,556 --> 00:14:53,390
outlet in anything but a controller and pretty much
除了控制器和几乎所有的插座

363
00:14:53,459 --> 00:14:55,493
this is the only other time you're gonna have outlets.
这是你唯一的其他时间。

364
00:14:55,561 --> 00:14:57,795
You can't have outlets in a regular view, but
你不能在常规视图中有outlet，但是

365
00:14:57,863 --> 00:15:01,699
you can have outlets in these special table view cells.
您可以在这些特殊的表视图单元格中有outlet。

366
00:15:01,767 --> 00:15:04,569
All right, so let's see a little bit of how that works.
好的，让我们来看看它是如何工作的。

367
00:15:04,637 --> 00:15:07,238
So, one thing, if you're gonna have outlets,
有一件事，如果你有outlet，

368
00:15:07,306 --> 00:15:09,974
you know you're gonna need to have subclass, right?
你知道你需要有子类，对吧?

369
00:15:10,043 --> 00:15:12,476
Just like you have a controller, you can't use
就像你有一个控制器，你不能使用

370
00:15:12,545 --> 00:15:15,812
a generic UIViewController, can't put any outlets in that;
一个通用的UIViewController，不能在其中放置任何outlet;

371
00:15:15,881 --> 00:15:19,050
you have to subclass it so you can wire out, same thing here.
你必须把它子类化，这样你就可以把它连接起来，就像这里一样。

372
00:15:19,118 --> 00:15:21,419
You're gonna have to make a custom subclass,
你需要创建一个自定义子类，

373
00:15:21,488 --> 00:15:22,686
a UITableViewCell.
UITableViewCell。

374
00:15:22,755 --> 00:15:24,288
You do that with New File.
你用新文件来做。

375
00:15:24,357 --> 00:15:27,058
It is still a Cocoa Touch Class, but here you're going
它仍然是一个Cocoa触摸类，但在这里

376
00:15:27,127 --> 00:15:29,459
to choose UITableViewCell as the super class,
选择UITableViewCell作为超类，

377
00:15:29,528 --> 00:15:31,028
not UITableViewController.
不是UITableViewController。

378
00:15:31,096 --> 00:15:32,830
UITableViewCell.
UITableViewCell。

379
00:15:32,899 --> 00:15:36,400
And again UITableViewCell is a subclass of UIView also,
UITableViewCell也是UIView的一个子类，

380
00:15:36,469 --> 00:15:37,619
All right, so you're going to pick a UITableViewCell,
好了，你要选择一个UITableViewCell，

381
00:15:37,620 --> 00:15:38,770
by the way.
顺便说一下。

382
00:15:38,838 --> 00:15:41,605
call it something like MyTableViewCell or whatever.
就像MyTableViewCell之类的。

383
00:15:41,674 --> 00:15:43,841
And then you're gonna do the exact same thing where you're
然后你会做同样的事情

384
00:15:43,910 --> 00:15:45,409
gonna have that cell selected.
会选择这个单元格。

385
00:15:45,478 --> 00:15:47,478
And you're gonna go to the identity inspector.
你要去找身份检查官。

386
00:15:47,547 --> 00:15:49,614
And you're gonna change it from being a generic
你要把它变成一般的

387
00:15:49,683 --> 00:15:51,882
UITableViewCell to being MyTableViewCell.
UITableViewCell MyTableViewCell。

388
00:15:51,951 --> 00:15:54,585
And this is gonna allow you to create outlets
这将允许你创建outlet

389
00:15:54,654 --> 00:15:57,922
In MyTableViewCell to these things that are contained
在MyTableViewCell中包含这些内容

390
00:15:57,991 --> 00:15:59,990
inside MyTableViewCell.
MyTableViewCell内部。

391
00:16:00,059 --> 00:16:02,092
Okay, so now we can wire them up.
现在我们可以把它们连接起来。

392
00:16:02,161 --> 00:16:04,696
So remember that static elements,
记住，静态元素，

393
00:16:04,764 --> 00:16:06,630
those things I showed you at the beginning,
我刚开始给你们看的那些东西，

394
00:16:06,699 --> 00:16:08,533
those are wired up to the controller.
这些都连接到控制器。

395
00:16:08,601 --> 00:16:11,468
Dynamic elements, where we have these prototypes,
动态元素，我们有这些原型，

396
00:16:11,537 --> 00:16:15,205
those are wired up to the TableViewCell outlets.
这些被连接到TableViewCell outlet。

397
00:16:15,274 --> 00:16:18,009
So what does it look like to wire them up?
把它们连接起来会是什么样子呢?

398
00:16:18,077 --> 00:16:20,244
I'm gonna have to do the same thing with the controller
我要对控制器做同样的事情

399
00:16:20,313 --> 00:16:23,781
where I'm gonna get the UI and the code on screen
我要在屏幕上得到UI和代码

400
00:16:23,849 --> 00:16:25,349
at the same time with the assistant editor.
与助理编辑在同一时间。

401
00:16:25,418 --> 00:16:29,153
By the way, when you do that, if you're in automatic mode,
顺便说一下，如果你在自动模式下，

402
00:16:29,221 --> 00:16:30,388
there, see where it says automatic?
看到了吗，自动的?

403
00:16:30,457 --> 00:16:31,722
It's pointing at automatic.
它是指向自动。

404
00:16:31,791 --> 00:16:34,992
It's not going to bring up the UITableViewCell, even if you
它不会打开UITableViewCell，即使你

405
00:16:35,061 --> 00:16:37,261
have the TableViewCell selected in the UI.
在UI中选择TableViewCell。

406
00:16:37,330 --> 00:16:39,696
It's still gonna bring up the controller, okay?
它还是会弹出控制器?

407
00:16:39,765 --> 00:16:42,566
So if you want to wire up outlets to a TableViewCell,
如果你想把outlet到TableViewCell，

408
00:16:42,635 --> 00:16:44,034
you have to manually or
你必须手动或

409
00:16:44,103 --> 00:16:46,670
forcibly get that TableViewCell- not
强制获取TableViewCell——不是

410
00:16:46,739 --> 00:16:49,840
the TableViewController- TableViewCell, on this side.
TableViewCell，在这边。

411
00:16:49,908 --> 00:16:53,044
So one way you can do it is by switching from Automatic
一种方法是，从自动开始

412
00:16:53,112 --> 00:16:56,146
to Manual and then navigating over to finding your
手动，然后导航到找到你的

413
00:16:56,215 --> 00:16:58,649
TableViewCell.swift class, right?
TableViewCell。斯威夫特类,对吧?

414
00:16:58,718 --> 00:17:00,017
And then choosing that.
然后选择。

415
00:17:00,086 --> 00:17:01,052
And now you're in manual mode,
现在你处于手动模式，

416
00:17:01,121 --> 00:17:02,620
you've got the TableViewCell on the right, and
右边是TableViewCell

417
00:17:02,689 --> 00:17:03,987
you've got your storyboard on the left.
你的故事板在左边。

418
00:17:04,056 --> 00:17:05,656
So, now you can Ctrl+drag, right?
现在可以Ctrl +拖动，对吧?

419
00:17:05,725 --> 00:17:06,991
You just need to be able to Ctrl+drag
你只需要能够Ctrl +拖动

420
00:17:07,060 --> 00:17:08,091
between them is the problem.
问题就在他们之间。

421
00:17:08,160 --> 00:17:10,094
So you gotta have them both on screen.
所以你要把它们都放在屏幕上。

422
00:17:10,163 --> 00:17:11,828
All right, so then, once I have them on screen,
好的，一旦我把它们放到屏幕上，

423
00:17:11,897 --> 00:17:14,965
I Ctrl+drag, just absolutely normally.
Ctrl +拖动，非常正常。

424
00:17:15,034 --> 00:17:17,167
And it's gonna do all the things that an outlet does,
它会做所有outlet做的事情，

425
00:17:17,236 --> 00:17:18,870
it's gonna ask me, an outlet or action.
它会问我，一个出口或动作。

426
00:17:18,938 --> 00:17:20,337
By the way, you can do outlet or action here.
顺便说一下，你可以在这里做出口或动作。

427
00:17:20,406 --> 00:17:21,371
And it's gonna ask.
会问。

428
00:17:21,440 --> 00:17:24,141
So here, I've picked that photo, the blue thing.
这里，我选了这张照片，蓝色的。

429
00:17:24,210 --> 00:17:26,043
Let's say it's a photo.
假设这是一张照片。

430
00:17:26,112 --> 00:17:28,112
And I'm calling this my photoImageView.
这是我的photoImageView。

431
00:17:28,181 --> 00:17:30,081
And it creates an outlet here.
它在这里创建一个outlet。

432
00:17:30,149 --> 00:17:31,782
Okay, so that's great.
好了,这很好。

433
00:17:31,851 --> 00:17:35,152
Now this TableViewCell code can talk to that photo.
现在这个TableViewCell代码可以与这张照片对话。

434
00:17:35,221 --> 00:17:38,055
The ImageView could for example set the image or
例如，ImageView可以设置图像或

435
00:17:38,123 --> 00:17:39,122
whatever.
无论什么。

436
00:17:39,191 --> 00:17:42,360
But of course it needs to know what information to put
但当然，它需要知道要输入什么信息

437
00:17:42,428 --> 00:17:44,829
in that photo for that row, right?
在这张照片里，对吧?

438
00:17:44,898 --> 00:17:47,765
This thing is gonna be repeated 100 times, and
这个东西会重复100次

439
00:17:47,834 --> 00:17:51,068
each one needs to know what its row's photo is.
每个人都需要知道它的row的照片是什么。

440
00:17:51,136 --> 00:17:54,472
So you're also gonna need some public API on your
所以你也需要一些公共API

441
00:17:54,540 --> 00:17:58,376
TableViewCell which gives it the data it needs to fill up
TableViewCell，它需要填充数据

442
00:17:58,444 --> 00:17:59,643
all its outlets.
所有的媒体。

443
00:17:59,712 --> 00:18:02,246
Okay, so you're gonna have some var, which I've
你会得到一些var

444
00:18:02,315 --> 00:18:06,183
called infoShownByThisCell, could be of any type you want.
这个单元名为infoshownbythis cell，可以是任何你想要的类型。

445
00:18:06,252 --> 00:18:09,319
And somebody is gonna set it, you'll see soon who sets it.
有人会设置它，你很快就会看到谁设置了它。

446
00:18:09,388 --> 00:18:11,822
And once it sets it, now we can update the UI and
一旦设置好了，我们就可以更新UI了

447
00:18:11,891 --> 00:18:15,026
put all this information into the outlets.
把所有这些信息都放进出口。

448
00:18:15,094 --> 00:18:18,028
Okay, so this is how the information at each row in
这就是每一行的信息

449
00:18:18,097 --> 00:18:21,098
the table is going to be put into these UI elements.
表将被放入这些UI元素中。

450
00:18:21,167 --> 00:18:23,067
You all following me so far?
你们都跟上我了吗?

451
00:18:24,804 --> 00:18:28,305
All right, let's talk about these two protocols,
好了，我们来谈谈这两个协议，

452
00:18:28,374 --> 00:18:31,142
the dataSource and the delegate, okay.
数据源和委托，好的。

453
00:18:31,210 --> 00:18:33,277
They're critical to making UITableView work.
它们对于进行UITableView的工作至关重要。

454
00:18:33,346 --> 00:18:35,980
UITableView is a class that literally cannot function
UITableView是一个不能正常工作的类

455
00:18:36,049 --> 00:18:37,915
without its dataSource and delegate.
没有数据源和委托。

456
00:18:37,983 --> 00:18:40,650
It's not really like split view controller where, eh, you
它不像分视图控制器，呃，你

457
00:18:40,719 --> 00:18:43,454
don't have to do anything with a delegate if you don't want,
如果你不想，就不必和委托做任何事情，

458
00:18:43,523 --> 00:18:44,388
it'll still work.
它仍然会工作。

459
00:18:44,457 --> 00:18:46,022
This, you really have to do it.
这，你真的必须这么做。

460
00:18:46,091 --> 00:18:47,157
Especially the dataSource.
尤其是数据源。

461
00:18:47,226 --> 00:18:49,059
If you don't give it a dataSource, the only
如果你不给它一个数据源，唯一的

462
00:18:49,128 --> 00:18:51,262
way a table view would work without its delegate and
如果没有它的委托，表视图就可以工作

463
00:18:51,330 --> 00:18:53,597
dataSource is if it were purely static table.
数据源是纯静态表。

464
00:18:53,666 --> 00:18:55,833
Like the table that had the feature enabled with
就像启用了特性的表一样

465
00:18:55,902 --> 00:18:56,467
the switch.
开关。

466
00:18:56,535 --> 00:18:58,435
That you could deal without the dataSource.
你可以在没有数据源的情况下进行处理。

467
00:18:58,504 --> 00:19:00,771
But otherwise, if it's providing dynamic data,
但如果它提供动态数据，

468
00:19:00,840 --> 00:19:01,806
obviously it needs the data.
显然它需要数据。

469
00:19:01,874 --> 00:19:03,574
And the only way it can get data is
它能得到数据的唯一方法是

470
00:19:03,643 --> 00:19:05,042
through its dataSource.
通过它的数据源。

471
00:19:05,111 --> 00:19:07,745
So, as I already told you, UITableViewController
正如我已经告诉你的，UITableViewController

472
00:19:07,813 --> 00:19:10,848
automatically sets itself as its delegate and dataSource.
自动将自己设置为它的委托和数据源。

473
00:19:10,916 --> 00:19:13,284
So you can just put your code for these delegate methods
你可以把你的代码放到这些委托方法中

474
00:19:13,352 --> 00:19:15,953
right in your subclass of UITableViewController, right.
在UITableViewController的子类中，对。

475
00:19:16,021 --> 00:19:21,858
MyTableViewController, or whatever, and put it in there.
MyTableViewController，把它放在这里。

476
00:19:21,927 --> 00:19:25,596
Also, there's a cool var in TableViewController called
另外，TableViewController里有一个很酷的var

477
00:19:25,665 --> 00:19:29,633
tableView, which is basically gonna return self.view, but
tableView，它会返回self。观点,但

478
00:19:29,702 --> 00:19:31,034
as a UITableView.
UITableView。

479
00:19:31,103 --> 00:19:34,171
And that way you can talk to the UITableView that your
这样你就可以和UITableView对话了

480
00:19:34,240 --> 00:19:36,740
UITableViewController is controlling.
UITableViewController控制。

481
00:19:36,809 --> 00:19:39,343
So when do we need to implement the dataSource?
那么，何时需要实现数据源呢?

482
00:19:39,412 --> 00:19:41,812
Anytime we have dynamic data, non-static.
只要我们有动态数据，非静态数据。

483
00:19:41,881 --> 00:19:44,748
There are three really important methods in this
这里有三个非常重要的方法

484
00:19:44,817 --> 00:19:46,467
One is, how many sections are in my table?
一个是，表格中有多少个section ?

485
00:19:46,468 --> 00:19:48,118
protocol.
协议。

486
00:19:48,187 --> 00:19:49,654
Could be one section if the whole thing is just
如果整件事都是公正的，可以是一段吗

487
00:19:49,722 --> 00:19:50,221
a bunch of rows.
一群行。

488
00:19:50,289 --> 00:19:51,521
How many sections, and
有多少部分,和

489
00:19:51,590 --> 00:19:53,691
then how many rows are in each section?
每个section中有多少行?

490
00:19:53,759 --> 00:19:55,359
You're gonna be asked one by one.
你会被一个一个问。

491
00:19:55,428 --> 00:19:56,326
How many rows in this section?
这一节有多少行?

492
00:19:56,395 --> 00:19:57,995
How many rows in this section? How many are in this section?
这一节有多少行?这一节有多少?

493
00:19:58,064 --> 00:20:00,231
So it knows how many rows are in every section.
它知道每个section中有多少行。

494
00:20:00,300 --> 00:20:03,200
And then most importantly, give me one of those
最重要的是，给我一个

495
00:20:03,268 --> 00:20:06,103
UITableViewCells to draw this row.
uitableviewcell来绘制这一行。

496
00:20:06,172 --> 00:20:09,339
Okay, so for each row that the TableView wants to draw,
对于TableView想要绘制的每一行，

497
00:20:09,408 --> 00:20:11,675
i's going to ask you, okay, give me a UITableViewCell now,
我要问你，给我一个UITableViewCell，

498
00:20:11,744 --> 00:20:14,011
cuz I'm going to draw this row.
因为我要画这一行。

499
00:20:14,080 --> 00:20:14,978
Okay, so that's how it works,
好的，这就是它的工作原理，

500
00:20:15,047 --> 00:20:16,714
that's fundamentally how this works.
这就是它的基本原理。

501
00:20:16,782 --> 00:20:19,717
Now, all these methods are in the UITableViewDataSource
现在，所有这些方法都在UITableViewDataSource中

502
00:20:19,785 --> 00:20:20,884
protocol.
协议。

503
00:20:20,953 --> 00:20:23,420
So let's look at the last one, the give me a UITableViewCell,
让我们看最后一个，给我一个UITableViewCell，

504
00:20:23,489 --> 00:20:24,755
cuz it's the most complicated.
因为这是最复杂的。

505
00:20:24,824 --> 00:20:27,158
The other ones are super, super simple.
其他的超级简单。

506
00:20:27,226 --> 00:20:30,894
So the way that you are going to give a UITableViewCell
你要给UITableViewCell的方法

507
00:20:30,963 --> 00:20:34,965
back to the TableView when it's time to draw a certain
回到TableView时，应该画一个

508
00:20:35,034 --> 00:20:37,367
row is by a method being called.
row是被调用的方法。

509
00:20:37,436 --> 00:20:39,770
Now, you might be worried here, it's like woah,
现在，你可能会担心，就像woah，

510
00:20:39,839 --> 00:20:43,173
I'm gonna have this big UI with all these labels and
我要把这个大UI和所有这些标签

511
00:20:43,242 --> 00:20:47,477
image views in it, and I have, what if I have 100,000 rows?
图像视图，如果我有10万行呢?

512
00:20:47,546 --> 00:20:48,846
I'm going to make 100,000 views.
我将会有10万次视图。

513
00:20:48,915 --> 00:20:52,115
Surely that's going to be terrible performance.
这肯定会很糟糕。

514
00:20:52,184 --> 00:20:54,451
And in fact, that would be terrible performance, okay.
事实上，这将是糟糕的表现。

515
00:20:54,520 --> 00:20:55,353
Views are not cheap.
观点是不便宜的。

516
00:20:56,655 --> 00:20:59,957
But no worries, because all your UITableViewCells,
但不用担心，因为所有uitableviewcell，

517
00:21:00,025 --> 00:21:03,861
these UIViews that draw the rows, they're reused.
这些UIViews绘制行，它们被重用。

518
00:21:03,930 --> 00:21:06,897
So only the visible ones have UITableViewCells.
只有可见的有uitableviewcell。

519
00:21:06,966 --> 00:21:09,900
As you scroll around, the ones that scroll off the top
当你滚动的时候，滚动到顶部的

520
00:21:09,969 --> 00:21:13,770
get picked up and put around and used on the bottom, okay?
拿起，放在底部，好吗?

521
00:21:13,839 --> 00:21:16,340
And the new data keeps getting pumped into them.
新的数据不断被注入。

522
00:21:16,409 --> 00:21:17,474
Do you see what I'm saying?
你明白我的意思吗?

523
00:21:17,543 --> 00:21:18,876
So those cells, only the,
这些细胞，

524
00:21:18,945 --> 00:21:20,845
maybe the ones on the screen plus two or
也许屏幕上的是+ 2

525
00:21:20,913 --> 00:21:23,547
three on either side are actually getting created.
两边的三个实际上是被创造出来的。

526
00:21:23,616 --> 00:21:24,815
They're just getting reused.
他们只是得到重用。

527
00:21:24,884 --> 00:21:26,884
As you scroll up and down, they keep getting reused.
当你上下滚动时，它们会不断重复使用。

528
00:21:28,754 --> 00:21:30,287
Now, the thing about that reuse,
关于重用，

529
00:21:30,356 --> 00:21:31,422
I want you to be very careful of.
我要你小心点。

530
00:21:31,490 --> 00:21:32,255
I put it in red.
我把它涂成红色。

531
00:21:32,324 --> 00:21:34,191
When I put it in red, you know that means wake up and
当我把它涂成红色的时候，你知道这意味着醒来

532
00:21:34,260 --> 00:21:36,427
watch out, cuz your homework.
小心点，你的作业。

533
00:21:36,496 --> 00:21:38,795
When you're doing multithreaded things,
当你做多线程的时候，

534
00:21:38,864 --> 00:21:39,530
you've got to be careful,
你要小心，

535
00:21:39,599 --> 00:21:42,366
because by the time you come back from something you asked
因为当你从你问的问题回来的时候

536
00:21:42,435 --> 00:21:47,471
to do on another thread, your cell might be reused, okay.
要在另一个线程上执行，您的单元格可能会被重用。

537
00:21:47,540 --> 00:21:49,773
And so you've got to be prepared for that.
所以你必须为此做好准备。

538
00:21:49,842 --> 00:21:52,609
You gotta understand whether you're still the cell you
你必须明白你是否仍然是你的细胞

539
00:21:52,678 --> 00:21:55,346
thought you were when you sent something off to go in
以为你是在送东西进去的时候

540
00:21:55,414 --> 00:21:56,646
another thread.
另一个线程。

541
00:21:56,715 --> 00:21:58,715
Okay, so I'm warning you.
好吧，我警告你。

542
00:21:58,784 --> 00:22:01,518
So what does this method look like that the UITableView is
这个方法看起来像UITableView

543
00:22:01,587 --> 00:22:03,954
gonna send to its data source to say,
发送到它的数据源说，

544
00:22:04,023 --> 00:22:05,355
give me a UITableViewCell?
给我一个UITableViewCell ?

545
00:22:05,424 --> 00:22:08,425
It's called cellForRowAt indexPath.
它被称为cellForRowAt indexPath。

546
00:22:08,494 --> 00:22:09,827
You see it right there.
就在这里。

547
00:22:09,895 --> 00:22:11,094
That's its signature.
这是它的签名。

548
00:22:11,163 --> 00:22:14,165
It really only has that one argument, indexPath.
它只有一个参数，indexPath。

549
00:22:14,233 --> 00:22:16,700
The indexPath is just a little container of
indexPath只是一个小容器

550
00:22:16,769 --> 00:22:18,469
the section and row.
的部分和行。

551
00:22:18,537 --> 00:22:20,704
You could imagine this is even called cellForRowAt
你可以想象这个被称为cellForRowAt

552
00:22:20,772 --> 00:22:21,505
section and row.
部分和行。

553
00:22:21,573 --> 00:22:23,974
But it just puts them in one argument called
但它只是把它们放在一个叫做

554
00:22:24,043 --> 00:22:25,275
an indexPath, okay.
一个indexPath,好吧。

555
00:22:25,344 --> 00:22:27,577
And then all you return is a UITableViewCell.
然后返回的是UITableViewCell。

556
00:22:27,646 --> 00:22:30,047
And it's gonna use that UITableViewCell to draw
它将使用UITableViewCell来绘制

557
00:22:30,115 --> 00:22:31,048
that row.
这一行。

558
00:22:31,117 --> 00:22:33,651
So it really couldn't be a simpler API.
所以它真的不可能是一个简单的API。

559
00:22:33,719 --> 00:22:36,687
It's at the heart of exactly what it's asking you to do.
这是它要求你做的事情的核心。

560
00:22:36,756 --> 00:22:38,555
Now, what are you gonna do inside this method?
现在，你要在这个方法里做什么?

561
00:22:38,624 --> 00:22:41,859
Well, first you're going to have to get the data from your
首先，你需要从你的数据中获取数据

562
00:22:41,928 --> 00:22:44,628
model that you want to show in that row.
你想要在这一行显示的模型。

563
00:22:45,732 --> 00:22:46,463
Okay.
好吧。

564
00:22:46,532 --> 00:22:47,998
And you can do this any way you want.
你可以任意选择。

565
00:22:48,066 --> 00:22:50,234
I have a very convenient data structure here called
我这里有一个非常方便的数据结构

566
00:22:50,302 --> 00:22:52,569
myInternalDataStructure that happens to be divided
myInternalDataStructure，恰好被分割

567
00:22:52,637 --> 00:22:54,038
in sections and rows.
在部分和行。

568
00:22:54,107 --> 00:22:55,639
So I can just index into it.
所以我可以把它标出来。

569
00:22:55,708 --> 00:22:57,508
But you might have a different data structure.
但你可能有不同的数据结构。

570
00:22:57,576 --> 00:22:59,543
But you've gotta take the section and row so
但你得把这部分和行写出来

571
00:22:59,611 --> 00:23:01,912
that you know which row you're talking about, and
你知道你在说哪行，和

572
00:23:01,981 --> 00:23:03,347
get the data out of your model.
从模型中获取数据。

573
00:23:03,416 --> 00:23:04,949
Maybe you're doing a database query.
也许你正在做一个数据库查询。

574
00:23:05,017 --> 00:23:07,685
Maybe you're even doing a network query in another
也许你甚至在另一个网站上做一个网络查询

575
00:23:07,753 --> 00:23:10,921
thread and it's gonna return and fill this out, whatever.
线程，它会返回并把它填满。

576
00:23:10,989 --> 00:23:12,889
You need to figure out how to get your data.
你需要弄清楚如何得到你的数据。

577
00:23:12,958 --> 00:23:15,959
Now, once you have your data, you're gonna create a cell.
现在，一旦你有了数据，你就会创建一个单元格。

578
00:23:16,028 --> 00:23:17,328
I'm gonna show you how to do that in a second.
我马上就会告诉你们怎么做。

579
00:23:17,396 --> 00:23:19,029
And then you're just gonna load up that cell
然后把这个单元格加载起来

580
00:23:19,098 --> 00:23:19,764
with the data.
与数据。

581
00:23:21,200 --> 00:23:23,733
So let's talk about how we create that cell and
我们来讨论一下如何创建这个单元格

582
00:23:23,802 --> 00:23:24,902
So I'm gonna take this little piece of code, and
我要把这段代码写出来

583
00:23:24,903 --> 00:23:26,003
load it up.
负载。

584
00:23:26,072 --> 00:23:28,605
I'm gonna keep it on screen while I go back to showing you
我要把它放在屏幕上，当我回去给你们看的时候

585
00:23:28,674 --> 00:23:31,408
what's happening in the UI here.
UI中发生了什么。

586
00:23:31,477 --> 00:23:37,147
So first let's talk about a cell that's not a custom cell.
首先，我们来讨论一个单元格不是自定义单元格。

587
00:23:37,216 --> 00:23:38,648
It's just a regular cell like subtitle.
它只是一个普通的单元格，如副标题。

588
00:23:38,717 --> 00:23:40,450
You see subtitle up there?
上面有副标题吗?

589
00:23:40,519 --> 00:23:43,687
Okay, so we're gonna use this method here called
我们将使用这个方法

590
00:23:43,756 --> 00:23:47,925
dequeueReusableCell(withIdent- ifier: for: indexPath).
dequeueReusableCell(withIdent - ify::indexPath)。

591
00:23:47,993 --> 00:23:50,461
And that's just gonna return us a UITableViewCell.
这将返回一个UITableViewCell。

592
00:23:50,530 --> 00:23:53,630
Now, again, this is a reused UITableViewCell.
再一次，这是一个重复使用的UITableViewCell。

593
00:23:53,699 --> 00:23:57,468
Okay, being reused,
好吧,被重用,

594
00:23:57,536 --> 00:24:01,438
now if this cell, if there's not enough been created yet,
如果这个单元格还没有创建，

595
00:24:01,507 --> 00:24:03,573
then it will create one based on your prototype.
然后它会根据你的原型创建一个。

596
00:24:03,642 --> 00:24:05,776
Whatever your prototype you pick in there.
不管你的原型是什么。

597
00:24:05,845 --> 00:24:08,979
And you pick which prototype with this string,
然后你选择了这个字符串的原型，

598
00:24:09,047 --> 00:24:10,281
the identifier string
标识符的字符串

599
00:24:10,349 --> 00:24:13,650
which you set in the inspector for the cell.
你把它设置为单元格的检查器。

600
00:24:13,719 --> 00:24:15,652
So, it's just in there, it's called identifier,
它就在这里，叫做标识符，

601
00:24:15,721 --> 00:24:18,489
the utilities inspector on the right is inspecting that cell,
右边的水电费检查员正在检查那间牢房，

602
00:24:18,558 --> 00:24:20,424
that top cell that says title, subtitle,
顶部单元格表示标题，副标题，

603
00:24:20,492 --> 00:24:21,258
it's inspecting that.
这是检查。

604
00:24:21,326 --> 00:24:23,761
And I'm just setting the identifier of my cell, so
我只是设置了单元格的标识符

605
00:24:23,829 --> 00:24:26,596
now in my code when I say, dequeueReuseableCellwithIdent-
现在在我的代码当我说,dequeueReuseableCellwithIdent -

606
00:24:26,665 --> 00:24:30,634
ifier of MyCell, it's gonna make a copy of that prototype.
MyCell的ifier，它会复制这个原型。

607
00:24:31,737 --> 00:24:33,303
Unless there's some to be reused,
除非有一些可以重复使用，

608
00:24:33,372 --> 00:24:34,638
then it'll just reuse them.
然后它就会重新使用它们。

609
00:24:34,706 --> 00:24:36,339
But until it gets enough to reuse,
但在它得到足够的重用之前，

610
00:24:36,408 --> 00:24:37,273
it uses that prototype and
它使用了原型和

611
00:24:37,342 --> 00:24:39,043
just makes copies of it as necessary.
只是在必要时复制它。

612
00:24:40,479 --> 00:24:43,680
Now, this is a non-custom cell, so
这是一个非自定义单元格

613
00:24:43,749 --> 00:24:46,149
the only, well there's a few fields you can set.
唯一的，嗯，你可以设置一些字段。

614
00:24:46,218 --> 00:24:50,787
You can go look at the API for UITableViewCell to find out.
您可以查看UITableViewCell的API来了解它。

615
00:24:50,856 --> 00:24:54,325
But the cell, set those two pieces of text, title and
但是单元格，设置了这两个文本，标题和

616
00:24:54,393 --> 00:24:55,258
subtitle there.
副标题。

617
00:24:55,327 --> 00:24:58,362
You just, you use textlabel.text and
你只需要使用textlabel。文本和

618
00:24:58,430 --> 00:25:00,530
detailtextlabel.text.
detailtextlabel.text。

619
00:25:00,599 --> 00:25:02,399
Those are optional, so they could be nil,
这些是可选的，所以它们可以是nil，

620
00:25:02,468 --> 00:25:04,134
because if there's a custom cell, for
因为如果有自定义单元格

621
00:25:04,203 --> 00:25:05,469
example, it might be nil.
例如，它可能是nil。

622
00:25:06,606 --> 00:25:08,472
So anyway that's it, you just set those,
不管怎么说，你只要设置这些，

623
00:25:08,541 --> 00:25:09,673
those are just UILabels.
这些只是uilabel。

624
00:25:09,742 --> 00:25:12,842
And so you just set the text, it couldn't be easier.
所以你只要设置文本，就不容易了。

625
00:25:12,911 --> 00:25:13,710
And that's true for
这是真的

626
00:25:13,779 --> 00:25:16,279
all the pre-canned ones, you're gonna set these.
所有的pre -罐装的，你都要设置这些。

627
00:25:16,348 --> 00:25:18,849
There is actually, I can show it, but there's an image also,
实际上，我可以展示它，但也有一个图像，

628
00:25:18,918 --> 00:25:22,419
that you can set, a little image in the cell.
你可以在单元格里设置一个小图像。

629
00:25:22,488 --> 00:25:23,920
And that's also in the pre-canned ones,
这也是在前罐装的，

630
00:25:23,989 --> 00:25:25,889
so you could do that as well, okay?
你也可以这么做?

631
00:25:25,957 --> 00:25:28,125
So that's it, that's just simple,
就是这样，很简单，

632
00:25:28,194 --> 00:25:30,761
that's all you need to do to provide your data
这就是提供数据所需的全部内容

633
00:25:30,829 --> 00:25:33,764
to the TableViewCell is just dequeue one of these cells.
对于TableViewCell，它只是dequeue，其中一个单元格。

634
00:25:33,832 --> 00:25:35,599
Just load it up and return it, and
只要把它装上然后放回去

635
00:25:35,668 --> 00:25:38,868
now the tableView will use that to draw.
现在tableView会用它来画。

636
00:25:38,937 --> 00:25:41,838
But let's talk about a custom cell, so
我们来讨论一下自定义单元格

637
00:25:41,907 --> 00:25:43,974
now I'm talking about the second row down.
现在我说的是第二排。

638
00:25:44,042 --> 00:25:45,342
And look at its type,
看看它的类型，

639
00:25:45,410 --> 00:25:48,278
it's custom- it's not subtitle- it's custom.
这是习俗，不是副标题，而是习俗。

640
00:25:48,346 --> 00:25:50,647
Little different for a custom cell.
对于一个自定义单元来说，几乎没有什么不同。

641
00:25:50,716 --> 00:25:53,383
You're still gonna do dequeueReusableCellwithIdenti-
你仍然要做dequeueReusableCellwithIdenti -

642
00:25:53,452 --> 00:25:54,751
fier for index path, okay?
索引路径的人?

643
00:25:54,820 --> 00:25:57,688
But of course you're going to use a different identifier,
当然，你要用一个不同的标识符，

644
00:25:57,756 --> 00:26:00,524
cuz now I'm talking about the second cell down which I'm
因为我说的是第二个细胞

645
00:26:00,593 --> 00:26:01,758
calling my custom cell.
叫我的自定义单元格。

646
00:26:01,827 --> 00:26:06,029
Now here there's no title and subtitle in that second row.
在第二行中没有标题和副标题。

647
00:26:06,098 --> 00:26:08,298
Presumably there's that image and
大概是这样的

648
00:26:08,366 --> 00:26:10,868
the thing under text under it and text on the side.
它下面的文字和旁边的文字。

649
00:26:10,937 --> 00:26:12,735
All the things, whatever your UI switch,
所有的东西，不管你的UI开关是什么，

650
00:26:12,804 --> 00:26:15,138
whatever you built in this custom cell.
无论你在这个自定义单元格中构建了什么。

651
00:26:15,207 --> 00:26:18,274
And all that stuff has got outlets hooked up to
所有这些东西都被连接起来

652
00:26:18,343 --> 00:26:21,879
the UITableViewCell containing it, remember all that we did?
UITableViewCell包含它，记得我们做过的吗?

653
00:26:21,947 --> 00:26:25,549
So you need to just pass the data to that UITableViewCell
所以你需要把数据传递给UITableViewCell

654
00:26:25,618 --> 00:26:28,752
and it's responsible for loading up all the UI.
它负责加载所有UI。

655
00:26:28,821 --> 00:26:30,153
Now how do you do that?
怎么做呢?

656
00:26:30,222 --> 00:26:31,955
First thing you need to do is take that dequeued
你需要做的第一件事就是排队

657
00:26:32,023 --> 00:26:36,126
thing that came back, which is of type UITableViewCell.
返回的是UITableViewCell的类型。

658
00:26:36,195 --> 00:26:38,895
And cast it with "as" to be of
用“as”来表示

659
00:26:38,964 --> 00:26:41,765
the type of your subclass of UITableViewCell.
UITableViewCell的子类的类型。

660
00:26:41,834 --> 00:26:44,000
Otherwise you won't be able to call any of this API.
否则你就不能调用这个API。

661
00:26:44,069 --> 00:26:47,871
Okay, so you're just gonna do, if I can let this cell equal
好，如果我能让这个单元格等于

662
00:26:47,940 --> 00:26:50,574
the dequeued thing as MyTableViewCell.
de排队的东西是MyTableViewCell。

663
00:26:50,642 --> 00:26:54,444
Then I'm going to talk to MyTableViewCell using its API
然后我将使用它的API与MyTableViewCell对话

664
00:26:54,513 --> 00:26:58,148
and set, for example, infoShownByThisCell to be
并设置，例如，infoshownbythis cell

665
00:26:58,217 --> 00:27:01,084
the data that's app that section in row.
这是应用程序的数据。

666
00:27:01,153 --> 00:27:04,087
Okay, so to go back to the code I was showing before,
回到我刚才展示的代码，

667
00:27:04,156 --> 00:27:07,191
that info shown by the cell is that var right there.
这个由细胞显示的信息就是这个var。

668
00:27:08,928 --> 00:27:11,628
The var that I made public in MyTableViewCell.
我在MyTableViewCell中公开的var。

669
00:27:11,697 --> 00:27:14,331
And then it's gonna update UI and set all of its outlets and
然后它会更新UI并设置所有的outlet和

670
00:27:14,400 --> 00:27:14,931
all of that.
所有这些。

671
00:27:15,000 --> 00:27:16,933
Okay, so that's it, that how it works.
好了，这就是它的工作原理。

672
00:27:17,002 --> 00:27:19,236
Those are the two cases, the kind of pre-canned one and
这是两种情况，一种是预灌装的

673
00:27:19,304 --> 00:27:21,271
the custom one.
自定义一个。

674
00:27:21,339 --> 00:27:23,540
They're almost identical, you're still dequeuing cells,
它们几乎是一样的，你仍然在排长，

675
00:27:23,609 --> 00:27:26,676
you just set the data a little bit differently.
你只是把数据设置得有点不同。

676
00:27:26,745 --> 00:27:32,149
Okay, the data source also has to know how many sections and
好的，数据源还需要知道有多少分段

677
00:27:32,218 --> 00:27:32,815
rows.
行。

678
00:27:32,884 --> 00:27:33,650
It's really simple,
这很简单,

679
00:27:33,719 --> 00:27:35,919
there's a method called numberOfSections in tableView.
tableView中有一种方法叫做numberofsection。

680
00:27:35,988 --> 00:27:37,287
And that's going to return int,
它会返回int，

681
00:27:37,356 --> 00:27:38,788
how many sections there are.
有多少节。

682
00:27:38,857 --> 00:27:39,989
By the way that one is optional;
顺便说一下，这个是可选的;

683
00:27:40,058 --> 00:27:41,558
you don't have to implement that one.
你不需要执行那个。

684
00:27:41,626 --> 00:27:43,927
If you don't, it will assume there's one section,
如果你没有，它会假设有一个部分，

685
00:27:43,996 --> 00:27:46,629
that all the rows are in this one big section.
所有的行都在这个大的section中。

686
00:27:46,698 --> 00:27:49,466
The other one though, which is numberOfRowsInSection where it
另一个是，它是numberOfRowsInSection

687
00:27:49,535 --> 00:27:50,900
passes you a section number, and
给你一个section号码，然后

688
00:27:50,969 --> 00:27:53,003
you have to say how many rows are in the section.
你必须说出section中有多少行。

689
00:27:53,071 --> 00:27:54,171
That is not optional,
这不是可选的,

690
00:27:54,239 --> 00:27:57,140
that is mandatory, and you must answer this question for
这是强制性的，你必须回答这个问题

691
00:27:57,208 --> 00:27:59,976
every single section that you claim that your table has
你声称你的表的每一个部分都有

692
00:28:00,045 --> 00:28:03,513
with numberOfSections in table, okay?
表格中有numberofsection ?

693
00:28:03,581 --> 00:28:06,450
So that's it, that's simple, why does it need to know how
这很简单，为什么需要知道

694
00:28:06,519 --> 00:28:08,751
many rows and all of the sections, by the way?
还有很多行和所有的部分?

695
00:28:08,820 --> 00:28:11,155
Cuz it's a scroll view and it needs to know how big a thing,
因为它是一个滚动视图，它需要知道一个东西有多大，

696
00:28:11,223 --> 00:28:13,457
it needs to set it's content size basically, right?
它需要设置它的内容大小，对吧?

697
00:28:13,525 --> 00:28:15,992
It needs to know how big a thing it's scrolling over, so
它需要知道滚动的东西有多大，所以

698
00:28:16,061 --> 00:28:16,826
it needs to know.
它需要知道。

699
00:28:16,895 --> 00:28:20,296
But it also needs to know when to ask you for the data and
但它也需要知道什么时候向你询问数据

700
00:28:20,365 --> 00:28:23,066
all that, so it's pretty obvious it needs to know that.
所有这些，很明显它需要知道。

701
00:28:23,135 --> 00:28:24,534
In a static table by the way,
在静态表格中，

702
00:28:24,603 --> 00:28:26,102
it's not gonna ask you these questions.
我不会问你这些问题。

703
00:28:26,171 --> 00:28:27,437
So don't even worry about that.
所以不要担心这个。

704
00:28:27,506 --> 00:28:29,906
The static table is fixed in the StoryBoard, so
静态表在故事板中是固定的

705
00:28:29,975 --> 00:28:32,142
it's never asking you for the data.
它从来不要求你提供数据。

706
00:28:32,211 --> 00:28:35,312
So it's never gonna ask you how many rows and sections and
所以它不会问你有多少行和节

707
00:28:35,381 --> 00:28:37,113
all that stuff there is.
所有这些都是。

708
00:28:37,182 --> 00:28:39,849
So the summary is you set the tableView's data source.
总结是，你设置了tableView的数据源。

709
00:28:39,918 --> 00:28:42,219
That's automatic if you're using UITableViewController.
这是自动的，如果你使用UITableViewController。

710
00:28:42,287 --> 00:28:44,888
You implement numberOfSections and numberOfRowsInSection.
您实现numberofsection和numberOfRowsInSection。

711
00:28:44,957 --> 00:28:47,090
And then you implement cellForRowAt.
然后你实现cellForRowAt。

712
00:28:47,159 --> 00:28:48,324
And give back a tableView cell,
然后返回一个tableView单元格，

713
00:28:48,393 --> 00:28:50,527
either a custom subclass if you're doing custom,
任意一个自定义子类，

714
00:28:50,595 --> 00:28:54,431
or just setting the detailed text label and
或者只是设置详细的文本标签

715
00:28:54,499 --> 00:28:57,501
then the normal text label if you're not, question?
如果不是的话，普通的文本标签，问题?

716
00:28:57,570 --> 00:28:59,303
Okay, so the question is, what do I answer for
问题是，我要怎么回答

717
00:28:59,371 --> 00:29:01,972
that number of sections thing if, over time,
如果，随着时间的推移，

718
00:29:02,041 --> 00:29:03,707
my tableView is growing, right?
我的tableView在增长，对吧?

719
00:29:03,775 --> 00:29:05,541
Maybe data is coming in from the network, or
也许数据来自网络，或者

720
00:29:05,610 --> 00:29:08,378
the user is clicking on things that makes more table happen.
用户正在点击使更多表发生的事情。

721
00:29:08,446 --> 00:29:11,948
You can answer it that differently in any time, but
你可以在任何时候以不同的方式回答这个问题

722
00:29:12,017 --> 00:29:15,619
what you're basically saying is, what if my model changes?
你基本上说的是，如果我的模型改变了怎么办?

723
00:29:15,688 --> 00:29:18,455
I need my UI, right, to keep up with it.
我需要我的UI，来跟上它。

724
00:29:18,524 --> 00:29:21,090
If my model gets bigger, then I need more rows.
如果我的模型变大，那么我需要更多的行。

725
00:29:21,159 --> 00:29:23,960
Well, you're gonna see that it's really important to,
你会发现这很重要，

726
00:29:24,029 --> 00:29:25,529
every time your model changes,
每次你的模型改变，

727
00:29:25,598 --> 00:29:27,697
you need to tell the tableView about it.
你需要告诉tableView。

728
00:29:27,766 --> 00:29:28,931
And you're gonna tell it things like
你会告诉它类似的事情

729
00:29:29,000 --> 00:29:30,667
I've added a new section.
我添加了一个新的部分。

730
00:29:30,736 --> 00:29:31,501
And then it will come back and
然后它会回来

731
00:29:31,570 --> 00:29:34,404
ask you all these questions again, all right.
再问你所有这些问题。

732
00:29:34,473 --> 00:29:35,839
So, that's how it works.
这就是它的工作原理。

733
00:29:35,907 --> 00:29:37,907
It might come back and ask you these questions including
它可能会回来问你这些问题，包括

734
00:29:37,976 --> 00:29:40,043
cellForRowAt over and over and over.
cellForRowAt一遍又一遍。

735
00:29:40,112 --> 00:29:42,178
As you tell it that you've changed your model.
当你告诉它你改变了你的模型。

736
00:29:42,247 --> 00:29:44,047
But of course, your model can change over time.
当然，你的模型会随着时间而改变。

737
00:29:46,519 --> 00:29:48,184
By the way, the titles of the sections,
顺便说一下，这些章节的标题，

738
00:29:48,253 --> 00:29:50,153
remember when I showed you the countries and it had Japan and
还记得我指给你们看的国家，还有日本

739
00:29:50,222 --> 00:29:51,220
Mexico as titles.
墨西哥的标题。

740
00:29:51,289 --> 00:29:53,056
Those are considered part of the data.
这些被认为是数据的一部分。

741
00:29:53,125 --> 00:29:56,026
So, those are part of the UITableViewDataSource
这些是UITableViewDataSource的一部分

742
00:29:56,095 --> 00:29:57,193
protocol as well.
协议。

743
00:29:57,262 --> 00:30:01,164
This method title for header or footer in section, and
该方法标题为页眉或页脚，以及

744
00:30:01,232 --> 00:30:02,933
you pass the section number and it gives you the thing.
你通过了section号，它就给你了。

745
00:30:03,002 --> 00:30:06,002
You can also do it with a view, using the delegate.
您还可以使用委托进行视图操作。

746
00:30:06,071 --> 00:30:07,537
But if you want to just do it as a string,
但如果你想把它作为一个字符串来做，

747
00:30:07,606 --> 00:30:09,840
you'd use the data source.
您将使用数据源。

748
00:30:09,909 --> 00:30:11,641
There's a lot of other methods in the protocol.
协议中还有很多其他的方法。

749
00:30:11,710 --> 00:30:12,776
I'm not gonna really talk about them,
我就不讲了，

750
00:30:12,844 --> 00:30:15,278
they have to do with things like deleting rows or
它们与删除行或者

751
00:30:15,347 --> 00:30:18,348
rearranging the rows, things like that.
重新排列行，像这样。

752
00:30:18,416 --> 00:30:20,450
If your model allows those things to happen,
如果你的模型允许这些事情发生，

753
00:30:20,519 --> 00:30:21,484
like things being deleted.
喜欢东西被删除了。

754
00:30:21,553 --> 00:30:23,786
Then you're gonna have to teach yourself this.
那你就得自学这一点。

755
00:30:23,855 --> 00:30:26,089
Most of you will probably end up doing this for
你们中的大多数很可能会这样做

756
00:30:26,158 --> 00:30:27,157
your final project.
你的最终项目。

757
00:30:27,225 --> 00:30:28,692
I'm not gonna ask you to do it in the homework, but
我不会要求你们在作业里做，但是

758
00:30:28,761 --> 00:30:30,093
you'll probably do it for your final project.
你可能会为你的期末项目做这件事。

759
00:30:30,161 --> 00:30:31,360
It's extra credit in the homework,
这是额外的学分，

760
00:30:31,429 --> 00:30:34,130
if you wanna get a head start on that.
如果你想从头开始。

761
00:30:34,199 --> 00:30:36,733
All right let's talk about seguing from a row.
好，我们来讨论一下segue。

762
00:30:36,802 --> 00:30:38,234
So I've got a row there, okay,
这里有一行，

763
00:30:38,303 --> 00:30:41,270
this one actually has a detail disclosure in there as well.
这个实际上也有一个细节信息。

764
00:30:41,339 --> 00:30:44,474
And I wanna segue out of that thing, how do I do that?
我想从这个问题中退出，我该怎么做呢?

765
00:30:45,511 --> 00:30:46,409
Very simple,
很简单,

766
00:30:46,478 --> 00:30:49,179
I do it just like any other segueing from the button.
我就像其他从按钮上segue的segue一样。

767
00:30:49,248 --> 00:30:53,483
I'm just gonna Ctrl+drag from the row to the MVC I want to
我将Ctrl +拖动到我想要的MVC

768
00:30:53,551 --> 00:30:54,318
segue to.
segue。

769
00:30:54,386 --> 00:30:56,386
And it's going to put up this black window.
它会把这个黑色的窗口挂起来。

770
00:30:56,454 --> 00:30:57,187
Now, this black window
现在,这个黑色的窗口

771
00:30:57,256 --> 00:30:58,622
is a little different than other segues.
与其他segue有一点不同。

772
00:30:58,690 --> 00:31:02,459
Because you see it has two sections, Selection Segue and
因为你看到它有两个部分，选择Segue和

773
00:31:02,528 --> 00:31:04,761
Accessory Action, okay?
辅助动作,好吗?

774
00:31:04,830 --> 00:31:07,697
So the Selection Segue is if they click on the row and
选择Segue是如果他们点击行

775
00:31:07,766 --> 00:31:09,099
the Accessory Action is if they click on
附属动作是如果他们点击

776
00:31:09,168 --> 00:31:10,234
the little accessory button.
小附件按钮。

777
00:31:12,303 --> 00:31:16,639
But it's just a normal segue, once you create the segue,
但这只是一个普通的segue，一旦你创建了segue，

778
00:31:16,708 --> 00:31:20,109
you can click on it and inspect it.
你可以点击它并检查它。

779
00:31:20,178 --> 00:31:21,778
Just like any other segue,
和其他segue一样，

780
00:31:21,847 --> 00:31:24,848
you can set its identifier up there to something.
你可以将它的标识符设置为某个东西。

781
00:31:24,917 --> 00:31:26,683
And then you're gonna have prepare for segue.
然后你要准备segue。

782
00:31:26,752 --> 00:31:30,053
So, here I've set the identifier to be AbcSegue.
这里我将标识符设为AbcSegue。

783
00:31:30,122 --> 00:31:32,088
So lets take a look at what prepare for
让我们来看看准备什么

784
00:31:32,157 --> 00:31:35,092
segue looks like when you're doing this kinda segue.
segue看起来就像你在做这个segue的时候。

785
00:31:35,160 --> 00:31:36,893
It looks almost exactly the same,
看起来几乎是一样的，

786
00:31:36,961 --> 00:31:38,761
here I've got a prepare for segue.
这里我有一个prepareforsegue。

787
00:31:38,830 --> 00:31:40,964
I've noticed that the sender there is Any.
我注意到发件人有。

788
00:31:41,033 --> 00:31:43,200
And when you're segueing into tableView,
当你segue到tableView时，

789
00:31:43,269 --> 00:31:45,836
what do you think that Any is gonna be?
你觉得会怎么样?

790
00:31:45,904 --> 00:31:49,272
UITableViewCell, okay, that view that contains the row.
UITableViewCell，好的，这个视图包含行。

791
00:31:49,340 --> 00:31:51,008
So that is going to be the sender.
这就是sender。

792
00:31:52,577 --> 00:31:53,710
Just like a button is the sender
就像一个按钮是发送者

793
00:31:53,779 --> 00:31:55,812
if you click on a button to segue, the row,
如果你点击一个按钮来segue，这一行，

794
00:31:55,881 --> 00:31:58,382
the UITableViewCell, is the sender in that case.
UITableViewCell是这种情况下的sender。

795
00:32:00,085 --> 00:32:01,785
So the first thing you're gonna wanna
所以你要做的第一件事

796
00:32:01,853 --> 00:32:04,554
do is convert the sender to a TableViewCell.
do是将发送者转换为TableViewCell。

797
00:32:04,623 --> 00:32:08,191
And specifically to your subclass or table view cell.
具体到你的子类或表视图单元格。

798
00:32:08,260 --> 00:32:11,327
If you have a custom cell in case you wanna
如果你有一个定制的单元格，以防你想要

799
00:32:11,396 --> 00:32:13,830
do anything that's specific to your TableView cell.
对您的TableView单元格做任何特定的操作。

800
00:32:13,898 --> 00:32:17,534
If not then you can just do it to UITableViewCell.
如果不是这样的话，你可以把它做UITableViewCell。

801
00:32:17,603 --> 00:32:20,570
And then you wanna get the index path of that cell so
然后你想要得到那个单元格的索引路径

802
00:32:20,638 --> 00:32:23,272
that you know what row where you're segueing from.
你知道你在什么地方segue。

803
00:32:23,341 --> 00:32:25,975
Because every row, you can click on it, it will segue.
因为每一行，你可以点击它，它就会segue。

804
00:32:26,044 --> 00:32:27,410
So, you need to know which row.
你需要知道哪一行。

805
00:32:27,479 --> 00:32:31,547
And you do that by
你这样做

806
00:32:31,616 --> 00:32:34,083
And you can't pass any to that, you have to pass
你不能错过任何一个，你必须通过

807
00:32:34,152 --> 00:32:37,754
UITableViewCell or subclass thereof, indexPath(for: cell).
UITableViewCell或其子类，indexPath(for:cell)。

808
00:32:37,823 --> 00:32:39,289
Now, I'm gonna give you one of those index path
现在，我要给你一条索引路径

809
00:32:39,357 --> 00:32:42,492
things remember?
的事情还记得吗?

810
00:32:42,561 --> 00:32:44,660
and row.
和行。

811
00:32:44,729 --> 00:32:48,398
Then, you're gonna get your seguedToMVC as usual.
然后，你会像往常一样得到你的seguedToMVC。

812
00:32:48,467 --> 00:32:53,069
And you're going to prepare your Segue to public API, and
你会准备好Segue到公共API

813
00:32:53,137 --> 00:32:56,739
you're going to do it using the data in your model based
你将使用基于模型的数据

814
00:32:56,808 --> 00:32:59,776
on the section and row that was clicked on.
在被点击的部分和行上。

815
00:33:01,446 --> 00:33:02,812
Got it?
明白了吗?

816
00:33:02,881 --> 00:33:04,614
So pretty easy segue from it.
很容易从它segue。

817
00:33:06,118 --> 00:33:07,750
So yes you're gonna use your public API of your
是的，你会使用你的公共API

818
00:33:07,819 --> 00:33:08,585
segue to MVC.
segue MVC。

819
00:33:09,688 --> 00:33:11,321
What about the table view's delegate?
表视图的委托呢?

820
00:33:11,390 --> 00:33:12,222
We talked about the data
我们讨论了数据

821
00:33:12,290 --> 00:33:13,890
source; what about the table view's delegate?
源;表视图的委托呢?

822
00:33:13,958 --> 00:33:15,592
It's got a kind of a miscellaneous
它有一种杂项

823
00:33:15,660 --> 00:33:18,194
bunch of stuff in there but generally the delegate
里面有很多东西但通常是委托

824
00:33:18,263 --> 00:33:21,030
is talking about how the table view is displayed, and
正在讨论如何显示表视图，以及

825
00:33:21,099 --> 00:33:24,967
the data source is what data is actually in the table.
数据源是表中实际的数据。

826
00:33:25,036 --> 00:33:25,769
Okay so that's the difference.
这就是区别。

827
00:33:25,837 --> 00:33:30,039
So the delegate we're talking about things,
所以我们讨论的委托，

828
00:33:30,108 --> 00:33:31,574
yeah they're usually the same object.
是的，它们通常是同一个物体。

829
00:33:31,643 --> 00:33:36,246
So the delegate also has all the will, did, should things.
因此，委托也有所有的意愿。

830
00:33:36,314 --> 00:33:38,448
That you could watch what's happening in the table view.
可以看到表视图中发生了什么。

831
00:33:38,516 --> 00:33:40,750
This row did get selected, things like that.
这一行确实被选中了，像这样。

832
00:33:40,819 --> 00:33:44,988
For example, here's table view target action, so
例如，这里的表视图目标操作

833
00:33:45,057 --> 00:33:47,356
if when you click on a row, if you don't want a segue, but
如果你点击一行，如果你不想要segue，但是

834
00:33:47,425 --> 00:33:49,859
you just want to be target action like a button,
你只需要像一个按钮那样做目标动作，

835
00:33:49,928 --> 00:33:50,960
well you can't really do that.
你不能这么做。

836
00:33:51,029 --> 00:33:53,163
You can't do target action because a row is not
你不能做目标动作，因为一行不是

837
00:33:53,232 --> 00:33:54,030
a UIButton.
UIButton。

838
00:33:54,099 --> 00:33:56,766
But you can implement this delegate method tableView
但你可以实现这个委托方法tableView

839
00:33:56,835 --> 00:33:58,801
didSelectRowAt indexPath.
didSelectRowAt indexPath。

840
00:33:58,870 --> 00:34:00,736
And when someone touches on that row,
当有人触摸这一行，

841
00:34:00,805 --> 00:34:02,104
this is gonna get called.
这将会被调用。

842
00:34:02,173 --> 00:34:03,506
So, it's just like target action right.
这就像目标行为。

843
00:34:03,575 --> 00:34:05,542
It told you what happened.
它告诉你发生了什么。

844
00:34:05,610 --> 00:34:08,211
So, now you can look at the index path row in section to
现在你可以看一下section中的索引路径行

845
00:34:08,280 --> 00:34:11,681
know which row was selected so we call that target action.
知道选择哪一行，所以我们称之为目标动作。

846
00:34:11,750 --> 00:34:13,550
You did the same thing with that detail
你对这个细节做了同样的事情

847
00:34:13,618 --> 00:34:14,551
disclosure by the way.
信息披露。

848
00:34:14,619 --> 00:34:17,119
So I'm gonna click on the detail disclosure we're gonna
我要点击我们要讲的细节信息

849
00:34:17,188 --> 00:34:18,889
get this method in your delegate called
在您的委托中调用该方法

850
00:34:18,957 --> 00:34:22,058
accessoryButtonTappedForRow- With indexPath.
accessoryButtonTappedForRow——indexPath。

851
00:34:22,127 --> 00:34:23,560
Okay, so now you know which row is that.
现在你知道哪一行了。

852
00:34:23,628 --> 00:34:26,162
So when things are clicked on, you can use segue or
当你点击的时候，你可以使用segue

853
00:34:26,230 --> 00:34:28,898
you can use these to find out things were clicked on and
你可以用这些来发现被点击的东西

854
00:34:28,966 --> 00:34:29,699
do whatever you want.
做任何你想要的。

855
00:34:31,136 --> 00:34:33,135
So yeah, a lot of wills and dids and all those things.
所以，是的，很多遗嘱，dids和所有这些东西。

856
00:34:33,204 --> 00:34:35,137
You can look at the documentation for
您可以查看文档

857
00:34:35,206 --> 00:34:37,340
UITableViewDelegate.
UITableViewDelegate。

858
00:34:37,408 --> 00:34:39,142
Now back to what this guy was asking before.
回到这个问题之前。

859
00:34:39,210 --> 00:34:40,710
What happens if my model changes?
如果我的模型改变了会发生什么?

860
00:34:40,778 --> 00:34:41,444
It gets bigger?
它变大吗?

861
00:34:41,512 --> 00:34:43,279
Or even gets smaller or whatever?
或者变得更小?

862
00:34:43,348 --> 00:34:45,949
One thing you can do that's kind of a hammer is
有一件事你可以做，那就是锤子

863
00:34:46,018 --> 00:34:47,850
reloadData.
reloadData。

864
00:34:47,919 --> 00:34:50,286
If you go reloadData on your table view it's going to call
如果你将reloadData放在你的表视图上它会调用

865
00:34:50,355 --> 00:34:51,988
all of your data source methods again.
所有的数据源方法。

866
00:34:52,056 --> 00:34:54,257
How many sections you got, how many rows in each section?
你有多少个section，每个section中有多少行?

867
00:34:54,325 --> 00:34:56,158
Give me a cell for every single visible row.
给每一个可见的行给我一个单元格。

868
00:34:56,227 --> 00:34:56,759
You see what I mean?
你明白我的意思吗?

869
00:34:56,828 --> 00:34:58,695
It's going to do the whole thing all over again.
它将会从头再做一遍。

870
00:34:58,763 --> 00:35:01,230
It's kind of a hammer because if you know that you only
这有点像锤子，因为如果你只知道你

871
00:35:01,299 --> 00:35:03,599
changed one section okay?
改变一段好吗?

872
00:35:03,668 --> 00:35:06,169
Then you can call something like reloadRows (at
然后您可以调用reloadRows(at)

873
00:35:06,237 --> 00:35:07,403
indexPaths...).
indexPaths……)。

874
00:35:07,472 --> 00:35:09,939
And indexPaths would tell the sections and rows.
索引路径会告诉各部分和行。

875
00:35:10,008 --> 00:35:11,474
With some animation.
一些动画。

876
00:35:11,543 --> 00:35:14,677
And animations can be like fade in or
动画也可以像褪色一样

877
00:35:14,746 --> 00:35:17,614
slide from the bottom or things like that.
从底部滑动。

878
00:35:17,683 --> 00:35:19,349
So there are lighter weight ones you can call.
所以重量更轻。

879
00:35:19,417 --> 00:35:20,716
And I'm actually gonna show you in the demo,
我将在demo中展示给大家，

880
00:35:20,785 --> 00:35:23,720
we're gonna call one where we're just gonna tell
我们把它叫做，我们要告诉它的地方

881
00:35:23,788 --> 00:35:26,122
the table view that we inserted a section and
我们插入一个部分和

882
00:35:26,191 --> 00:35:28,657
it's going to immediately just ask me
它马上就会问我

883
00:35:28,726 --> 00:35:32,294
the data source message about that section and nothing else.
关于该部分的数据源消息和其他内容。

884
00:35:32,363 --> 00:35:35,531
So you do need to tell the table view
所以需要告诉表视图

885
00:35:35,600 --> 00:35:37,667
every time you change your model.
每次你改变你的模型。

886
00:35:37,736 --> 00:35:38,601
If you change your model in
如果你改变模型

887
00:35:38,670 --> 00:35:41,404
any way that would change the number of sections and rows.
任何可以改变section和行的数目的方法。

888
00:35:41,473 --> 00:35:42,672
Or even the display of a row,
甚至是一行的显示，

889
00:35:42,741 --> 00:35:44,708
you need to tell the table view.
您需要告诉表视图。

890
00:35:44,776 --> 00:35:46,242
So, just always think about that when you're
所以，当你在做的时候，总是想一下

891
00:35:46,311 --> 00:35:47,210
writing table view code.
写表格视图代码。

892
00:35:47,279 --> 00:35:49,679
Change my model, tell the table view.
更改我的模型，告诉表视图。

893
00:35:49,748 --> 00:35:50,379
Right away.
马上。

894
00:35:50,448 --> 00:35:52,215
You want to tell the table view right away.
您需要立即告诉表视图。

895
00:35:52,283 --> 00:35:54,684
And change your model first, then change your table view.
首先改变你的模型，然后改变你的表格视图。

896
00:35:54,753 --> 00:35:55,852
Because when you tell your table view
因为当你告诉你的表格视图

897
00:35:55,920 --> 00:35:58,588
things have changed, it's gonna go back and ask you, so
事情发生了变化，它会回去问你

898
00:35:58,656 --> 00:36:00,357
for IndexPath, number of sections,
对于IndexPath，分段数，

899
00:36:00,425 --> 00:36:02,725
it'll ask you those questions, some of them again.
它会问你这些问题，一些问题。

900
00:36:02,794 --> 00:36:04,593
So make sure your models are already changed and
所以要确保你的模型已经改变了

901
00:36:04,662 --> 00:36:06,996
ready to answer those questions.
准备好回答这些问题。

902
00:36:07,065 --> 00:36:08,932
Le's talk about the height of rows.
我们来讨论一下行的高度。

903
00:36:10,501 --> 00:36:11,334
The height of the row
的高度

904
00:36:11,403 --> 00:36:13,702
generally set in the Storyboard.
通常在故事板中设置。

905
00:36:13,771 --> 00:36:17,373
So you could resize it and set it and tha's what it is but
你可以调整它的大小并设置它，但是

906
00:36:17,442 --> 00:36:20,110
you can also ask the delegate.
你也可以问代表。

907
00:36:20,178 --> 00:36:22,845
You can also implement a method in the delegate and
您还可以在委托中实现方法

908
00:36:22,914 --> 00:36:25,915
it'll ask the delegate, what height should this row be?
它会问委托，这一行的高度是多少?

909
00:36:25,984 --> 00:36:28,784
This might be very useful in your homework, by the way.
顺便说一下，这可能对你的家庭作业很有用。

910
00:36:28,853 --> 00:36:31,688
But this is for when you have
但这是当你拥有的时候

911
00:36:31,757 --> 00:36:34,991
the rows that change height in some calculated way.
以某种计算方式改变高度的行。

912
00:36:36,228 --> 00:36:37,393
Maybe you have an image in there, and
也许你在里面有一个图像

913
00:36:37,462 --> 00:36:41,097
it's got different aspect ratios, for example.
例如，它有不同的方面比率。

914
00:36:41,165 --> 00:36:43,266
And so it's different heights sometimes, whatever.
所以有时会有不同的高度。

915
00:36:43,335 --> 00:36:44,901
So you can answer it this way.
所以你可以这样回答。

916
00:36:46,304 --> 00:36:48,304
Of course, the other way you can control the height
当然，另一种方法是控制高度

917
00:36:48,373 --> 00:36:50,440
is by doing auto layout, and
是通过自动布局吗

918
00:36:50,509 --> 00:36:53,443
setting your height to be automatic dimension.
设定高度为自动尺寸。

919
00:36:53,512 --> 00:36:56,780
If you set your height to be UITableViewAutomaticDimension,
如果你设置你的身高UITableViewAutomaticDimension,

920
00:36:56,848 --> 00:37:00,450
that means go figure it out from the auto layout please.
这意味着你得从自动布局中找出答案。

921
00:37:00,518 --> 00:37:02,051
So those are the three was you can set the height.
这三个就是你可以设置高度。

922
00:37:02,120 --> 00:37:05,554
Set it fixed in the story board, answer this delegate
把它固定在故事板上，回答这个委托

923
00:37:05,623 --> 00:37:07,657
method here, heightForRowAt indexPath,
方法在这里,heightForRowAt indexPath,

924
00:37:07,726 --> 00:37:10,092
or set it to the automatic dimension.
或者将其设置为自动维度。

925
00:37:10,161 --> 00:37:13,863
If you do the automatic ways then you also probably want to
如果你用自动的方法，那么你也可能想要

926
00:37:13,932 --> 00:37:16,232
set the estimated row height.
设置估计的行高度。

927
00:37:16,301 --> 00:37:19,302
That just tells the table view calculate from auto layout but
这只是告诉表视图从自动布局计算

928
00:37:19,370 --> 00:37:22,238
for all those cells the 100,000 cells that aren't
对所有这些细胞来说，10万个细胞不是

929
00:37:22,306 --> 00:37:26,075
on screen please don't do auto layout for 100,000 cells.
在屏幕上，请不要为100,000个单元的自动布局。

930
00:37:26,144 --> 00:37:28,711
Just estimate them to be about this and as they start to come
只要估计一下他们的情况，就在他们开始的时候

931
00:37:28,780 --> 00:37:30,846
on screen then it's gonna do the auto layout and
在屏幕上，它会自动布局

932
00:37:30,915 --> 00:37:33,749
pick the exact right height okay.
选择正确的高度。

933
00:37:33,818 --> 00:37:35,118
So that's why you need to estimate.
这就是你需要估算的原因。

934
00:37:35,186 --> 00:37:36,419
And there's also a delicate method,
还有一种微妙的方法，

935
00:37:36,488 --> 00:37:39,856
estimated height per row at whatever.
估计每一行的高度。

936
00:37:39,924 --> 00:37:42,892
So there's dozens of methods also, in table view itself.
在表视图中也有很多方法。

937
00:37:42,961 --> 00:37:45,795
Not in its delegates, but in table view itself.
不是在它的委托中，而是在表视图本身。

938
00:37:45,864 --> 00:37:48,597
You can scroll to a row cuz it's a scroll view.
你可以滚动到一行，因为它是一个滚动视图。

939
00:37:48,666 --> 00:37:49,632
It knows how to do scrolling.
它知道如何滚动。

940
00:37:49,701 --> 00:37:53,002
You can control the look, the separators between rows.
你可以控制看，行之间的分隔符。

941
00:37:53,071 --> 00:37:54,003
All those kind of things.
诸如此类的事情。

942
00:37:54,071 --> 00:37:56,406
So you're definitely want to familiarize yourself
所以你肯定想要熟悉自己

943
00:37:56,475 --> 00:37:58,708
with the table view API itself.
使用表视图API本身。

944
00:37:58,777 --> 00:37:59,508
Don't forget about that.
不要忘记这一点。

945
00:37:59,577 --> 00:38:02,478
All right, so I'm not coming back to this slide.
好了，我不会再回到幻灯片上了。

946
00:38:02,547 --> 00:38:04,881
So just give you a quick coming up here.
所以给你们一个快速的来到这里。

947
00:38:04,949 --> 00:38:06,382
We have collection view on Friday.
我们周五有收集视图。

948
00:38:06,451 --> 00:38:08,551
So collection view is very similar to table view,
集合视图和表格视图非常相似，

949
00:38:08,620 --> 00:38:11,454
but the layout doesn't have to be in a strict table.
但是布局并不一定要在严格的表中。

950
00:38:11,522 --> 00:38:13,689
It can be kind of laid out any way you want.
它可以是你想要的任何方式。

951
00:38:13,758 --> 00:38:15,691
But it's the same kind of thing where there's data and
但这和数据是一样的

952
00:38:15,760 --> 00:38:18,561
it's gonna ask you how many sections there, how many row,
它会问你有多少个section，有多少行，

953
00:38:18,629 --> 00:38:21,430
not rows but items in that section, then it's gonna have
不是行，而是这个部分的项，然后它就有了

954
00:38:21,499 --> 00:38:23,633
this little extra mechanism for doing a lay out.
这个额外的作用机制。

955
00:38:23,702 --> 00:38:24,601
So it's really awesome.
这真是太棒了。

956
00:38:24,669 --> 00:38:26,836
I'd love to have time to teach it in lecture not in
我很想有时间在课堂上教它

957
00:38:26,905 --> 00:38:29,438
the optional section but I've got so much to teach in this
可选的部分，但我有很多东西要教

958
00:38:29,507 --> 00:38:32,142
course and you really need to understand TableView first,
当然，你需要先理解TableView，

959
00:38:32,210 --> 00:38:34,210
which is a little simpler, before you can move onto
在你继续之前，这有一点简单吗

960
00:38:34,279 --> 00:38:36,379
CollectionView- but really don't miss Friday.
收集视图-但实际上不要错过星期五。

961
00:38:36,448 --> 00:38:40,282
It will be a good way to really it much more powerful
这将是一个很好的方法，让它更强大

962
00:38:40,351 --> 00:38:42,719
kind of data presentation UI.
一种数据演示UI。

963
00:38:42,787 --> 00:38:45,221
And then next week we gonna talk about Core Data,
下周我们要讲Core Data，

964
00:38:45,289 --> 00:38:47,756
which is the object-oriented database in iOS,
这是iOS中面向对象的数据库，

965
00:38:47,825 --> 00:38:49,959
really powerful mechanism.
真正强大的机制。

966
00:38:50,028 --> 00:38:52,995
Right now, I'm gonna be doing a big demo that shows
现在，我要做一个大的演示

967
00:38:53,064 --> 00:38:54,730
how to do all this TableView stuff and
如何处理这些TableView呢

968
00:38:54,799 --> 00:38:56,999
also TextField and some other things.
还有TextField和其他一些东西。

969
00:38:57,068 --> 00:38:58,634
And your Assignment 4 is out,
作业4已经出来了，

970
00:38:58,703 --> 00:39:01,537
and it's due in one week, on Wednesday and it's
这是在周三，周三

971
00:39:01,606 --> 00:39:05,241
basically to take what I do today and build a better one.
基本上就是拿我今天做的，做一个更好的。

972
00:39:05,310 --> 00:39:07,343
More feature-full.
更多的feature-full。

973
00:39:07,412 --> 00:39:08,210
So that's why you
这就是为什么你

974
00:39:08,279 --> 00:39:10,780
always want to understand what I'm doing in lecture, because
总是想知道我在课堂上做了什么，因为

975
00:39:10,848 --> 00:39:13,115
I'm almost always just asking you to do the same thing.
我几乎总是要求你做同样的事情。

976
00:39:13,184 --> 00:39:14,984
Okay so I'm gonna build a completely
好的，我将建立一个完整的

977
00:39:15,053 --> 00:39:16,286
fresh app from scratch.
新的应用程序从头开始。

978
00:39:16,354 --> 00:39:18,554
Like I said before it's gonna be a Twitter client.
就像我之前说的，它会成为Twitter的客户。

979
00:39:18,623 --> 00:39:21,790
We're gonna be doing Twitter searches.
我们会在Twitter上搜索。

980
00:39:21,859 --> 00:39:23,927
It's gonna be a single view app.
它将是一个单一的视图应用。

981
00:39:23,995 --> 00:39:26,079
i'm gonna call it Smashtag, kind of like hashtag.
我把它命名为Smashtag，类似于hashtag。

982
00:39:26,080 --> 00:39:28,164
As always,
像往常一样,

983
00:39:28,233 --> 00:39:30,099
This is gonna be an iPhone-only app.
这将是一个iphone应用程序。

984
00:39:30,168 --> 00:39:32,034
And that's true for your homework as well.
这也适用于你们的作业。

985
00:39:32,103 --> 00:39:34,570
Okay, iPhone-only, we're not gonna do an iPad thing.
好的，iphone，我们不会做iPad的事。

986
00:39:34,639 --> 00:39:36,439
You already learned that with assignment three.
你们已经学过作业3了。

987
00:39:36,508 --> 00:39:39,208
Trying to keep what you're learning
努力保持你所学的

988
00:39:39,277 --> 00:39:41,243
as new as possible with each one.
每个人都有新的可能。

989
00:39:41,312 --> 00:39:44,113
I'm gonna put this where I always put everything.
我要把所有东西都放进去。

990
00:39:44,182 --> 00:39:47,350
Here we go, I'm gonna get rid of some of these things over
现在，我要把这些东西去掉

991
00:39:47,419 --> 00:39:50,120
here that we don't really use very much.
这里我们不太用。

992
00:39:50,188 --> 00:39:52,955
Actually I'm gonna leave plist as you'll see.
实际上，我将留下plist。

993
00:39:53,024 --> 00:39:57,427
New group, we'll do Supporting Files here, and
新的组，我们将在这里做支持文件

994
00:39:57,495 --> 00:39:59,428
I will move that down.
我把它移下来。

995
00:39:59,497 --> 00:40:02,498
Now I'm gonna start by taking my Storyboard here and
现在我要从我的故事板开始

996
00:40:02,567 --> 00:40:04,167
just totally wiping it out.
把它擦掉。

997
00:40:04,235 --> 00:40:06,402
Okay, I'm just gonna take the one controller that I got,
我要用我得到的一个控制器，

998
00:40:06,470 --> 00:40:07,670
the free one, and just delete it.
免费的，然后删除它。

999
00:40:07,738 --> 00:40:09,939
I'm even gonna go over to this code right here and
我还要讲一下这里的代码

1000
00:40:10,008 --> 00:40:12,408
delete that, same thing I did in the last demo.
删除它，和我在上次demo中做的一样。

1001
00:40:12,477 --> 00:40:14,344
Cuz I don't need any of that,
因为我不需要这些，

1002
00:40:14,412 --> 00:40:17,212
I'm gonna start from scratch here.
从这里开始。

1003
00:40:17,281 --> 00:40:18,748
So, we're building a table view app, so
我们正在构建一个表格视图应用程序

1004
00:40:18,817 --> 00:40:21,551
let's grab a table view, I'm gonna scroll down here.
让我们抓取一个表格视图，我将向下滚动这里。

1005
00:40:21,620 --> 00:40:24,287
Here's a table view right here, I just drag it out.
这里有一个表格视图，我把它拖出来。

1006
00:40:24,355 --> 00:40:28,558
Now this table view if we wanna use it as a delegate and
现在这个表格视图，如果我们想把它用作委托

1007
00:40:28,627 --> 00:40:31,260
data source, or if we wanna have outlets to it, we,
数据源，或者如果我们想要outlet到它，

1008
00:40:31,329 --> 00:40:32,795
of course, need a subclass of it.
当然，需要一个子类。

1009
00:40:32,864 --> 00:40:37,533
So let's go ahead and do that, New > File, okay.
我们继续，新建>文件。

1010
00:40:37,602 --> 00:40:40,102
It's gonna be a Cocoa Touch subclass,
它将是一个Cocoa触摸子类，

1011
00:40:40,171 --> 00:40:42,471
namely a UITableViewController.
即UITableViewController。

1012
00:40:42,540 --> 00:40:45,374
And I'm gonna call this my TweetTableViewController,
我将称之为TweetTableViewController,

1013
00:40:45,443 --> 00:40:47,510
because it's gonna show tweets.
因为它会显示推文。

1014
00:40:47,578 --> 00:40:49,812
All right, and I'm gonna be very careful to put it here,
好的，我要非常小心地把它放在这里，

1015
00:40:49,881 --> 00:40:52,215
not at the top level of my project there.
不是在我的项目的顶层。

1016
00:40:53,584 --> 00:40:56,185
And here we go, here's our code right here.
这是我们的代码。

1017
00:40:56,254 --> 00:40:59,656
I'm gonna delete this View Controller Lifecycle
我要删除这个视图控制器生命周期

1018
00:40:59,724 --> 00:41:00,656
stuff, as usual.
东西,像往常一样。

1019
00:41:00,725 --> 00:41:02,124
But you'll notice the TableViewController
但你会注意到TableViewController

1020
00:41:02,193 --> 00:41:03,826
also has some extra stuff.
还有一些额外的东西。

1021
00:41:03,895 --> 00:41:06,629
You recognize those methods, numberOfSections, okay,
你能认出这些方法，numberofsection，好的，

1022
00:41:06,697 --> 00:41:10,133
numberOfRowsInSection, and cellForRowAt indexPath.
numberOfRowsInSection,也和cellForRowAt indexPath。

1023
00:41:10,202 --> 00:41:15,604
These are the key UITableViewDataSource
这些是关键的UITableViewDataSource

1024
00:41:15,673 --> 00:41:17,674
methods here.
这里的方法。

1025
00:41:17,742 --> 00:41:20,476
Now there's some other UITableViewDataSource
现在还有其他UITableViewDataSource

1026
00:41:20,545 --> 00:41:22,678
methods here as well, these are for
这里的方法也是

1027
00:41:22,747 --> 00:41:25,181
things like deleting rows, moving rows.
比如删除行，移动行。

1028
00:41:25,250 --> 00:41:27,149
So when you're doing your extra credit, or
所以当你在做额外的贷款时

1029
00:41:27,218 --> 00:41:28,817
when you're doing your final project,
当你做最后的项目时，

1030
00:41:28,886 --> 00:41:30,486
you'll be wanting to not delete those.
你会希望不删除那些。

1031
00:41:30,555 --> 00:41:34,390
But I will delete those just to make our code a little bit
但是我将删除这些，只是为了让我们的代码更简单一些

1032
00:41:34,459 --> 00:41:36,359
cleaner here.
清洁。

1033
00:41:36,428 --> 00:41:37,893
So that's our UITableViewController
这就是我们UITableViewController

1034
00:41:37,962 --> 00:41:40,129
subclass, we'll have to implement these in a second.
子类，我们必须在一秒钟内实现这些。

1035
00:41:40,198 --> 00:41:41,898
But let's go back to our Storyboard.
让我们回到故事板。

1036
00:41:41,966 --> 00:41:47,103
We also obviously wanna set our identity here to instead
我们显然也想把我们的身份设置成这样

1037
00:41:47,171 --> 00:41:51,641
of being just generic UITableViewController,
作为一个通用的UITableViewController，

1038
00:41:51,709 --> 00:41:55,978
we want it to be a TweetTableViewController.
我们希望它是一个TweetTableViewController。

1039
00:41:56,046 --> 00:41:57,780
Also, where's our arrow coming in?
还有，我们的箭头呢?

1040
00:41:57,849 --> 00:42:00,482
There's no arrow, so let's select it again and
没有箭头，我们再选一次

1041
00:42:00,551 --> 00:42:03,953
go back to attributes and pick is initial view controller, so
回到属性，选择是初始视图控制器

1042
00:42:04,022 --> 00:42:05,621
we get this arrow coming in.
我们得到这个箭头。

1043
00:42:05,690 --> 00:42:07,656
Okay, otherwise, when we launch our app,
好的，否则，当我们启动app时，

1044
00:42:07,725 --> 00:42:10,926
it's not gonna know what MVC to start with, all right?
它不知道从哪个MVC开始?

1045
00:42:10,995 --> 00:42:13,830
Now whenever we have a new MVC,
现在每当我们有一个新的MVC，

1046
00:42:13,898 --> 00:42:16,632
what's one of the first things we always wanna do?
我们想做的第一件事是什么?

1047
00:42:16,701 --> 00:42:18,200
Define its model.
定义它的模型。

1048
00:42:18,269 --> 00:42:21,103
Understand what this MVC is all about.
了解这个MVC的含义。

1049
00:42:21,172 --> 00:42:23,639
What does it show or do?
它展示了什么或做了什么?

1050
00:42:23,707 --> 00:42:29,645
And I'm going to pick my model to be an array of tweets.
我将把我的模型选为一条推文数组。

1051
00:42:29,714 --> 00:42:31,313
Okay, I'm gonna call it tweets.
我把它命名为tweets。

1052
00:42:31,382 --> 00:42:34,883
But I'm actually gonna make it be an array
但我要把它变成一个数组

1053
00:42:34,952 --> 00:42:37,253
of array of tweets.
数组的tweet。

1054
00:42:37,322 --> 00:42:40,890
Okay, why am I making an array of an array of tweets?
为什么我要创建一系列的tweet呢?

1055
00:42:40,959 --> 00:42:44,160
Because I'm going to be able to put some tweets in my table
因为我将能够在我的表中放置一些tweet

1056
00:42:44,228 --> 00:42:46,629
and then go fetch some more and put more in.
然后再去拿一些，再放进去。

1057
00:42:46,697 --> 00:42:49,432
And every time I put more in, I'm gonna put it as a new
每次我投入更多，我就把它作为一个新的

1058
00:42:49,500 --> 00:42:52,101
section, okay, table view section.
section，好的，表格视图部分。

1059
00:42:52,170 --> 00:42:54,904
So each array on the inside of this array
数组内部的每个数组

1060
00:42:54,973 --> 00:42:56,438
is another batch of tweets.
是另一批推文。

1061
00:42:56,507 --> 00:42:58,808
And the outer array is all of my sections.
外数组是所有的部分。

1062
00:42:58,876 --> 00:43:00,376
So I have a really nice data structure here.
这里有一个很好的数据结构。

1063
00:43:00,444 --> 00:43:02,578
It really matches up nicely with table view.
它与表视图非常匹配。

1064
00:43:02,647 --> 00:43:05,748
And it's kind of nice to have that kind of data structure.
这种数据结构很好。

1065
00:43:05,817 --> 00:43:07,817
And I kind of recommend that in the homework if you can
如果可以的话，我推荐你们做作业

1066
00:43:07,885 --> 00:43:10,219
make your data structure match up with sections and
使您的数据结构与各个部分相匹配

1067
00:43:10,288 --> 00:43:12,055
rows, then it makes the implementation
行，然后进行实现

1068
00:43:12,123 --> 00:43:14,757
of all these methods down here a lot simpler.
在所有这些方法中，简单多了。

1069
00:43:16,026 --> 00:43:19,294
All right, so, I've got another part of my model,
好了，我还有另一个模型，

1070
00:43:19,363 --> 00:43:22,064
though, which is some searchText.
不过，这是一些搜索文本。

1071
00:43:22,133 --> 00:43:24,400
So the searchText is like #stanford,
所以searchText就像#斯坦福，

1072
00:43:24,469 --> 00:43:26,936
that's what I wanna search for.
这就是我想要搜索的。

1073
00:43:27,004 --> 00:43:29,271
So this searchText is what I'm searching for
所以这个搜索文本就是我正在寻找的

1074
00:43:29,340 --> 00:43:30,740
to find my tweets.
找到我的微博。

1075
00:43:30,809 --> 00:43:32,141
And I'm making this one public,
我把这个公布于众，

1076
00:43:32,209 --> 00:43:34,410
this is gonna be a public part of my model.
这将是我模型的公共部分。

1077
00:43:34,478 --> 00:43:37,779
So anyone using my MVC, they set the search text.
任何人使用我的MVC，他们都设置了搜索文本。

1078
00:43:37,848 --> 00:43:40,082
I will show those tweets.
我会展示那些推文。

1079
00:43:40,151 --> 00:43:40,917
That's what I do.
这就是我做的。

1080
00:43:42,519 --> 00:43:45,188
All right, and I'm gonna do that by populating this part
我要通过填充这个部分来实现

1081
00:43:45,256 --> 00:43:47,623
of my model over here to show them.
我在这里展示的模型。

1082
00:43:47,691 --> 00:43:51,393
So what do I need to do if the searchText is set?
如果搜索文本设置为，我需要做什么?

1083
00:43:51,462 --> 00:43:54,163
So I need to do some didSet here, so the public model,
所以我需要在这里做一些didSet，公共模型，

1084
00:43:54,231 --> 00:43:56,699
if something sets it, I have to react well to it.
如果有什么事情发生，我必须对它做出反应。

1085
00:43:56,767 --> 00:43:59,469
I mean, one thing that I'm gonna wanna do is remove
我的意思是，我要做的一件事是删除

1086
00:43:59,537 --> 00:44:02,138
all the tweets that are already in my table.
所有的推文都在我的表格里。

1087
00:44:02,207 --> 00:44:05,340
And when I remove those from my model up here,
当我从模型中移除这些，

1088
00:44:05,409 --> 00:44:07,743
I need to tell the table view about it.
我需要告诉表视图。

1089
00:44:07,812 --> 00:44:10,479
So I'm gonna have the tableView.reloadData(), which
我将有tableview。reloaddata()，它

1090
00:44:10,548 --> 00:44:13,382
is the hammer, which is okay, because I removed everything,
是锤子，没关系，因为我把所有东西都拿走了，

1091
00:44:13,451 --> 00:44:15,250
so the hammer's gonna be pretty light,
所以锤子会很轻，

1092
00:44:15,319 --> 00:44:16,619
a little ball-peen hammer.
一个小榔头。

1093
00:44:16,687 --> 00:44:18,754
Okay, just going to clear the table out, so
好吧，把桌子清理干净

1094
00:44:18,823 --> 00:44:20,723
tha's perfectly fine in this case.
在这种情况下，他完全没问题。

1095
00:44:22,059 --> 00:44:22,591
What else do I need to do?
我还需要做什么?

1096
00:44:22,660 --> 00:44:25,093
Well, I, now I need to search for tweets.
我现在需要搜索推文。

1097
00:44:25,162 --> 00:44:27,963
So I have to write a function to do that to search for
所以我要写一个函数来搜索

1098
00:44:28,032 --> 00:44:28,998
some tweet.
一些推特。

1099
00:44:29,067 --> 00:44:32,501
I'm also gonna set my title equal to the searchText.
我也要设置我的标题与searchText相等。

1100
00:44:32,569 --> 00:44:34,703
That way if I happen to be in a navigation controller or
如果我碰巧在导航控制器中

1101
00:44:34,772 --> 00:44:37,272
something like that, it'll show whatever I'm searching
像这样，它会显示我搜索的内容

1102
00:44:37,341 --> 00:44:40,208
for, #stanford or whatever at the top, so
比如，# stanford或者其他的

1103
00:44:40,277 --> 00:44:43,613
I'll just make my UI look nice there.
我让UI看起来不错。

1104
00:44:44,815 --> 00:44:45,547
All right, so
好吧,那么

1105
00:44:45,616 --> 00:44:48,384
we got to do this private func searchForTweets.
我们要做这个私人的func searchForTweets。

1106
00:44:50,888 --> 00:44:53,055
Okay, so this is the thing that needs to go off and
这就是需要关闭的东西

1107
00:44:53,124 --> 00:44:58,060
find these tweets, and so we'll do that in a moment.
找到这些推文，我们马上就做。

1108
00:44:58,128 --> 00:45:00,395
One thing I'm also gonna do is I'm gonna do viewDidLoad,
我还要做的一件事是viewDidLoad，

1109
00:45:00,464 --> 00:45:01,531
just for testing purposes.
只是为了测试目的。

1110
00:45:01,599 --> 00:45:04,466
You notice I do this a lot when I'm developing, and
你注意到我在开发过程中经常这样做

1111
00:45:04,535 --> 00:45:05,868
I wanna have some testing,
我想要测试一下，

1112
00:45:05,937 --> 00:45:08,137
I'm gonna just set my model to something.
我要把模型设置成什么。

1113
00:45:08,206 --> 00:45:11,740
So we'll do #stanford, okay, just for testing.
所以我们会做# stanford，好的，只是为了测试。

1114
00:45:11,809 --> 00:45:13,509
Once we're got our MVC working,
一旦我们有了MVC，

1115
00:45:13,577 --> 00:45:17,012
its public API is working, then we will remove this code.
它的公共API正在工作，然后我们将删除这段代码。

1116
00:45:17,081 --> 00:45:17,914
It's just testing code.
这只是测试代码。

1117
00:45:19,050 --> 00:45:20,916
Okay, now, we have an error here.
现在我们有一个错误。

1118
00:45:20,985 --> 00:45:24,586
And this error is Swift saying excuse me.
这个错误是斯威夫特说抱歉。

1119
00:45:24,655 --> 00:45:25,755
What is tweet?
推特是什么?

1120
00:45:27,358 --> 00:45:28,991
What is that type?
那是什么类型?

1121
00:45:29,060 --> 00:45:32,094
And I didn't really want you to be wasting your time in
我并不想让你浪费你的时间

1122
00:45:32,163 --> 00:45:35,231
your homework figuring out how to go fetch
你的家庭作业弄清楚怎么去取

1123
00:45:35,299 --> 00:45:38,167
a tweet from Twitter and do a request and all that.
推特上的一条推文，做了一个请求。

1124
00:45:38,236 --> 00:45:41,703
So I wrote a framework that did it for you.
所以我给你们写了一个框架。

1125
00:45:41,772 --> 00:45:44,440
And by framework, I mean a framework like this.
通过框架，我指的是这样一个框架。

1126
00:45:44,508 --> 00:45:48,076
Like UIKit, right, UIKit is this like library of a whole
就像UIKit一样，UIKit就像一个整体的库

1127
00:45:48,145 --> 00:45:50,746
bunch of data structures that you can use to build your app.
可以用来构建应用程序的数据结构。

1128
00:45:50,815 --> 00:45:54,083
Well, I wrote one for you that will do Twitter stuff for it.
我为你写了一个，为它做推特。

1129
00:45:54,152 --> 00:45:55,718
And it has something in it called tweet.
它有一个叫做tweet的东西。

1130
00:45:55,786 --> 00:45:57,620
And it also has something called request that lets
它还有一个叫request的东西

1131
00:45:57,689 --> 00:45:59,655
you make a Twitter request.
你提出了一个Twitter请求。

1132
00:45:59,723 --> 00:46:02,925
All right, so that thing is right over here.
好了，这个就在这里。

1133
00:46:02,994 --> 00:46:06,195
Now, how do frameworks work?
那么，框架是如何工作的呢?

1134
00:46:06,264 --> 00:46:08,731
How do you use them when they're not built into
当它们不是内置的时候，你如何使用它们

1135
00:46:08,799 --> 00:46:10,265
the system like Apple?
系统像苹果?

1136
00:46:10,334 --> 00:46:14,903
And the answer is, you need to build a higher level structure
答案是，你需要建立一个更高层次的结构

1137
00:46:14,972 --> 00:46:18,006
for Xcode to work with called a workspace.
对于Xcode来说，使用一个工作空间。

1138
00:46:18,075 --> 00:46:21,343
So I'm actually gonna close this project.
所以我要关闭这个项目。

1139
00:46:21,412 --> 00:46:22,745
I'm closing this project.
我关闭这个项目。

1140
00:46:22,814 --> 00:46:25,648
And I'm going to Xcode, and I'm gonna create a new thing,
我要去Xcode，创建一个新东西，

1141
00:46:25,717 --> 00:46:28,184
which you've never seen before, called a workspace.
这是你以前从未见过的，叫做工作空间。

1142
00:46:29,253 --> 00:46:30,485
Now when I create this workspace,
现在当我创建这个工作区时，

1143
00:46:30,554 --> 00:46:31,620
it wants to know where to put it.
它想知道把它放在哪里。

1144
00:46:31,688 --> 00:46:32,722
Be careful here, look,
小心这里,看,

1145
00:46:32,790 --> 00:46:34,957
it's trying to put it inside my Smashtag project,
它试图把它放到我的Smashtag项目中，

1146
00:46:35,026 --> 00:46:36,325
which I don't wanna do that.
我不想这么做。

1147
00:46:36,394 --> 00:46:39,995
I wanna put it up the top of my Developer level here,
我想把它放在Developer水平的顶端，

1148
00:46:40,064 --> 00:46:41,630
same place I put all of my projects, okay,
我把所有的项目都放在同一个地方，

1149
00:46:41,699 --> 00:46:43,565
so really be careful about that.
所以要小心。

1150
00:46:43,634 --> 00:46:46,502
So I'm gonna call this L9, this is lecture 9, so
我把它叫做L9，这是第九讲

1151
00:46:46,571 --> 00:46:47,703
we'll call it L9.
我们把它叫做L9。

1152
00:46:47,772 --> 00:46:50,006
And I hit Save, and this created this workspace.
我点击了Save，这创建了这个工作区。

1153
00:46:50,074 --> 00:46:52,341
But notice in the navigator, there's nothing there.
但注意在导航器中，这里什么都没有。

1154
00:46:53,610 --> 00:46:55,177
So what do we put in a workspace?
那么我们把什么放在工作空间里呢?

1155
00:46:55,246 --> 00:46:57,980
Well, what we put in a workspace are other projects.
我们在工作空间中放入的是其他项目。

1156
00:46:58,048 --> 00:47:00,649
And this workspace is just gonna collect all those
这个工作区会收集所有这些

1157
00:47:00,718 --> 00:47:02,651
projects, because they kind of go together.
项目，因为它们在一起。

1158
00:47:02,719 --> 00:47:05,821
And obviously, this Twitter framework that I'm providing
显然，我提供的这个Twitter框架

1159
00:47:05,890 --> 00:47:08,291
to you right here goes together with Smashtag,
在这里你和Smashtag一起，

1160
00:47:08,359 --> 00:47:11,694
which is this thing we've been working on so far.
这就是我们一直在研究的东西。

1161
00:47:11,762 --> 00:47:14,830
Now what you drag down in here is the .xcodeproj,
现在你往下拉的是。xcodeproj，

1162
00:47:14,899 --> 00:47:18,334
because it's the project itself that you wanna put in
因为这是你想要投入的项目本身

1163
00:47:18,402 --> 00:47:19,535
this workspace.
这个工作区。

1164
00:47:19,603 --> 00:47:21,670
So you just drag that in for both of them, so
所以你只需要把它们拖进来

1165
00:47:21,739 --> 00:47:23,639
I'm gonna open this one as well.
我也要打开这个。

1166
00:47:23,708 --> 00:47:26,609
Here's the Xcode project for this Twitter thing.
这是这个Twitter的Xcode项目。

1167
00:47:26,678 --> 00:47:29,378
Drag in, now be careful not to put it inside,
拉进去，小心不要把它放进里面，

1168
00:47:29,447 --> 00:47:32,481
see how that's trying to put it inside Smashtag there?
看到怎么把它放进Smashtag里面了吗?

1169
00:47:32,550 --> 00:47:35,217
Put it outside, so that they're siblings.
把它放在外面，这样他们是兄弟姐妹。

1170
00:47:35,285 --> 00:47:38,454
Now I have this workspace right here that has two
现在这个工作区有两个

1171
00:47:38,523 --> 00:47:43,359
projects in it, and you even go here and hide others.
在里面的项目，你甚至会在这里隐藏别人。

1172
00:47:43,427 --> 00:47:46,028
And if we look in the Smashtag one, woo, looks familiar.
如果我们看一下Smashtag 1，哇，看起来很熟悉。

1173
00:47:46,097 --> 00:47:48,997
This is the code we were just working on, right?
这就是我们正在研究的代码，对吧?

1174
00:47:49,066 --> 00:47:50,599
If we look in the Twitter one,
如果我们看看推特，

1175
00:47:50,668 --> 00:47:52,134
this is the code I am providing you.
这是我给你的代码。

1176
00:47:52,203 --> 00:47:53,702
Now, what's in here?
现在,在这里是什么?

1177
00:47:53,771 --> 00:47:56,005
Here's tweet which is this struct and
这是推特，它是这个结构

1178
00:47:56,074 --> 00:47:58,874
it's got all the things you would expect in a tweet.
它有你在推特上期待的所有东西。

1179
00:47:58,943 --> 00:48:01,210
The text of the tweet, the user who created it,
这条推文的文本，创建它的用户，

1180
00:48:01,279 --> 00:48:03,279
which is another thing, user right here,
这是另一件事，这里的用户，

1181
00:48:03,347 --> 00:48:06,082
and the user has a screen name that's at sign something,
用户有一个屏幕上的名字，

1182
00:48:06,150 --> 00:48:09,318
the actual name, a unique identifier for the user.
实际的名称，用户的唯一标识符。

1183
00:48:09,387 --> 00:48:12,888
Back to tweet, it's also got a unique identifier.
回到tweet，它也有一个唯一的标识符。

1184
00:48:12,956 --> 00:48:15,858
It's also got things that are embedded in the tweet like
它也有嵌入在推特上的东西

1185
00:48:15,927 --> 00:48:16,858
other hashtags and
其他标签和

1186
00:48:16,927 --> 00:48:19,294
other users that are referenced inside the tweet.
在tweet中引用的其他用户。

1187
00:48:19,363 --> 00:48:21,163
And even media cuz you know a lot of times
甚至是媒体，你知道很多次

1188
00:48:21,231 --> 00:48:23,899
tweets have an image with them too.
推文也有自己的形象。

1189
00:48:23,967 --> 00:48:26,301
And the other thing that's of importance in this Twitter
还有一件事在Twitter上很重要

1190
00:48:26,370 --> 00:48:28,637
framework that I'm giving you is this class Request,
我给你们的框架是这个类请求，

1191
00:48:28,706 --> 00:48:30,305
Twitter Request right here.
Twitter的请求。

1192
00:48:30,374 --> 00:48:34,510
And this Request class is the thing you use to make requests
这个请求类是用来生成请求的

1193
00:48:34,579 --> 00:48:35,544
for Twitter.
对于Twitter。

1194
00:48:35,612 --> 00:48:39,248
Now, you don't need to look at any of the implementation
现在，您不需要查看任何实现

1195
00:48:39,316 --> 00:48:41,683
of any of this, and in fact, you can go and
这其中的任何一个，事实上，你可以去

1196
00:48:41,752 --> 00:48:44,119
do assistant editor.
做助理编辑。

1197
00:48:44,188 --> 00:48:46,989
And if you do assistant editor on something like this,
如果你做这样的助理编辑，

1198
00:48:47,058 --> 00:48:50,426
you're actually gonna see its public API here.
你会看到它的公共API。

1199
00:48:50,494 --> 00:48:53,229
See all those public, public public, public,
看到所有公众，公众，公众，

1200
00:48:53,297 --> 00:48:57,433
public; now we have not seen this public keyword before,
公众的;我们之前没见过这个公共关键字，

1201
00:48:57,502 --> 00:49:00,435
all we've seen is private or fileprivate.
我们看到的都是私有或文件私有。

1202
00:49:00,504 --> 00:49:02,771
So what does this public thing mean?
那么这个公共事物意味着什么呢?

1203
00:49:02,840 --> 00:49:06,608
Look, I put public in all this these things over here.
看，我把这些东西都公开了。

1204
00:49:06,677 --> 00:49:10,078
Public means that not only is it not private but
公开的意思是它不仅不是私有的，而是

1205
00:49:10,147 --> 00:49:12,781
you can see it even if this framework is being used by
即使这个框架被使用，你也能看到它

1206
00:49:12,850 --> 00:49:14,583
some other project.
一些其他的项目。

1207
00:49:14,651 --> 00:49:18,754
So public means public outside of this framework, right,
所以公众的意思是在这个框架之外，

1208
00:49:18,823 --> 00:49:19,421
make sense?
有意义吗?

1209
00:49:19,490 --> 00:49:21,656
So in UIKit a lot of things are marked public.
在UIKit中很多东西都是公开的。

1210
00:49:21,725 --> 00:49:23,659
All the things you can use have to be marked public cuz
你可以使用的所有东西都必须标记为公共的cuz

1211
00:49:23,727 --> 00:49:25,460
it's in a different framework than your app.
它与你的应用程序不同。

1212
00:49:25,529 --> 00:49:30,098
Your app is kind of a framework, in a sense, so
在某种意义上，你的应用是一个框架

1213
00:49:30,167 --> 00:49:30,666
that's public.
这是公开的。

1214
00:49:30,735 --> 00:49:32,501
And then, also notice farther down,
然后，再往下看，

1215
00:49:32,569 --> 00:49:35,070
these methods are marked internal; that means I can
这些方法都有内部标记;这意味着我可以

1216
00:49:35,139 --> 00:49:38,641
only use them inside my framework, so I can't call any
只在我的框架内使用它们，所以我不能调用任何

1217
00:49:38,709 --> 00:49:41,643
of these methods from Smashtag, they're internal.
这些方法来自Smashtag，它们是内部的。

1218
00:49:41,712 --> 00:49:44,412
This actually, you haven't seen this keyword because
实际上，你还没见过这个关键字

1219
00:49:44,481 --> 00:49:47,449
it's the default, all the methods you've ever created
它是默认的，所有你创建的方法

1220
00:49:47,517 --> 00:49:51,152
that you didn't mark private or fileprivate are internal.
您没有标记私有或fileprivate是内部的。

1221
00:49:51,221 --> 00:49:52,221
It's the default, so
这是默认的,所以

1222
00:49:52,290 --> 00:49:55,858
you haven't put the word internal there, okay.
你还没有把这个词放在里面。

1223
00:49:55,926 --> 00:49:56,859
So, let's look at the public API.
那么，让我们看看公共API。

1224
00:49:56,927 --> 00:49:58,994
Let's not even pay any attention to that, and
让我们甚至不去关注它

1225
00:49:59,063 --> 00:50:00,429
look at the public API.
看看公共API。

1226
00:50:00,498 --> 00:50:03,398
This public API of Request, for making requests,
请求的公共API，用于提出请求，

1227
00:50:03,467 --> 00:50:05,200
we're only going to use three things.
我们只会用三样东西。

1228
00:50:05,269 --> 00:50:07,736
One is this convenience initializer
一个是这个方便的初始化程序

1229
00:50:07,804 --> 00:50:10,205
where you just give it something to search for and
你给它找什么

1230
00:50:10,274 --> 00:50:12,174
how many results you want.
你想要多少结果。

1231
00:50:12,243 --> 00:50:15,010
And then this method fetchTweets where you just
然后这个方法会在你刚才的地方获取信息

1232
00:50:15,079 --> 00:50:18,314
give it this closure which it will call when it's done.
给它关闭它会在完成后调用它。

1233
00:50:18,382 --> 00:50:20,416
It's gonna go off and do it on another thread and
它会在另一个线程上执行

1234
00:50:20,485 --> 00:50:22,251
when it's done it will call.
当它完成时，它会调用。

1235
00:50:22,319 --> 00:50:24,653
And that's going to have an array of the tweets it found
它会有一个它找到的推文数组

1236
00:50:24,722 --> 00:50:27,389
that match your search.
匹配你的搜索。

1237
00:50:27,458 --> 00:50:28,724
what we're gonna use is this one down here, newer where if
我们要用的就是这个，更新的地方，如果

1238
00:50:28,725 --> 00:50:29,991
And then last,
然后,最后

1239
00:50:30,061 --> 00:50:32,161
you ask it a request, give me a newer request.
你问它一个请求，给我一个新的请求。

1240
00:50:32,230 --> 00:50:35,197
It'll give your request that you can use to get newer
它会给你的请求，你可以用来更新

1241
00:50:35,266 --> 00:50:35,731
tweets.
tweet。

1242
00:50:35,799 --> 00:50:37,065
Tweets that have been tweeted after
之后推特发推

1243
00:50:37,134 --> 00:50:38,967
the previous one that you've got.
之前的一个。

1244
00:50:39,036 --> 00:50:39,968
So, that's all we're gonna use here.
这就是我们要用到的。

1245
00:50:40,037 --> 00:50:42,905
We're not really gonna use any of the other API
我们不会使用其他的API

1246
00:50:42,973 --> 00:50:43,939
in this request.
在这个请求。

1247
00:50:44,008 --> 00:50:46,708
In your homework, you'll have to know this API here of
在你们的作业中，你们需要知道这个API

1248
00:50:46,777 --> 00:50:48,777
Tweet cause you'll have to be able to get the text and
推特，因为你必须能够得到文本和

1249
00:50:48,846 --> 00:50:52,047
the user information and also MediaItems so
用户信息和MediaItems

1250
00:50:52,116 --> 00:50:57,285
you can get the URLs of images that are in there, etc.
你可以得到图像的url，等等。

1251
00:50:57,354 --> 00:50:59,521
But you never have to look at the private implementation of
但你从来不用看它的私有实现

1252
00:50:59,590 --> 00:51:01,924
this framework so don't even waste your time looking there.
这个框架甚至不会浪费你的时间去看那里。

1253
00:51:01,992 --> 00:51:04,026
Just look at things marked public,
看看那些有标记的公共事物，

1254
00:51:04,095 --> 00:51:07,462
there's not a lot of things marked public- that's the only
没有很多东西是公开的，只有这样

1255
00:51:07,531 --> 00:51:09,698
thing you're going to look for.
你要找的东西。

1256
00:51:09,767 --> 00:51:12,334
Now how do I use this framework,
如何使用这个框架呢?

1257
00:51:12,402 --> 00:51:14,970
this Twitter framework in Smashtag?
这是Smashtag的Twitter框架?

1258
00:51:15,039 --> 00:51:16,472
Well, you have to do one step.
你需要做一步。

1259
00:51:16,540 --> 00:51:18,807
You can't just put them in the same workspace and
你不能只把它们放在同一个工作区中

1260
00:51:18,876 --> 00:51:20,075
start working.
开始工作。

1261
00:51:20,144 --> 00:51:24,245
Well, two steps, one is I need to say import Twitter.
有两个步骤，一个是，我需要输入Twitter。

1262
00:51:24,314 --> 00:51:26,748
Just like I say import UIKit, if I want to use this Twitter
就像我说的导入UIKit，如果我想使用这个Twitter

1263
00:51:26,817 --> 00:51:29,118
framework up here I have to say import Twitter.
在这里我必须输入Twitter。

1264
00:51:29,186 --> 00:51:31,620
That's gonna cause this tweet to start being
这将导致这条推文开始

1265
00:51:31,689 --> 00:51:34,323
recognized as a type because it's gonna see this
被认为是一种类型，因为它会看到这个

1266
00:51:34,392 --> 00:51:36,292
tweet type right over here.
推特类型在这里。

1267
00:51:36,360 --> 00:51:40,062
But the other important thing, don't forget,
但另一件重要的事，别忘了，

1268
00:51:40,131 --> 00:51:44,500
is you need to tell Xcode that when you build Smashtag that
您是否需要告诉Xcode当您构建Smashtag时

1269
00:51:44,569 --> 00:51:47,269
app includes Twitter in it.
应用程序包括Twitter。

1270
00:51:47,337 --> 00:51:50,806
And you do that by going to the Smashtag project, okay,
通过Smashtag项目，

1271
00:51:50,874 --> 00:51:51,640
the project settings.
项目设置。

1272
00:51:51,709 --> 00:51:53,175
And go all the way to the bottom where it says
然后一直走到底部

1273
00:51:53,244 --> 00:51:54,776
Embedded Binaries.
嵌入二进制文件。

1274
00:51:54,845 --> 00:51:58,980
And just pick up the product of your Twitter framework.
然后你就可以选择你的Twitter框架的产品。

1275
00:51:59,049 --> 00:52:00,549
You see where it says Products right here?
你看到这里的产品了吗?

1276
00:52:00,618 --> 00:52:04,653
Just pick that up and drag it in here, and that says,
把它拖到这里，然后说，

1277
00:52:04,722 --> 00:52:08,891
please put Twitter framework into my Smashtag,
请将Twitter框架放到我的Smashtag中，

1278
00:52:08,960 --> 00:52:10,058
because my Smashtag uses it.
因为我的Smashtag使用它。

1279
00:52:10,127 --> 00:52:12,694
If you don't do this step, then it'll all compile but
如果您不执行这个步骤，那么它将全部编译，但是

1280
00:52:12,763 --> 00:52:15,130
then when Smashtag runs, Twitter won't be there, and
然后当Smashtag运行时，Twitter不会在那里，而且

1281
00:52:15,198 --> 00:52:15,965
so it will fail.
所以它将会失败。

1282
00:52:18,569 --> 00:52:20,068
Now, I'm gonna make you do that step as part of
现在，我要让你做这一步

1283
00:52:20,137 --> 00:52:20,969
your homework.
你的家庭作业。

1284
00:52:21,038 --> 00:52:23,638
I will post this code for Smashtag, but
我将为Smashtag发布此代码，但是

1285
00:52:23,707 --> 00:52:26,208
I'm not gonna post the workspace, so
我不会发布工作空间

1286
00:52:26,277 --> 00:52:29,945
you're gonna have to build the workspace on your own.
你必须自己建一个工作区。

1287
00:52:30,014 --> 00:52:30,913
All right, so let's continue.
好，继续。

1288
00:52:30,982 --> 00:52:32,981
Now that we've got this array of tweets,
现在我们有了这一系列的推文，

1289
00:52:33,050 --> 00:52:35,283
what are we gonna do with this array of tweets?
我们要怎么处理这些推特?

1290
00:52:35,352 --> 00:52:40,555
Let's start by doing a fetch for our search text.
让我们开始为我们的搜索文本做一个取回。

1291
00:52:40,624 --> 00:52:41,790
So we got our search text,
我们得到了搜索文本，

1292
00:52:41,858 --> 00:52:44,092
we wanna go fetch all those things on there.
我们想去那里取回所有的东西。

1293
00:52:44,161 --> 00:52:45,995
That's what we're supposed to do in search for tweets.
这就是我们在搜索tweet时应该做的事情。

1294
00:52:47,064 --> 00:52:48,096
Let's make another function here,
我们来做另一个函数，

1295
00:52:48,165 --> 00:52:50,065
another little private func.
另一个小私有函数。

1296
00:52:50,133 --> 00:52:52,801
I'm gonna call it twitterRequest,
我把它叫做twitterRequest，

1297
00:52:52,870 --> 00:52:56,104
which is gonna return a Twitter.Request.
它会返回一个Twitter.Request。

1298
00:52:56,173 --> 00:52:57,973
But yeah, here's another thing.
但是，还有一件事。

1299
00:52:58,041 --> 00:53:00,809
This I can call tweet because I'm importing this Twitter
我可以调用tweet，因为我正在导入这个Twitter

1300
00:53:00,878 --> 00:53:03,678
framework and there's no other class called tweet, so
框架，没有其他的类叫做tweet，所以

1301
00:53:03,747 --> 00:53:04,780
i just have to call it tweet.
我只需要把它叫做tweet。

1302
00:53:04,849 --> 00:53:07,983
Its full name is actually Twitter.Tweet.
它的全名实际上是Twitter.Tweet。

1303
00:53:08,052 --> 00:53:11,720
Just like, you know, UITableViewController,
就像，UITableViewController，

1304
00:53:11,789 --> 00:53:15,490
it's full name is UIKit.UITableViewController.
它的全名是UIKit.UITableViewController。

1305
00:53:15,559 --> 00:53:16,892
use Twitter.Tweet because I think in Assignment 5, you
使用Twitter。推特，因为我认为在作业5中，你

1306
00:53:16,893 --> 00:53:18,226
Now i'm gonna
现在我要

1307
00:53:18,295 --> 00:53:21,530
might end up wanting to have you own local tweet class.
最后可能会想要拥有本地的tweet类。

1308
00:53:21,598 --> 00:53:23,164
So I'm gonna use Twitter.Tweet and
所以我要用Twitter。微博和

1309
00:53:23,233 --> 00:53:26,034
Twitter.Request everywhere but I wouldn't have to as long as
Twitter。请求无处不在，但我不需要那么长时间

1310
00:53:26,102 --> 00:53:28,670
I didn't have a class called Tweet or Request otherwise.
我没有一个叫Tweet或请求的类。

1311
00:53:28,739 --> 00:53:31,840
But this is a pretty generic name request so putting
但这是一个非常通用的名称请求

1312
00:53:31,909 --> 00:53:35,644
the Twitter dot on front might be kind of a good idea anyway.
不管怎样，在前面的Twitter上的点可能是个好主意。

1313
00:53:36,781 --> 00:53:37,713
All right so
好

1314
00:53:37,781 --> 00:53:40,282
the Twitter.Request function here is just going to return
Twitter。这里的请求函数将返回

1315
00:53:40,351 --> 00:53:44,386
a Twitter request that matches this search text.
与此搜索文本相匹配的Twitter请求。

1316
00:53:44,455 --> 00:53:45,420
And that's really, really simple,
这真的很简单，

1317
00:53:45,489 --> 00:53:48,556
I'm just gonna say, if I can let the query for
我只是想说，如果我能让查询出来

1318
00:53:48,625 --> 00:53:51,393
the search term equal the search text.
搜索项等于搜索文本。

1319
00:53:51,461 --> 00:53:55,030
And I wanna make sure that that query is not empty.
我要确保这个查询不是空的。

1320
00:53:55,098 --> 00:53:58,800
So I don't wanna search for nil or for the empty string.
我不想搜索nil或者空字符串。

1321
00:53:58,869 --> 00:54:01,503
So I'm just keeping that out of it right here.
我把它放在这里。

1322
00:54:01,572 --> 00:54:04,305
And otherwise I'm just gonna return a Twitter request using
否则我将返回一个使用的Twitter请求

1323
00:54:04,374 --> 00:54:07,042
that convenient initializer I told you about called Search.
那个方便的初始化器，我告诉过你叫搜索。

1324
00:54:08,245 --> 00:54:11,046
And I'm just gonna pass that query and,
我将通过这个查询，

1325
00:54:11,115 --> 00:54:12,781
well let's get 100 of them.
我们得到100个。

1326
00:54:12,850 --> 00:54:15,351
Okay, so we're gonna, we'll grab 100 tweets at a time.
我们会一次抓取100条tweet。

1327
00:54:17,021 --> 00:54:20,188
And if that's not true, if the search term is nil or
如果这不是真的，如果搜索项是nil

1328
00:54:20,257 --> 00:54:23,391
it's empty, then I'm gonna return nil from this.
它是空的，然后返回nil。

1329
00:54:23,460 --> 00:54:25,628
So let's make this be, you know, optional.
让我们把它变成可选的。

1330
00:54:27,164 --> 00:54:28,563
Okay, so everyone understand what this function does?
大家都明白这个函数的作用了吧?

1331
00:54:28,632 --> 00:54:31,800
It just makes a Twitter request that will search for
它只是发出了一个搜索的Twitter请求

1332
00:54:31,869 --> 00:54:35,036
our searchText, that's all it does.
我们的搜索文本，仅此而已。

1333
00:54:35,105 --> 00:54:36,538
So now down here in searchForTweets,
下面这里是searchForTweets，

1334
00:54:36,606 --> 00:54:41,343
I can say if I can let request equal the twitterRequest,
我可以说，如果我可以让请求等于twitterRequest，

1335
00:54:41,412 --> 00:54:43,111
which hopefully it can make.
希望它能做出来。

1336
00:54:43,180 --> 00:54:46,047
Okay, now I have a request.
好的，现在我有一个请求。

1337
00:54:46,116 --> 00:54:50,819
Now I just need to cause that request to happen.
现在我只需要让这个请求发生。

1338
00:54:50,888 --> 00:54:58,727
So I'm just gonna say this Twitter request.fetchTweets.
我只是想说这个推特请求。fetchtweets。

1339
00:54:58,796 --> 00:55:02,364
So this fetchTweets function right there, you see it?
fetchTweets函数在这里，你看到了吗?

1340
00:55:02,433 --> 00:55:03,765
The top one, okay,
上面的,

1341
00:55:03,834 --> 00:55:07,603
it takes this closure right here as an argument.
它把这个闭包作为一个参数。

1342
00:55:07,671 --> 00:55:11,172
I'm gonna double click on it, to show what it does here.
我要双击它，显示它在这里做什么。

1343
00:55:11,241 --> 00:55:14,309
I'm going to use trailing closure syntax to get rid of
我将使用尾随关闭语法来处理

1344
00:55:14,377 --> 00:55:16,345
the parentheses there.
那里的括号。

1345
00:55:16,413 --> 00:55:17,179
Now what's this?
现在这是什么?

1346
00:55:17,248 --> 00:55:19,648
This is the only argument in my closure.
这是我唯一的结论。

1347
00:55:19,717 --> 00:55:21,783
Those are the tweets that it fetched.
这些是它所获取的推文。

1348
00:55:21,852 --> 00:55:23,351
See it's an array of tweets.
看它是一条推文数组。

1349
00:55:23,420 --> 00:55:24,286
I'll call this newTweets.
我将称之为newTweets。

1350
00:55:24,355 --> 00:55:26,522
Okay, so that's going to be an array of tweets,
这将是一条推文数组，

1351
00:55:26,590 --> 00:55:29,490
I don't even need the parentheses here by the way.
我甚至不需要这个括号。

1352
00:55:29,559 --> 00:55:30,192
So I have newTweets.
所以我有newTweets。

1353
00:55:30,260 --> 00:55:32,394
So newTweets is gonna be an array of Tweet that it
所以newTweets将会是一个Tweet的数组

1354
00:55:32,463 --> 00:55:33,695
fetched; now, of course,
获取;现在,当然,

1355
00:55:33,764 --> 00:55:35,763
it's doing this off the main queue, right?
它是在主队列上执行的，对吧?

1356
00:55:35,832 --> 00:55:38,066
It's gotta go do that Twitter request,
它必须去做这个推特请求，

1357
00:55:38,135 --> 00:55:40,168
what if it's a really slow network?
如果网络真的很慢怎么办?

1358
00:55:40,237 --> 00:55:43,572
Or Twitter is really slow that time or whatever.
或者推特真的很慢。

1359
00:55:43,640 --> 00:55:45,106
I finally got these new tweets back, what do I wanna do?
我终于收到了这些新的推文，我想做什么?

1360
00:55:45,107 --> 00:55:46,573
So inside here,
所以在这里,

1361
00:55:46,643 --> 00:55:50,913
Well I just want to add them on to the end of my model,
我只是想把它们加到模型的末尾，

1362
00:55:50,981 --> 00:55:52,748
Here's my model, it's an array of array of tweets.
这是我的模型，它是一系列推文的数组。

1363
00:55:52,749 --> 00:55:54,516
right?
对吧?

1364
00:55:54,584 --> 00:55:58,853
Here's an array, so I'm just going to take my model, and
这是一个数组，我将用我的模型

1365
00:55:58,922 --> 00:56:02,257
append onto it this array of tweets.
在它上面添加这一系列的推文。

1366
00:56:02,325 --> 00:56:05,727
And actually, I'm not gonna append it on the end because
实际上，我不会把它追加到最后

1367
00:56:05,796 --> 00:56:08,830
I want all my new tweets to show up at the beginning,
我希望所有的新推文都能在一开始就出现，

1368
00:56:08,899 --> 00:56:11,200
so in section zero at the beginning, so
在第0节开始的时候

1369
00:56:11,268 --> 00:56:14,369
I'm gonna insert these new tweets at 0 in my array.
我将在数组中0插入这些新的tweet。

1370
00:56:14,438 --> 00:56:15,570
So right at the top.
在顶部。

1371
00:56:15,639 --> 00:56:17,573
So my new tweets are gonna come in at the top.
所以我的新推文将会出现在顶部。

1372
00:56:18,809 --> 00:56:19,374
Make sense?
有意义吗?

1373
00:56:19,443 --> 00:56:21,109
Now, we have an error there.
现在，我们有一个错误。

1374
00:56:21,178 --> 00:56:24,112
Can anyone guess why this error is here before I
有人知道为什么这个错误在我之前吗

1375
00:56:24,181 --> 00:56:24,746
open it?
打开它吗?

1376
00:56:24,815 --> 00:56:25,447
>> Mutating.

1377
00:56:25,516 --> 00:56:27,249
>> What? >> Yeah, mutating.

1378
00:56:27,318 --> 00:56:27,949
>> Mutating.

1379
00:56:28,018 --> 00:56:29,484
That's a good guess but no.
这是一个很好的猜测，但不是。

1380
00:56:29,553 --> 00:56:34,489
It's because self, it's the old closure cycle problem,
因为它是一个旧的闭合周期问题，

1381
00:56:34,558 --> 00:56:35,490
right?
对吧?

1382
00:56:35,559 --> 00:56:37,392
Since we're accessing self here,
既然我们在这里访问self，

1383
00:56:37,460 --> 00:56:39,228
these tweets as part of our self.
这些推文是我们自我的一部分。

1384
00:56:39,296 --> 00:56:41,630
We need to explicitly say that so
我们需要明确地说出来

1385
00:56:41,698 --> 00:56:44,433
that we can notice, we might have a memory cycle.
我们可以注意到，我们可能有一个记忆周期。

1386
00:56:44,501 --> 00:56:46,668
And do we have a memory cycle here?
这里有一个记忆周期吗?

1387
00:56:46,737 --> 00:56:48,536
In fact we do.
事实上,我们做的。

1388
00:56:48,605 --> 00:56:51,106
Because what if this view controller goes off to
因为如果这个视图控制器离开

1389
00:56:51,175 --> 00:56:53,374
fetch some tweets and it takes forever.
获取一些推文，这将花费永远。

1390
00:56:53,443 --> 00:56:57,078
And so the person says, I'll search for something else.
所以这个人说，我去找别的东西。

1391
00:56:57,147 --> 00:56:59,014
Now they said the search text is on the else and
现在他们说搜索文本在别的地方

1392
00:56:59,083 --> 00:57:00,482
another fetch goes off.
另一个拿了。

1393
00:57:00,551 --> 00:57:03,652
And now here comes the first fetch and it's irrelevant now
这是第一个取回，现在无关紧要了

1394
00:57:03,720 --> 00:57:05,453
because I already looked for something else.
因为我已经在寻找其他的东西。

1395
00:57:05,522 --> 00:57:08,823
So we do here, want to be careful to ignore
所以我们在这里做，要小心忽略

1396
00:57:08,892 --> 00:57:12,460
this when it comes back and we also, if someone searches and
当它回来的时候，我们也，如果有人搜索

1397
00:57:12,529 --> 00:57:15,130
it's taking forever and they hit back, we want our view
这是永远的，他们回击，我们想要我们的观点

1398
00:57:15,199 --> 00:57:17,833
controllers to be able to leave memory as well.
控制器也能留下记忆。

1399
00:57:17,902 --> 00:57:19,701
So we don't want the closure, the cycle here,
所以我们不希望这个循环，

1400
00:57:19,770 --> 00:57:21,936
we don't want this closure holding our self in memory.
我们不希望这个封闭在记忆中保持自我。

1401
00:57:22,005 --> 00:57:24,639
So we don't want this to be a strong pointer and
所以我们不希望它是一个强指针

1402
00:57:24,708 --> 00:57:27,709
we need to check to make sure that when we get back,
我们需要确认一下，当我们回来的时候，

1403
00:57:27,778 --> 00:57:29,877
it's still what we're interested in.
这仍然是我们感兴趣的。

1404
00:57:29,946 --> 00:57:31,880
So how can we break this cycle?
那么我们如何打破这个循环呢?

1405
00:57:31,949 --> 00:57:33,915
We're just gonna use our friend weak self, okay?
我们只是要用我们的朋友软弱的自己，好吗?

1406
00:57:33,916 --> 00:57:35,882
That's easy.
这很简单。

1407
00:57:35,952 --> 00:57:37,552
And that turns this into an optional.
这就变成了可选的。

1408
00:57:37,621 --> 00:57:39,253
So we added a question mark.
所以我们加了一个问号。

1409
00:57:39,322 --> 00:57:40,422
Boom, we broke that cycle.
繁荣，我们打破了这个循环。

1410
00:57:40,491 --> 00:57:42,457
So even if this fetch is sitting out there fetching,
因此，即使这个取回是坐在那里取回的，

1411
00:57:42,525 --> 00:57:44,325
it's not gonna be keeping our view controller in memory.
它不会把视图控制器保存在内存中。

1412
00:57:44,394 --> 00:57:46,060
Our view control can leave memory, and
我们的视图控制可以留下内存

1413
00:57:46,129 --> 00:57:46,795
if it comes back and
如果它回来了

1414
00:57:46,864 --> 00:57:49,897
it's gone, then this line of code will not execute.
它消失了，然后这行代码就不会执行了。

1415
00:57:49,966 --> 00:57:52,267
How about dealing with the fact that our request might
如何处理我们的请求可能的事实

1416
00:57:52,336 --> 00:57:53,635
have changed?
已经改变了吗?

1417
00:57:53,704 --> 00:57:54,969
Well, to do that,
嗯,要做到这一点,

1418
00:57:55,038 --> 00:57:59,073
I'm gonna have to keep track of our lastTwitterRequest,
我要跟踪我们的lastTwitterRequest，

1419
00:57:59,142 --> 00:58:02,211
actually we've got to put it inside here.
实际上我们要把它放在这里。

1420
00:58:04,181 --> 00:58:08,349
Okay, I'm gonna keep track of it, and
好吧，我要跟踪它，然后

1421
00:58:08,418 --> 00:58:13,388
then in here I'm not going to do this unless our
在这里，我不打算这么做，除非我们

1422
00:58:13,457 --> 00:58:18,060
request equals the lastTwitterRequest.
等于lastTwitterRequest请求。

1423
00:58:18,128 --> 00:58:21,029
So if this request that came back is not the last one we
所以如果这个请求返回不是最后一个

1424
00:58:21,098 --> 00:58:22,797
issued, then I'm not gonna do it.
发布，然后我就不做了。

1425
00:58:22,866 --> 00:58:24,866
And so let me go up here and
往上看

1426
00:58:24,935 --> 00:58:28,169
say private var lastTwitterRequest and
表示私有var lastTwitterRequest

1427
00:58:28,238 --> 00:58:32,907
that's going to be a Twitter.Request of course.
这将是一个Twitter。当然请求。

1428
00:58:32,976 --> 00:58:38,079
Request, optional, is not always set.
请求，可选，并不总是设置。

1429
00:58:38,148 --> 00:58:39,914
Everyone kinda see what I'm doing there?
大家都明白我在做什么吗?

1430
00:58:39,983 --> 00:58:42,583
And of course this is saying self again, so we'll put self
当然，这就是自我，所以我们把self

1431
00:58:42,652 --> 00:58:44,920
in there and of course self is weak so we'll do that.
在那里，当然，self很弱，所以我们这样做。

1432
00:58:46,056 --> 00:58:46,988
So that's all good.
这就是好。

1433
00:58:47,057 --> 00:58:48,957
Any other problems you can see with this?
还有其他问题吗?

1434
00:58:49,026 --> 00:58:51,493
I don't see any so far.
到目前为止我都没看到。

1435
00:58:52,529 --> 00:58:53,428
So it's all good. So,
所以一切都好。所以,

1436
00:58:53,497 --> 00:58:55,363
before we go hooking up our table view,
在我们连接表视图之前，

1437
00:58:55,432 --> 00:58:59,167
let's just make sure that our Twitter fetches are working.
让我们确保我们的Twitter取回正在工作。

1438
00:58:59,236 --> 00:59:02,137
And I'm gonna do that by putting a didSet
我要用didSet来做

1439
00:59:02,206 --> 00:59:06,007
up here on my model, and every time my model changes,
在我的模型上，每当我的模型改变时，

1440
00:59:06,076 --> 00:59:08,310
I'm just gonna print the tweets out.
我要把这些推文打印出来。

1441
00:59:08,379 --> 00:59:09,778
Now luckily I've made it so
幸运的是，我已经做到了

1442
00:59:09,847 --> 00:59:11,979
the tweet is CustomStringConvertible,
CustomStringConvertible推特,

1443
00:59:12,048 --> 00:59:13,615
it implements description.
它实现了描述。

1444
00:59:13,683 --> 00:59:15,383
It can print itself as a string so
它可以把自己打印成字符串

1445
00:59:15,452 --> 00:59:16,885
this is an array of those.
这是一个数组。

1446
00:59:16,953 --> 00:59:19,521
So this will print out an array, actually an array
这将打印出一个数组，实际上是一个数组

1447
00:59:19,589 --> 00:59:22,224
of an array of this tweet printed out as a string.
这条推特的数组以字符串形式打印出来。

1448
00:59:22,293 --> 00:59:26,294
So we're just gonna print it out there.
我们把它打印出来。

1449
00:59:26,363 --> 00:59:27,695
Just seems like it should work?
看起来应该行得通吗?

1450
00:59:27,764 --> 00:59:30,865
Let's go give it a try and find out.
让我们试着找出答案。

1451
00:59:30,934 --> 00:59:33,068
We'll do this on iPhone 7.
我们在iPhone 7上做这个。

1452
00:59:37,107 --> 00:59:38,706
Pay attention right now because this
现在就集中注意力

1453
00:59:38,775 --> 00:59:40,742
is not in fact going to work.
实际上并不是要去工作。

1454
00:59:40,810 --> 00:59:43,177
And this won't work for you either and you're gonna need
这对你也没用，你需要

1455
00:59:43,246 --> 00:59:45,581
to do a couple of things to make a Twitter fetch work.
做一些事情来做一个Twitter的取回工作。

1456
00:59:46,917 --> 00:59:49,951
By the way you see we have these prototype cells that
顺便说一下，我们看到了这些原型细胞

1457
00:59:50,020 --> 00:59:53,055
have to have reuse identifiers; gotta remember to
必须重新使用标识符;要记得

1458
00:59:53,123 --> 00:59:55,356
fix that later.
修复之后。

1459
00:59:55,425 --> 01:00:00,762
Alright, so we run, and look at this thing it puts up here,
好的，我们运行，看看它放在这里，

1460
01:00:00,831 --> 01:00:02,964
Smashtag would like to access Twitter accounts.
Smashtag希望访问Twitter账户。

1461
01:00:03,033 --> 01:00:05,166
So you're not allowed to write an app that just starts
所以你不允许写一个刚刚开始的应用

1462
01:00:05,235 --> 01:00:07,935
posting things for people on Twitter behind the scenes.
在幕后给人们发推特。

1463
01:00:08,004 --> 01:00:11,806
Okay, when you write an app it is always going to ask,
当你写一个应用时它总是会问，

1464
01:00:11,875 --> 01:00:14,709
the first time you try to use Twitter, whether it's allowed.
你第一次尝试使用Twitter，不管它是允许的。

1465
01:00:14,777 --> 01:00:18,513
So I'll click okay, and let's go look in our console and
点击ok，让我们看看控制台

1466
01:00:18,582 --> 01:00:19,214
see if it printed.
是否打印。

1467
01:00:21,384 --> 01:00:24,218
It didn't, all it printed out here is, couldn't discover
它打印出来的不是，没有发现

1468
01:00:24,287 --> 01:00:27,689
Twitter account type, hm, why would it say that?
推特账户类型，嗯，为什么这么说?

1469
01:00:27,757 --> 01:00:31,026
Well, that's because your simulator, it's just a device,
那是因为你的模拟器，它只是一个设备，

1470
01:00:31,094 --> 01:00:34,229
it needs to have Twitter, a Twitter account, basically,
它需要有Twitter，一个Twitter账号，

1471
01:00:34,298 --> 01:00:35,463
your device needs a Twitter account, so
你的设备需要一个Twitter帐户

1472
01:00:35,531 --> 01:00:36,331
where do we set that?
我们把它放在哪里?

1473
01:00:36,399 --> 01:00:38,299
So let's go back to our simulator,
我们回到模拟器，

1474
01:00:38,368 --> 01:00:42,737
here it is, I'm gonna go hardware, home button, okay,
这是，我要去硬件，home键，好的，

1475
01:00:42,805 --> 01:00:44,405
you can also do command, shift, F.
你也可以做命令，shift,F。

1476
01:00:44,474 --> 01:00:45,306
Is hardware home button.
是硬件按钮。

1477
01:00:45,375 --> 01:00:49,477
And I'm gonna go over to the Settings app on my simulator.
然后我要到模拟器上的设置应用程序。

1478
01:00:49,546 --> 01:00:51,512
But you can do it on your device as well.
但你也可以在你的设备上做。

1479
01:00:51,581 --> 01:00:54,082
And if you go down in settings, here's Twitter.
如果你在设置中，这里是Twitter。

1480
01:00:54,151 --> 01:00:54,916
Look at that.
看看这个。

1481
01:00:54,985 --> 01:00:55,550
Twitter right there.
Twitter。

1482
01:00:55,619 --> 01:00:57,218
And here's where you type in your
你在这里输入

1483
01:00:57,287 --> 01:00:58,386
Twitter username and password.
Twitter用户名和密码。

1484
01:00:58,455 --> 01:00:59,854
And if you don't type this in,
如果你不输入这个，

1485
01:00:59,923 --> 01:01:03,391
then no apps on your system can access Twitter.
你的系统上没有任何应用可以访问Twitter。

1486
01:01:03,460 --> 01:01:06,094
Cuz how would they- they'd have to know who you are.
因为他们要知道你是谁。

1487
01:01:06,163 --> 01:01:08,730
So I'm gonna type this here, I'm gonna do it off screen cuz
我要在这里输入，我要在屏幕上显示

1488
01:01:08,799 --> 01:01:11,466
I don't want you to see my password.
我不想让你看到我的密码。

1489
01:01:11,535 --> 01:01:14,269
So now I am logged in on Twitter.
所以现在我登录了Twitter。

1490
01:01:15,539 --> 01:01:17,139
So now if I go back and start my app
现在如果我回去开始我的应用程序

1491
01:01:18,875 --> 01:01:21,876
It will both be in allowed because I clicked OK.
它将会被允许，因为我点击OK。

1492
01:01:21,945 --> 01:01:23,878
And I'll be logged in so
我将会登陆

1493
01:01:23,947 --> 01:01:25,980
it'll have an actual Twitter user that can do it.
它会有一个真正的Twitter用户。

1494
01:01:26,049 --> 01:01:27,782
And sure enough, look down here at the bottom.
当然，向下看。

1495
01:01:27,850 --> 01:01:31,186
We're getting all kinds of tweets being printed out here.
我们在这里打印出各种各样的推文。

1496
01:01:31,255 --> 01:01:32,387
So here's a tweet.
这是一条微博。

1497
01:01:32,455 --> 01:01:34,756
Here's its unique ID.
这是其惟一的ID。

1498
01:01:34,824 --> 01:01:36,691
Here's the person who tweeted it.
这是推特的人。

1499
01:01:36,760 --> 01:01:38,559
Here's when it was tweeted.
这是推特的时候。

1500
01:01:38,628 --> 01:01:41,729
Here is the text of the tweet.
这是推特的文本。

1501
01:01:41,798 --> 01:01:44,432
This one's got an embedded URL, etc.
这个有一个嵌入的URL，等等。

1502
01:01:44,501 --> 01:01:45,700
So we're doing well.
所以我们做的很好。

1503
01:01:45,769 --> 01:01:47,702
We've got our tweets coming in.
我们已经收到了我们的tweets。

1504
01:01:47,771 --> 01:01:50,638
So now all we need to do is load them up into our
所以现在我们要做的就是把它们装进我们的

1505
01:01:50,707 --> 01:01:51,506
table view.
表视图。

1506
01:01:51,575 --> 01:01:53,608
So what do we need to do to load this thing up in
我们需要做什么来加载这个东西

1507
01:01:53,676 --> 01:01:54,409
the table view?
表视图?

1508
01:01:54,478 --> 01:01:57,879
Now, surprisingly simple actually, the two pieces we
其实很简单，这两个部分

1509
01:01:57,948 --> 01:02:01,249
have to do, one is every time we change our model we have
我们要做的是，每次我们改变我们的模型的时候

1510
01:02:01,317 --> 01:02:04,519
to tell the table view that it changed and then we have
告诉表视图，它改变了，然后我们有了

1511
01:02:04,587 --> 01:02:07,989
to implement those table view data source methods.
要实现这些表视图数据源方法。

1512
01:02:08,057 --> 01:02:09,323
So let's start with the first one.
我们从第一个开始。

1513
01:02:09,392 --> 01:02:12,760
Actually we have already changed our model once.
实际上，我们已经更改了我们的模型一次。

1514
01:02:12,829 --> 01:02:14,962
Right here, we changed our model and
在这里，我们改变了模型

1515
01:02:15,031 --> 01:02:17,965
we told the table view about it, so that's good.
我们告诉了表格视图，这很好。

1516
01:02:18,034 --> 01:02:20,001
Here we're changing our model.
我们要改变我们的模型。

1517
01:02:20,070 --> 01:02:23,137
So we need to tell the table view about it.
所以我们需要告诉表视图。

1518
01:02:23,206 --> 01:02:26,207
So self?.tableView.
所以自我? .tableView。

1519
01:02:26,276 --> 01:02:27,909
And what did I do here to my model?
我在模型中做了什么?

1520
01:02:27,977 --> 01:02:30,611
I just inserted a section at the beginning.
我刚开始插入一个部分。

1521
01:02:30,680 --> 01:02:34,882
So there happens to be a tableView method called
这里有一个tableView方法

1522
01:02:34,951 --> 01:02:36,484
insertSection.
insertSection。

1523
01:02:36,553 --> 01:02:38,419
And it just says, you inserted some sections.
它只是说，你插入了一些部分。

1524
01:02:38,488 --> 01:02:39,720
Which ones?
哪一个?

1525
01:02:39,789 --> 01:02:41,289
ask you about those and put the rows in there for you.
问你这些，把这些行放在那里。

1526
01:02:41,290 --> 01:02:42,790
I will go and
我将去

1527
01:02:42,859 --> 01:02:44,792
And this sections is an index set,
这部分是一个指数集，

1528
01:02:44,861 --> 01:02:47,428
which you can give it an array literal.
你可以给它一个数组的文字。

1529
01:02:47,497 --> 01:02:49,697
So I just inserted section zero.
所以我只是插入了section 0。

1530
01:02:49,766 --> 01:02:52,066
So I'll just put an array with just zero in it.
我把数组的值设为0。

1531
01:02:52,135 --> 01:02:54,702
And I'm gonna use the fade animation
我将使用渐变动画

1532
01:02:54,771 --> 01:02:56,138
to show that fading in.
显示它正在衰退。

1533
01:02:58,208 --> 01:02:59,507
So, insertSections.
所以,insertSections。

1534
01:02:59,575 --> 01:03:02,777
So, this is me telling the tableView, I changed my model,
这是我告诉tableView，我改变了模型，

1535
01:03:02,845 --> 01:03:04,379
so ask me again.
所以再次问我。

1536
01:03:04,447 --> 01:03:05,780
Ask me those tableView data source.
问我那些tableView的数据源。

1537
01:03:05,849 --> 01:03:08,483
Now, since I told it exactly what I did it's only gonna ask
现在，因为我告诉了它我所做的只是想问

1538
01:03:08,551 --> 01:03:11,252
me about that section, which is nice, higher performance.
我是关于那部分的，这很好，更高的性能。

1539
01:03:11,321 --> 01:03:13,488
Then reloadData, the hammer reloadData,
然后重载数据，重负荷数据，

1540
01:03:13,557 --> 01:03:16,124
in which case it would ask me for all rows in all sections
在这种情况下，它会要求我所有section中的所有行

1541
01:03:16,193 --> 01:03:20,361
again; so here I know exactly what I did.
再一次;所以我知道我做了什么。

1542
01:03:20,430 --> 01:03:24,365
Now this actually is dangerous code here.
这实际上是很危险的代码。

1543
01:03:24,434 --> 01:03:26,334
This is really easy to add this line of code and
这很容易添加这一行代码

1544
01:03:26,403 --> 01:03:28,102
now your app just acts weird.
现在你的应用程序就变得很奇怪了。

1545
01:03:28,171 --> 01:03:30,204
It just acts weird all the time.
它总是表现得很奇怪。

1546
01:03:30,273 --> 01:03:33,240
Can anyone, want, guess why this
有谁想知道为什么吗

1547
01:03:33,309 --> 01:03:36,144
adding this line of code would cause my app to go all weird?
添加这行代码会让我的应用程序变得很奇怪吗?

1548
01:03:37,647 --> 01:03:42,149
It's because this is a UI call.
因为这是一个UI调用。

1549
01:03:42,218 --> 01:03:46,153
And what queue are we on here?
这里有什么队列?

1550
01:03:46,222 --> 01:03:47,622
Some queue, not the main queue.
一些队列，而不是主队列。

1551
01:03:47,691 --> 01:03:50,725
Whatever queue we fetched those tweets on, okay?
无论我们在哪个队列上获取这些tweet，对吧?

1552
01:03:50,794 --> 01:03:52,159
So we're not on the main queue.
所以我们不在主队列上。

1553
01:03:52,228 --> 01:03:54,862
So we can't make a UI call here.
所以我们不能在这里做UI调用。

1554
01:03:54,931 --> 01:04:00,035
Right, so we have to dispatch this back to the main queue.
好的，我们必须将它发送回主队列。

1555
01:04:01,971 --> 01:04:03,138
So this is something that,
所以这是，

1556
01:04:03,207 --> 01:04:04,839
will just take some getting used to for
只是需要一些习惯吗

1557
01:04:04,907 --> 01:04:06,474
you guys with this multithreading,
有了多线程，

1558
01:04:06,543 --> 01:04:08,910
cuz you're gonna do these things in this other queue,
因为你要在另一个队列中做这些事情，

1559
01:04:08,978 --> 01:04:11,479
and you're gonna update your table view, and then
然后更新表格视图

1560
01:04:11,548 --> 01:04:14,215
it's like what's going on my app is just acting so strange.
这就像我的应用程序运行起来很奇怪。

1561
01:04:14,283 --> 01:04:15,817
And that's why- because you can do
这就是为什么——因为你能做到

1562
01:04:15,886 --> 01:04:17,151
UI stuff on the main queue.
主队列上的UI。

1563
01:04:17,220 --> 01:04:19,387
And it's not gonna warn you or necessarily crash,
它不会警告你或者必然会崩溃，

1564
01:04:19,455 --> 01:04:22,023
it might eventually crash, it's just gonna act all weird.
它可能最终会崩溃，它会表现得很奇怪。

1565
01:04:22,091 --> 01:04:27,161
So, fixed that.
所以,固定。

1566
01:04:27,230 --> 01:04:28,096
This is good.
这是很好的。

1567
01:04:28,165 --> 01:04:30,064
We've got the table view updating our model and we've
我们已经有了更新模型的表视图

1568
01:04:30,133 --> 01:04:32,333
got the table view knowing about change to the model.
了解了对模型的更改的表视图。

1569
01:04:32,402 --> 01:04:35,236
So now all we need to do is implement this
现在我们要做的就是实现这个

1570
01:04:35,305 --> 01:04:38,707
UITableViewDataSource protocol so
所以需要协议

1571
01:04:38,775 --> 01:04:42,077
that it can get the data from us.
它能从我们那里得到数据。

1572
01:04:42,145 --> 01:04:43,044
So let's do it.
让我们来做它。

1573
01:04:43,113 --> 01:04:47,849
Number of sections, how many sections are in our table?
section数，表中有多少个section ?

1574
01:04:47,918 --> 01:04:49,784
Anyone know?
有人知道吗?

1575
01:04:51,488 --> 01:04:54,488
Yeah.
是的。

1576
01:04:54,557 --> 01:04:57,992
Exactly, candy thrown at you cuz that's exactly right.
确切地说，糖果扔在你的身上，这完全正确。

1577
01:04:58,061 --> 01:04:59,426
tweets.count.
tweets.count。

1578
01:04:59,495 --> 01:05:03,464
It's just the number of arrays that we have in our model here
它只是我们模型中的数组的个数

1579
01:05:03,533 --> 01:05:07,602
because each of this arrays inside here are a section, so
因为这里的每个数组都是一个section

1580
01:05:07,671 --> 01:05:08,502
perfect.
完美的。

1581
01:05:08,571 --> 01:05:11,106
And then what about this one?
那么这个呢?

1582
01:05:11,174 --> 01:05:15,443
Here we're being asked how many rows are there in tweets
这里我们要问，推文中有多少行

1583
01:05:15,512 --> 01:05:17,044
subsection?
分段吗?

1584
01:05:17,113 --> 01:05:20,215
That's just count also.
这只是数也。

1585
01:05:21,752 --> 01:05:23,484
So we've designed our data structure so
所以我们设计了数据结构

1586
01:05:23,553 --> 01:05:25,152
that these are super easy to implement,
这些都非常容易实现，

1587
01:05:25,221 --> 01:05:26,888
which I highly recommend if you can do it.
如果你能做到，我强烈推荐。

1588
01:05:26,957 --> 01:05:27,788
You can't always do it.
你不能总是这么做。

1589
01:05:27,857 --> 01:05:29,758
But if you can it's nice.
但如果你能做到，那就太好了。

1590
01:05:29,826 --> 01:05:32,527
So now a little more difficult, only a little
所以现在有点困难，只有一点点

1591
01:05:32,596 --> 01:05:35,596
though, is cellForRowAt index path right here.
不过，这里是cellForRowAt索引路径。

1592
01:05:35,665 --> 01:05:38,666
So here's where we have to return the UITableViewCell
这是我们返回UITableViewCell的地方

1593
01:05:38,735 --> 01:05:40,435
that we're gonna use to draw.
我们要用它来画。

1594
01:05:40,504 --> 01:05:44,238
Now, let's go back to our Storyboard here and
现在，让我们回到我们的故事板

1595
01:05:44,307 --> 01:05:48,242
let's just start out with something simple.
我们从简单的开始。

1596
01:05:48,311 --> 01:05:51,579
Let's try using here a subtitle cell.
我们试着在这里使用一个subtitle单元格。

1597
01:05:51,648 --> 01:05:53,048
So I'm gonna click on this cell.
点击这个单元格。

1598
01:05:53,116 --> 01:05:55,616
And will change its style from being custom
并将改变它的风格

1599
01:05:55,685 --> 01:05:56,784
to being subtitle.
副标题。

1600
01:05:56,853 --> 01:05:57,718
So there's title and subtitle.
这里有标题和副标题。

1601
01:05:57,787 --> 01:06:00,655
And I'm gonna set the title to be the text with the tweet.
我将把标题设为tweet的文本。

1602
01:06:00,724 --> 01:06:02,089
And I'm gonna set the subtitle
我要设置副标题

1603
01:06:02,158 --> 01:06:03,525
to be the person who tweeted it.
成为推特的人。

1604
01:06:05,528 --> 01:06:07,895
So let's try that and see how that looks.
我们来试试看看。

1605
01:06:07,964 --> 01:06:09,597
So how am I gonna do that?
我要怎么做呢?

1606
01:06:09,666 --> 01:06:11,266
Two things I need to do here.
在这里我需要做两件事。

1607
01:06:11,334 --> 01:06:14,001
One is I need to dequeue a reusable cell, and
一个是我需要dequeue一个可重用的单元格，并且

1608
01:06:14,070 --> 01:06:19,407
I to tell iOS which prototype to use,
我告诉iOS要使用哪个原型，

1609
01:06:19,475 --> 01:06:20,742
which prototype in the Storyboard.
故事板中的原型。

1610
01:06:20,810 --> 01:06:23,377
So lets go back to our Storyboard.
让我们回到故事板。

1611
01:06:23,446 --> 01:06:24,879
And I only have one prototype.
我只有一个原型。

1612
01:06:24,948 --> 01:06:25,613
It's this one.
这是这一个。

1613
01:06:25,682 --> 01:06:27,048
That's the one I wanna use.
这是我想用的。

1614
01:06:27,117 --> 01:06:28,549
So I need to give it an identifier.
我需要给它一个标识符。

1615
01:06:28,618 --> 01:06:29,884
I'm gonna call it Tweet,
我把它叫做Tweet，

1616
01:06:29,953 --> 01:06:32,386
because that's what this cell shows.
因为这就是这个细胞所显示的。

1617
01:06:32,455 --> 01:06:33,287
It shows a tweet.
它显示了一个tweet。

1618
01:06:33,356 --> 01:06:35,490
Notice that caused my warning to go away.
注意，这引起了我的警告。

1619
01:06:35,558 --> 01:06:36,957
Because all these prototype cells
因为所有这些原型细胞

1620
01:06:37,026 --> 01:06:38,760
always need an identifier.
总是需要一个标识符。

1621
01:06:38,829 --> 01:06:40,127
And now when I go back here,
当我回到这里，

1622
01:06:40,196 --> 01:06:43,631
I can change this from reuseIdentifier to Tweet.
我可以从reuseIdentifier更改为Tweet。

1623
01:06:43,700 --> 01:06:47,468
Okay, so now, I am able to dequeueReusableCell
好了，现在，我可以dequeueReusableCell了

1624
01:06:47,536 --> 01:06:50,071
that will be a copy of that prototype that's subtitled.
那将会是这个原型的拷贝，副标题。

1625
01:06:50,140 --> 01:06:52,741
So all my rows are gonna be subtitle rows.
所以所有的行都是副标题行。

1626
01:06:53,710 --> 01:06:55,076
So now I've got this cell,
现在我有了这个单元格，

1627
01:06:55,145 --> 01:06:57,512
it's of type UITableViewCell by the way,
顺便说一下，它是UITableViewCell，

1628
01:06:57,581 --> 01:06:59,781
since it's a standard type not a custom type.
因为它是标准类型，而不是自定义类型。

1629
01:06:59,849 --> 01:07:00,748
How do I configure it?
我如何配置它?

1630
01:07:00,817 --> 01:07:03,785
Well, for me to configure the cells, to set the title and
对我来说，配置单元格，设置标题

1631
01:07:03,853 --> 01:07:05,787
I need to know which Tweet it's asking me for here.
我需要知道在这里问我的是哪条推文。

1632
01:07:05,788 --> 01:07:07,722
the subtitle,
副标题,

1633
01:07:07,791 --> 01:07:09,657
And I know which Tweet it's asking because it's
我知道是哪条推文，因为它是

1634
01:07:09,726 --> 01:07:11,859
saying cellForRowAt.
说cellForRowAt。

1635
01:07:11,928 --> 01:07:15,897
This is the row that's the tweet that is asking
这是这条推文

1636
01:07:15,966 --> 01:07:20,101
me to give it a UITableViewCell for.
我给它一个UITableViewCell。

1637
01:07:20,170 --> 01:07:25,306
So I'm gonna let tweet equal
所以我要让tweet等于

1638
01:07:25,374 --> 01:07:32,046
my model sub indexPath.section and
我的模型子indexPath。节和

1639
01:07:32,115 --> 01:07:35,550
indexPath.row.
indexpath。row。

1640
01:07:35,618 --> 01:07:38,352
So I'm just getting this row in this section,
所以我在这一部分得到这一行，

1641
01:07:38,421 --> 01:07:41,322
this gets the first array, the section,
这得到第一个数组，section，

1642
01:07:41,390 --> 01:07:42,790
I'm just getting the row out of it.
我只是把它弄出来。

1643
01:07:42,858 --> 01:07:46,427
So now I got the tweet, so now I can just update the cell
现在我得到了tweet，所以现在我可以更新单元格了

1644
01:07:46,496 --> 01:07:51,598
really easily, cell.textLabel.
真的很容易,cell.textLabel。

1645
01:07:51,667 --> 01:07:53,801
It might be an optional ?.text equals,
它可能是可选的?文本=,

1646
01:07:53,870 --> 01:07:56,638
let's have that be the tweet's text.
让我们把它变成推特的文本。

1647
01:07:56,706 --> 01:08:00,174
This is something that you'll see in here, we go to
这是你们在这里看到的，我们去

1648
01:08:00,243 --> 01:08:03,711
the Twitter, and look for the Twitter framework at Tweet,
推特，在推特上寻找推特框架，

1649
01:08:03,779 --> 01:08:07,014
and you'll see that the very first one in fact, is text.
你会看到，第一个是文本。

1650
01:08:07,083 --> 01:08:11,018
And then we'll make this cell detailTextLabel,
然后我们将创建这个cell detailTextLabel，

1651
01:08:11,087 --> 01:08:15,589
its text will be the tweet's user's name, let's say.
它的文本将是推特用户的名字。

1652
01:08:15,658 --> 01:08:20,261
So again, Tweet, user, username.
再一次，推特，用户，用户名。

1653
01:08:20,329 --> 01:08:24,265
So, that's why I'm getting that information.
这就是我得到这些信息的原因。

1654
01:08:24,334 --> 01:08:25,366
Do you understand that?
你明白吗?

1655
01:08:25,435 --> 01:08:26,934
Part of it, okay?
它的一部分,好吗?

1656
01:08:27,003 --> 01:08:28,736
So, that I'll came out of this Tweet.
所以，我将从这条推文中出来。

1657
01:08:28,804 --> 01:08:31,272
This is of type Tweet.
这是推特的类型。

1658
01:08:34,944 --> 01:08:35,442
Everybody got that?
大家都明白了吗?

1659
01:08:35,511 --> 01:08:40,014
All right, so is that it?
好吧，是这样吗?

1660
01:08:40,082 --> 01:08:43,684
Do we need to do anything else to hook this thing up and
我们需要做些什么来把这个东西勾起来吗

1661
01:08:43,753 --> 01:08:44,552
make it work?
让它工作吗?

1662
01:08:44,621 --> 01:08:46,921
Turns out no.
结果没有。

1663
01:08:46,990 --> 01:08:47,956
So let's just run.
让我们来运行。

1664
01:08:51,561 --> 01:08:53,094
Okay, there it is.
好的,就是这样。

1665
01:08:53,163 --> 01:08:55,362
The world's greatest Twitter client.
世界上最伟大的Twitter客户。

1666
01:08:55,431 --> 01:08:55,963
Look at that.
看看这个。

1667
01:08:56,032 --> 01:08:56,965
It looks beautiful.
它看起来很漂亮。

1668
01:08:58,201 --> 01:08:58,832
No, of course, in fact,
不，当然，事实上，

1669
01:08:58,901 --> 01:09:01,469
this is the world's ugliest Twitter client right here.
这是世界上最丑的Twitter客户端。

1670
01:09:01,538 --> 01:09:02,470
But it is working.
但这是工作。

1671
01:09:02,539 --> 01:09:03,704
These are tweets.
这些都是微博。

1672
01:09:03,773 --> 01:09:06,073
But anyway, you can see here's the tweets and
无论如何，你可以看到这里的推文和

1673
01:09:06,142 --> 01:09:09,110
here are the person who tweeted it.
这是推特的人。

1674
01:09:10,446 --> 01:09:13,414
Now obviously, this is awful UI.
很明显，这是糟糕的UI。

1675
01:09:13,483 --> 01:09:14,648
Just absolutely horrendous UI.
是绝对可怕的UI。

1676
01:09:14,717 --> 01:09:16,918
You would never have a Twitter client like this.
你永远不会有这样的Twitter客户。

1677
01:09:16,986 --> 01:09:19,954
We want our UI in these cells to look much nicer,
我们想让我们的UI在这些单元格里看起来更好，

1678
01:09:20,023 --> 01:09:22,190
much more customized to a tweet.
更定制的推特。

1679
01:09:22,259 --> 01:09:24,759
So we're gonna go back to our Storyboard here.
我们回到这里的故事板。

1680
01:09:24,828 --> 01:09:28,963
And instead of using this awful subtitle style cell,
而不是使用这个可怕的字幕样式单元，

1681
01:09:29,032 --> 01:09:30,631
we're gonna build a custom cell.
我们将构建一个自定义单元格。

1682
01:09:30,699 --> 01:09:35,236
And this custom cell is gonna have more good looking and
这个自定义单元格会有更好的外观

1683
01:09:35,305 --> 01:09:38,672
more of the data that comes with a Tweet.
更多的数据来自推特。

1684
01:09:38,741 --> 01:09:39,840
So let's just build it.
我们来建立它。

1685
01:09:39,909 --> 01:09:43,611
Let's go here and make this a little bigger, make some room.
让我们把它放大一些，腾出点空间。

1686
01:09:43,679 --> 01:09:45,312
All right, I'm gonna grab some labels out of here.
好吧，我把标签拿出来。

1687
01:09:45,381 --> 01:09:47,982
There's a label, this will maybe be,
有一个标签，可能是，

1688
01:09:48,051 --> 01:09:49,584
let's say this is the Tweeter.
假设这是推特。

1689
01:09:49,653 --> 01:09:51,753
This is the person who's doing the Tweet.
这是做推特的人。

1690
01:09:51,821 --> 01:09:55,089
By the way, this is a case where we're showing user
顺便说一下，这是一个我们展示用户的例子

1691
01:09:55,157 --> 01:09:56,190
content really.
真正的内容。

1692
01:09:56,259 --> 01:09:57,625
These tweets are content.
这些微博内容。

1693
01:09:57,694 --> 01:09:59,793
They're not like the title of a button or something,
它们不像按钮的标题，

1694
01:09:59,862 --> 01:10:03,030
it's actually the content that the user has requested to see.
它实际上是用户要求看到的内容。

1695
01:10:03,099 --> 01:10:04,598
So I'm gonna use a font here.
这里我要用一个字体。

1696
01:10:04,667 --> 01:10:05,400
You see this font?
你看到这个字体吗?

1697
01:10:05,468 --> 01:10:06,867
I'm not gonna use the system font.
我不会使用系统字体。

1698
01:10:06,936 --> 01:10:10,137
I'm going to go down and start using this text styles.
我要开始使用文本样式。

1699
01:10:10,206 --> 01:10:12,940
So the Tweeter is going to be at the top.
所以Tweeter将会在顶部。

1700
01:10:13,009 --> 01:10:15,509
I'm gonna have that be a headline font.
我要用标题字体。

1701
01:10:15,578 --> 01:10:17,378
So this is gonna be the headline font and
这是标题字体

1702
01:10:17,447 --> 01:10:20,415
this could change over time, okay, whatever the system
这可能会随着时间改变，不管系统是什么

1703
01:10:20,483 --> 01:10:23,050
thinks headline font is and it'll be true in every app.
认为标题字体在每个应用程序都是正确的。

1704
01:10:23,118 --> 01:10:26,087
The headline will always be using this font in every app
标题总是在每个应用程序中使用这种字体

1705
01:10:26,156 --> 01:10:28,389
and users could even go into settings and
用户甚至可以进入设置

1706
01:10:28,458 --> 01:10:30,124
change the size of their fonts.
改变字体的大小。

1707
01:10:30,192 --> 01:10:31,225
If they're like me and
如果他们像我一样

1708
01:10:31,294 --> 01:10:33,995
they're visions going they can set them bigger.
他们认为他们可以让他们更大。

1709
01:10:34,064 --> 01:10:37,332
And the fonts will get bigger automatically so
字体会自动变大

1710
01:10:37,400 --> 01:10:41,101
ther's big advantage to using these font styles.
使用这些字体样式有很大的优势。

1711
01:10:41,170 --> 01:10:42,703
So there's that one.
这是那一个。

1712
01:10:42,772 --> 01:10:45,138
There is the text of the tweet itself, so
这就是推特本身的文本

1713
01:10:45,207 --> 01:10:47,675
we'll just call that text.
我们把它叫做文本。

1714
01:10:47,744 --> 01:10:49,310
maybe a good font is body font because this is really, this
也许一个好的字体是体字体，因为这是真的

1715
01:10:49,311 --> 01:10:50,877
For this one,
为了这一个,

1716
01:10:50,947 --> 01:10:53,281
is the heart of what we're doing here, this body thing.
是我们在这里做的，这个身体的核心。

1717
01:10:53,349 --> 01:10:56,217
One thing that's kinda cool with UILabel, the text
有一件事对UILabel很酷，就是文本

1718
01:10:56,286 --> 01:10:58,252
in the tweet is probably gonna be multiple lines, and
在推特上可能会有多条线路

1719
01:10:58,320 --> 01:10:59,387
it's gonna wrap.
它会结束。

1720
01:10:59,455 --> 01:11:01,389
When you have a UI label like that,
当你有一个这样的UI标签时，

1721
01:11:01,457 --> 01:11:05,760
you wanna set this property lines to be zero.
你想把这个属性设为0。

1722
01:11:05,828 --> 01:11:09,230
If you have zero predefined lines then the UILabel
如果没有预先定义的线那么UILabel

1723
01:11:09,298 --> 01:11:12,199
will be however many lines it needs to be fit
然而，它需要多少线才能合适

1724
01:11:12,268 --> 01:11:15,136
the information with wrapping.
与包装的信息。

1725
01:11:15,205 --> 01:11:18,473
Whereas this one is line one this all one line.
而这条线是一条线。

1726
01:11:18,541 --> 01:11:22,443
And if it's too long it just gets dot dot dot at the end,
如果它太长它就会在最后得到。

1727
01:11:22,511 --> 01:11:23,310
all right?
好吧?

1728
01:11:23,379 --> 01:11:24,311
What else do I wanna do here?
我还想做什么?

1729
01:11:24,380 --> 01:11:26,547
Let's do another label here for
我们再做一个标记

1730
01:11:26,616 --> 01:11:30,251
when the tweet was tweeted out, when it was created.
当推特发布时，它被创建了。

1731
01:11:30,319 --> 01:11:34,321
That one is probably something like a caption, we'll say.
这可能是一个标题，我们会说。

1732
01:11:34,390 --> 01:11:36,624
Small little text at the bottom.
小的文字在底部。

1733
01:11:36,693 --> 01:11:40,094
We'll go ahead and center than right there.
我们先把中心放在这里。

1734
01:11:40,163 --> 01:11:41,895
Let's also get an image.
我们也可以得到一个图像。

1735
01:11:41,964 --> 01:11:44,131
Let's go down and find the image view down here.
我们往下走，在下面找到图像视图。

1736
01:11:44,200 --> 01:11:44,832
Where is our image view?
我们的图像视图在哪里?

1737
01:11:44,901 --> 01:11:45,666
Here it is.
在这儿。

1738
01:11:45,735 --> 01:11:48,202
Drag it out here. This is gonna be the profile
拖出来。这就是个人资料

1739
01:11:48,270 --> 01:11:49,970
image of the Tweeter.
推特的形象。

1740
01:11:50,039 --> 01:11:52,607
So whoever tweeted this will have their little image here.
无论谁在推特上都有自己的小形象。

1741
01:11:53,676 --> 01:11:54,575
This one, by the way,
顺便说一下，

1742
01:11:54,643 --> 01:11:57,879
I don't know how big profile images are on Twitter.
我不知道在Twitter上有多大的个人形象。

1743
01:11:57,947 --> 01:12:00,447
And I don't care because I'm gonna make this thing
我不在乎因为我要做这个

1744
01:12:00,516 --> 01:12:02,216
always be a fixed size.
永远是固定的尺寸。

1745
01:12:02,285 --> 01:12:05,419
So how do we make an image like this be a fixed size
我们怎样做一个像这样的图像是固定大小的

1746
01:12:05,488 --> 01:12:06,153
using auto layout?
使用自动布局?

1747
01:12:06,221 --> 01:12:09,924
And it turns out what you do is you Ctrl+Drag to itself.
你所做的就是按Ctrl +拖动。

1748
01:12:09,992 --> 01:12:11,058
And when you do,
当你做什么,

1749
01:12:11,127 --> 01:12:14,662
you'll see that you have the option to fix its width.
您将看到您可以选择修改它的宽度。

1750
01:12:14,731 --> 01:12:17,130
And you can Ctrl+Drag, and fix its height.
你可以Ctrl +拖动，调整它的高度。

1751
01:12:17,199 --> 01:12:18,899
You can also to both at the same time.
你也可以同时兼顾两者。

1752
01:12:18,968 --> 01:12:21,402
And, so what width and height has it fixed it to?
那么它的宽度和高度是多少?

1753
01:12:21,470 --> 01:12:23,871
Well, we can look over here in the size inspector,
我们可以看看尺寸检查器，

1754
01:12:23,940 --> 01:12:25,873
and see that it's fixed it to 71 by 67.
把它固定到71 / 67。

1755
01:12:25,941 --> 01:12:30,878
That doesn't sound very computer science-y,
这听起来并不像计算机科学，

1756
01:12:30,947 --> 01:12:34,315
I'm gonna fix it to 64 by 64.
我把它固定到64 / 64。

1757
01:12:34,384 --> 01:12:35,416
So I've made it so
所以我已经做到了

1758
01:12:35,484 --> 01:12:38,352
this image view is always gonna be 64 by 64.
图像视图总是64比64。

1759
01:12:38,421 --> 01:12:41,455
I don't care how big the person's actual profile image
我不关心这个人的真实形象有多大

1760
01:12:41,524 --> 01:12:42,690
is, I always want it to be that way.
是，我一直希望它是那样的。

1761
01:12:42,759 --> 01:12:44,592
Okay, so there's another little auto layout
还有一个小的自动布局

1762
01:12:44,660 --> 01:12:45,426
tidbit for you.
一点线索。

1763
01:12:47,129 --> 01:12:48,512
speaking of auto layouts, I need to lay this stuff out.
说到汽车布局，我需要把这些东西放出来。

1764
01:12:48,513 --> 01:12:49,896
All right, so
好吧,那么

1765
01:12:49,966 --> 01:12:52,700
I kinda want it to look, eh, something like this.
我想让它看起来，嗯，像这样。

1766
01:12:52,768 --> 01:12:53,801
See what I mean?
明白我的意思吗?

1767
01:12:53,870 --> 01:12:56,370
Approximately, and so I'm just gonna use stack view.
大约，我将使用堆栈视图。

1768
01:12:56,439 --> 01:13:01,475
So we'll stack those two things together, like that.
我们把这两种东西堆叠在一起，像这样。

1769
01:13:01,544 --> 01:13:02,877
Look at our things here, fill and fill.
看看我们的东西，填满它。

1770
01:13:02,945 --> 01:13:04,845
That's perfectly fine.
就很好了。

1771
01:13:04,914 --> 01:13:06,580
Let's go over here.
我们去这里。

1772
01:13:06,649 --> 01:13:07,615
Let's stack those together.
让我们一起堆那些。

1773
01:13:07,683 --> 01:13:09,783
That's fill and fill.
这是填补和充实。

1774
01:13:09,852 --> 01:13:12,353
One thing about these two, by the way, they're gonna be
顺便说一下，关于这两个问题，有一点是肯定的

1775
01:13:12,421 --> 01:13:16,556
sharing the space in this stack view equally.
在堆栈视图中平均共享空间。

1776
01:13:16,625 --> 01:13:19,494
But I don't want them sharing equally.
但我不想让他们平均分享。

1777
01:13:19,562 --> 01:13:24,065
I actually want the text to get more of this space.
实际上，我希望文本能得到更多的空间。

1778
01:13:24,133 --> 01:13:26,967
So I'm gonna click on the Tweeter.
点击推特。

1779
01:13:27,036 --> 01:13:29,069
And I'm gonna go over to this size inspector.
我要去找尺寸检查器。

1780
01:13:29,138 --> 01:13:30,404
And I'm gonna do something cool,
我要做一些很酷的事，

1781
01:13:30,473 --> 01:13:32,573
which is set its content hugging priority.
它的内容被设定为“拥抱优先”。

1782
01:13:32,641 --> 01:13:35,209
I'm gonna set its vertical content
我要设置它的垂直内容

1783
01:13:35,278 --> 01:13:37,911
hugging priority to be higher than the other one.
拥抱优先权比另一个要高。

1784
01:13:37,980 --> 01:13:38,612
So they're both 251.
所以他们都是251。

1785
01:13:38,681 --> 01:13:41,282
You see, that one's 251, that one's 251.
你看，那个是251，那个是251。

1786
01:13:41,351 --> 01:13:43,083
So I'm gonna set this one to be 300,
所以我要把这个设为300，

1787
01:13:43,152 --> 01:13:44,451
just anything higher than 251.
只要高于251就可以了。

1788
01:13:44,520 --> 01:13:47,454
And that means that when the space is being allocated
这意味着，当空间被分配时

1789
01:13:47,523 --> 01:13:48,389
between this tweeter and
这个推特和

1790
01:13:48,458 --> 01:13:52,360
the text, it's gonna hug the tweeter's content.
文本，它将会拥抱tweeter的内容。

1791
01:13:52,429 --> 01:13:55,229
And the text is gonna get all the rest.
而文本将会得到所有的结果。

1792
01:13:55,298 --> 01:13:56,330
So that's a way that you can kinda,
这是一种方法，

1793
01:13:56,399 --> 01:13:59,834
when you're sharing space between two things.
当你在两个事物之间共享空间的时候。

1794
01:13:59,902 --> 01:14:03,370
All right, so now let's put these two in a stack.
好，现在我们把这两个放到堆栈里。

1795
01:14:03,439 --> 01:14:08,142
Maybe we'll put some spacing here, something like that.
也许我们会在这里放一些空间，像这样。

1796
01:14:08,210 --> 01:14:10,911
Alignment here, top is good, I want them both at the top.
在这里对齐，顶部很好，我想让它们都在顶部。

1797
01:14:10,980 --> 01:14:14,148
I think that's good, lined up at the top.
我认为这很好，排在前面。

1798
01:14:14,217 --> 01:14:17,451
If I like that and fill is fine, I've got this.
如果我喜欢这个，填充没问题，我有这个。

1799
01:14:17,520 --> 01:14:19,119
Now I'm gonna do the same thing we did before,
现在我要做和之前一样的事情，

1800
01:14:19,188 --> 01:14:21,355
which is I'm gonna put this in the corner.
我要把它放在角落里。

1801
01:14:21,423 --> 01:14:24,425
And I'm gonna Ctrl drag to the top.
然后Ctrl拖动到顶部。

1802
01:14:24,494 --> 01:14:28,028
I'm gonna Ctrl drag to the leading edge.
Ctrl拖动到前边。

1803
01:14:28,097 --> 01:14:31,098
I'm gonna Ctrl drag to the trailing edge.
我将按Ctrl拖动到拖尾边缘。

1804
01:14:31,166 --> 01:14:34,000
And I'm gonna Ctrl drag to the bottom edge.
然后Ctrl拖动到底部边缘。

1805
01:14:34,069 --> 01:14:35,035
So I want that out there.
我想把它写出来。

1806
01:14:35,104 --> 01:14:36,136
And again, the same thing.
同样的。

1807
01:14:36,205 --> 01:14:39,640
I'm gonna take this and change it to standard if I can.
如果可以的话，我要把这个改成标准。

1808
01:14:39,709 --> 01:14:40,907
I can't, so we'll go 0.
我不能，所以我们要0。

1809
01:14:40,976 --> 01:14:42,443
And same thing here.
这里同样的事情。

1810
01:14:43,546 --> 01:14:47,915
Standard if I can, can't, we'll do 0.
如果我能，不能，我们将做0。

1811
01:14:47,984 --> 01:14:50,551
So I've made this stock view that contains all
我做了一个包含所有的股票视图

1812
01:14:50,620 --> 01:14:51,819
the stuff fit in there.
里面有东西。

1813
01:14:51,888 --> 01:14:56,123
So I basically done the auto layout necessary to make this
所以我基本上完成了制作这个的自动布局

1814
01:14:56,192 --> 01:14:58,759
thing use the space properly.
物体适当地利用空间。

1815
01:14:58,828 --> 01:15:01,662
And I can still change the size of the cell, all right?
我仍然可以改变细胞的大小?

1816
01:15:01,730 --> 01:15:04,998
I can click on it and I can make it a little bit smaller
我可以点击它，我可以让它变小一点

1817
01:15:05,067 --> 01:15:06,634
and all that stuff is going to, you know,
所有这些，你知道，

1818
01:15:06,703 --> 01:15:08,435
stick to the edges, so that'll be fine.
粘在边上，这样就好了。

1819
01:15:08,504 --> 01:15:09,836
Now, this is great,
现在,这是伟大的,

1820
01:15:09,905 --> 01:15:13,240
in fact if we go back to our table view controller and
事实上，如果我们回到我们的表视图控制器

1821
01:15:13,308 --> 01:15:17,110
if I comment out this cell configuration because we don't
如果我把这个单元格说出来，因为我们没有

1822
01:15:17,179 --> 01:15:20,848
have a subtitle so these don't make any sense any more.
有一个副标题，所以这些没有任何意义。

1823
01:15:20,917 --> 01:15:24,084
And we run, then we gonna see that our UI hopefully,
然后我们运行，然后看到我们的UI希望，

1824
01:15:24,153 --> 01:15:26,220
if we didn't forget anything.
如果我们什么都没忘记。

1825
01:15:27,790 --> 01:15:30,791
It's going to look in some ways a little better.
它会以某种方式看起来更好一些。

1826
01:15:30,860 --> 01:15:32,226
Yeah, so it kinda looks better.
嗯，看起来好多了。

1827
01:15:32,294 --> 01:15:35,496
Now, the only thing that's not better is we lost our data
现在，唯一没有更好的是我们丢失了数据

1828
01:15:35,565 --> 01:15:38,899
because I commented out the data loading right here.
因为我在这里注释了数据加载。

1829
01:15:38,968 --> 01:15:41,902
So this is what we want UI to look like basically with
这就是我们想要的UI

1830
01:15:41,971 --> 01:15:43,403
an image here and that there.
这是一个图像。

1831
01:15:43,472 --> 01:15:45,472
But we need to set all this data.
但我们需要设置所有这些数据。

1832
01:15:45,541 --> 01:15:46,406
So how do we that?
那我们该怎么做呢?

1833
01:15:46,475 --> 01:15:49,109
Since this is a custom cell over here.
因为这里是自定义单元格。

1834
01:15:49,178 --> 01:15:51,845
We have to do with a custom subclass
我们必须使用自定义子类

1835
01:15:51,914 --> 01:15:54,215
of this UI table view cell right here.
这个uitableviewcell。

1836
01:15:54,283 --> 01:15:55,983
So, I'm gonna create one of those, New File.
我要创建一个新文件。

1837
01:15:56,052 --> 01:16:01,255
Let's go here and New File.
让我们来这里看看新文件。

1838
01:16:01,323 --> 01:16:03,691
Again, Cocoa Touch Class; this time though,
再次,可可触摸类;这一次,

1839
01:16:03,760 --> 01:16:07,127
it's not a TableViewController it's a TableViewCell.
它不是一个TableViewController它是一个TableViewCell。

1840
01:16:07,196 --> 01:16:09,029
I'm gonna call it TweetTableViewCell cuz
我把它命名为TweetTableViewCell cuz

1841
01:16:09,098 --> 01:16:10,998
it shows the tweet,
它显示了微博,

1842
01:16:11,066 --> 01:16:15,002
put in the same place as all the rest of my stuff there.
把我剩下的东西放在同一个地方。

1843
01:16:15,070 --> 01:16:17,772
Here's my table table view cell, it gives me awakeFromNib
这是我的表视图单元格，它给我awakeFromNib

1844
01:16:17,840 --> 01:16:20,340
which is kinda nice but I don't need it and setSelected
这很好，但我不需要它和setSelected

1845
01:16:20,409 --> 01:16:22,843
I don't do anything special when my table view cell is
当我的表格视图单元格时，我没有做任何特别的事情

1846
01:16:22,911 --> 01:16:25,413
selected but I could, I could draw a blue background or
选择但我可以，我可以画一个蓝色背景

1847
01:16:25,481 --> 01:16:28,549
something like that if I wanted, but I don't.
如果我想要这样的东西，但我没有。

1848
01:16:28,618 --> 01:16:30,750
So, I have this TableViewCell subclass.
我有这个TableViewCell子类。

1849
01:16:30,819 --> 01:16:32,586
I'm gonna go back to my Storyboard and
回到我的故事板

1850
01:16:32,654 --> 01:16:35,322
make sure that I set the identity,
确认我设置了身份，

1851
01:16:35,391 --> 01:16:37,124
don't forget this step.
别忘了这一步。

1852
01:16:37,192 --> 01:16:40,294
Set the identity to be a TweetTableViewCell.
将身份设置为TweetTableViewCell。

1853
01:16:40,363 --> 01:16:41,361
If you forget this step,
如果你忘了这一步，

1854
01:16:41,430 --> 01:16:43,464
you won't be able to do any outlets or anything like that.
你不能做任何出口或类似的事情。

1855
01:16:45,201 --> 01:16:48,269
Now, I wanna wire outlets up to this new class I
现在，我想把outlet到这个新的类I

1856
01:16:48,337 --> 01:16:50,471
just created, so I need to get them both on screen,
刚刚创建，所以我需要在屏幕上，

1857
01:16:50,539 --> 01:16:52,373
I'll show you kind of a cool way to do that.
我会给你们展示一种很酷的方法。

1858
01:16:52,442 --> 01:16:54,408
Let's get the assistant editor up here,
让我们来看看助理编辑，

1859
01:16:54,477 --> 01:16:56,377
remember I could do manual, blah, blah, blah,
记住，我可以用手动，等等，等等，

1860
01:16:56,445 --> 01:16:59,680
but another way is to hold down the option key, and
但另一种方法是按住option键，然后

1861
01:16:59,748 --> 01:17:02,249
just click on the thing that you want to be on the right,
只要点击你想要在右边的东西，

1862
01:17:02,318 --> 01:17:04,852
I think I showed this before, but option
我想我之前展示过，但是选项

1863
01:17:04,921 --> 01:17:08,956
clicking in the navigator will put that thing on the right.
在导航器中单击将把这个东西放在右边。

1864
01:17:09,024 --> 01:17:13,093
All right so let's move this over more, some space there.
好的，让我们把这个移到更多的地方。

1865
01:17:13,162 --> 01:17:15,196
All right, so I need to wire up outlets to these four
好的，我需要把outlet到这四个

1866
01:17:15,264 --> 01:17:17,164
things, right, the tweet or the text or the image.
内容，正确，推文，文字或图片。

1867
01:17:17,232 --> 01:17:18,465
So let's just do that.
我们来做一下。

1868
01:17:18,534 --> 01:17:19,800
We'll go here, Ctrl+drag,
我们就去这里,Ctrl +拖,

1869
01:17:19,869 --> 01:17:24,437
screen out, I'll call this my tweet, what did I call this,
屏幕外，我把这叫做我的推特，我叫它什么来着，

1870
01:17:24,506 --> 01:17:30,177
my tweetProfileImageView.
我的tweetProfileImageView。

1871
01:17:30,246 --> 01:17:32,279
Cuz it's gonna be a UIImageView that shows
因为它将是一个UIImageView

1872
01:17:32,347 --> 01:17:34,915
the Tweeter's profile.
推特的概要文件。

1873
01:17:34,984 --> 01:17:38,419
Let's do the little create down here,
让我们在这里做一些创建，

1874
01:17:38,487 --> 01:17:41,021
Ctrl+Drag, from that.
Ctrl +拖,。

1875
01:17:41,089 --> 01:17:43,924
We'll call that tweetCreatedLabel.
我们称之为tweetCreatedLabel。

1876
01:17:43,993 --> 01:17:46,693
To label it.
标签。

1877
01:17:46,762 --> 01:17:50,497
Shows when it was created; let's do out little tweeter
显示它是何时创建的;我们来做小推特

1878
01:17:50,566 --> 01:17:55,269
right here and we call that our tweetUserLabel,
在这里，我们称它为tweetUserLabel，

1879
01:17:55,338 --> 01:17:57,871
this is gonna show the label of the tweet
这将显示推文的标签

1880
01:17:57,940 --> 01:18:00,540
user and then we have the text right here that's gonna show
用户，然后我们有文本，它会显示

1881
01:18:00,609 --> 01:18:02,943
the actual tweetText, tweetTextLabel.
实际tweetText tweetTextLabel。

1882
01:18:06,649 --> 01:18:09,950
So I've got these nice little outlets right here.
这里有一些漂亮的小插座。

1883
01:18:10,018 --> 01:18:12,620
Now of course I need to be able to set these outlets with
当然，我需要能够设置这些outlet

1884
01:18:12,688 --> 01:18:16,323
something and here's where I need public API in my
这是我需要公共API的地方

1885
01:18:16,392 --> 01:18:19,994
table view cell, that gives me the data I need to do that.
表格视图单元格，它给了我需要的数据。

1886
01:18:20,062 --> 01:18:23,898
And I'm just going to have my public API be tweet,
我将把我的公共API推到twitter上，

1887
01:18:23,966 --> 01:18:27,400
give me the Twitter.Tweet that you want and
给我推特。你想要的推特

1888
01:18:27,469 --> 01:18:29,170
I'll load these babies up.
我要把这些孩子装上。

1889
01:18:30,139 --> 01:18:30,971
That's what it's saying here.
这就是它的意思。

1890
01:18:31,040 --> 01:18:33,541
Of course we need to import Twitter.
当然，我们需要导入Twitter。

1891
01:18:34,676 --> 01:18:37,144
Cuz we're using it in this class.
因为我们在课堂上使用它。

1892
01:18:37,212 --> 01:18:40,781
And when you set this Tweet I'm just going to on didSet.
当你设置这条推特的时候，我将会在didSet上。

1893
01:18:40,849 --> 01:18:43,150
Update my UI just like I was a controller but
更新我的UI就像我是控制器一样

1894
01:18:43,218 --> 01:18:46,120
I'm not, I'm not a controller, I'm a view actually.
我不是，我不是控制器，我是一个视图。

1895
01:18:46,188 --> 01:18:49,723
It's the only time a view can have these outlets.
这是唯一一个视图可以拥有这些outlet的时间。

1896
01:18:49,792 --> 01:18:54,095
So I need some private func to do that updateUI.
所以我需要一些私有的func来完成updateUI。

1897
01:18:56,565 --> 01:19:00,000
Now, time is running a little bit short here, so
现在，时间有点短了

1898
01:19:00,069 --> 01:19:02,569
I'm just going to type this in real quick
我很快就会把它打出来

1899
01:19:02,638 --> 01:19:04,571
I believe I have tweet cell.
我相信我有推特细胞。

1900
01:19:04,640 --> 01:19:05,506
There it is, okay?
在这里,好吗?

1901
01:19:06,976 --> 01:19:07,875
But you can look at this later.
但你可以以后再看这个。

1902
01:19:07,944 --> 01:19:10,343
But I'm just basically setting all the outlets here.
但我只是在这里设置所有的outlet。

1903
01:19:10,412 --> 01:19:13,013
See how I'm just setting these outlets like setting the tweet
看看我是如何设置这些媒体的，比如设置推特

1904
01:19:13,082 --> 01:19:15,282
label, text to be the tweet's text,
标签，文本为推文的文本，

1905
01:19:15,350 --> 01:19:18,252
setting the user label to be the user description.
将用户标签设置为用户描述。

1906
01:19:18,321 --> 01:19:20,521
Notice by the way I'm blocking the main thread here.
注意，我挡住了主线程。

1907
01:19:22,558 --> 01:19:25,458
If this was my homework, bam I just got dinged.
如果这是我的作业，我就被圈住了。

1908
01:19:25,527 --> 01:19:27,361
So make sure you fix this, okay?
所以一定要解决这个问题，好吗?

1909
01:19:27,429 --> 01:19:30,497
If you're gonna use my code in any way in your homework,
如果你要在作业中使用我的代码，

1910
01:19:30,566 --> 01:19:31,865
which you probably want to,
你可能想，

1911
01:19:31,933 --> 01:19:34,434
then you're gonna wanna fix this.
然后你要解决这个问题。

1912
01:19:34,503 --> 01:19:35,669
Don't do this on the main thread.
在主线程上不要这样做。

1913
01:19:35,738 --> 01:19:36,904
Don't block the main thread.
不要阻塞主线程。

1914
01:19:36,972 --> 01:19:39,173
But, does anyone understand what updateUI is doing here?
但是，有人知道updateUI在这里做什么吗?

1915
01:19:39,242 --> 01:19:41,041
It's just taking this Tweet that I was giving,
这是我发的这条推文，

1916
01:19:41,110 --> 01:19:42,742
and loading this up.
和加载。

1917
01:19:42,811 --> 01:19:44,544
And this is happening over and over for
这是不断发生的

1918
01:19:44,613 --> 01:19:47,681
every row in the table that gets displayed.
表中的每一行都显示出来。

1919
01:19:47,750 --> 01:19:50,550
This is happening, the copy of this class has been made and
这发生了，这个类的副本已经完成了

1920
01:19:50,619 --> 01:19:51,852
this is happening.
这是发生。

1921
01:19:51,921 --> 01:19:53,720
Now, how do we set this?
现在，我们怎么来设置这个呢?

1922
01:19:53,789 --> 01:19:58,692
We set this back over here and our TweetTableViewController.
我们在这里设回TweetTableViewController。

1923
01:19:58,761 --> 01:20:02,429
In the same place that we configured the cell here for
我们在这里配置了这个单元格

1924
01:20:02,498 --> 01:20:04,197
the subtitle one.
副标题。

1925
01:20:04,266 --> 01:20:07,000
And in fact, I still need the tweet, but I don't need that.
事实上，我仍然需要这条推文，但我不需要它。

1926
01:20:07,069 --> 01:20:08,368
I'll leave those there, so
我把这些留在那里

1927
01:20:08,437 --> 01:20:10,804
you can remember that code when you look at it later.
当您稍后查看它时，您可以记住这些代码。

1928
01:20:10,873 --> 01:20:13,807
But instead of setting those things, I just want
而不是设置这些东西，我只是想要

1929
01:20:13,875 --> 01:20:17,277
to set that tweet, I wanna set this var right here.
要设置这个tweet，我要在这里设置这个var。

1930
01:20:17,346 --> 01:20:19,046
But for me to set the var right here,
但我要在这里设置var，

1931
01:20:19,115 --> 01:20:21,281
I need to get my table view to be one of these.
我需要让我的表格视图成为其中之一。

1932
01:20:21,350 --> 01:20:22,349
So, I need to use an as.
因此，我需要使用as。

1933
01:20:22,418 --> 01:20:24,484
So, I'm gonna say,
所以,我想说,

1934
01:20:24,553 --> 01:20:28,655
if I can let the tweetCell equal the cell,
如果我能让tweetCell等于cell，

1935
01:20:28,724 --> 01:20:34,494
this reusable cell that I got, as a TweetTableViewCell,
这个可重复使用的单元，作为TweetTableViewCell，

1936
01:20:34,563 --> 01:20:39,600
then, I can say, cell set your tweet to be my tweet.
然后，我可以说，cell设置你的tweet为我的tweet。

1937
01:20:39,669 --> 01:20:44,605
That goes in this row, section, and row.
它在这一行，section，和row中。

1938
01:20:44,674 --> 01:20:51,578
Now, we set the, what, sorry, tweetCell.tweet.
现在，我们设置，抱歉，tweetcell. tweet。

1939
01:20:51,646 --> 01:20:55,215
We set the class of these, of this prototype right here,
我们在这里设置了这个原型，

1940
01:20:55,284 --> 01:20:57,484
the prototype for this cell.
这个单元格的原型。

1941
01:20:57,553 --> 01:20:59,018
We set it with the identity
我们把它设置为恒等式

1942
01:20:59,087 --> 01:21:01,722
inspector to be a TweetTableViewCell.
视察员是一个TweetTableViewCell。

1943
01:21:01,790 --> 01:21:03,790
So, when we come in here, it will, in fact,
所以当我们来到这里的时候，

1944
01:21:03,859 --> 01:21:05,425
this as will work.
这是将工作。

1945
01:21:05,494 --> 01:21:08,161
Okay, it will be a TweetTableViewCell cuz we said
它将是一个TweetTableViewCell cuz

1946
01:21:08,230 --> 01:21:11,532
that in the Storyboard, so, it created that kind of thing,
在故事板中，它创建了这样的东西，

1947
01:21:11,600 --> 01:21:12,198
all right?
好吧?

1948
01:21:12,267 --> 01:21:13,634
So, let see if this works.
所以，让我们看看它是否有效。

1949
01:21:18,474 --> 01:21:19,806
Okay, it is working.
好吧,这是工作。

1950
01:21:19,875 --> 01:21:22,743
Look, we've got the time the person tweeted this,
看，我们有时间在推特上，

1951
01:21:22,812 --> 01:21:24,711
it's got the person who tweeted it,
是有人在推特上发的，

1952
01:21:24,780 --> 01:21:28,682
it's got the text of the tweeting, but we get no image.
它有推特的文本，但我们没有图像。

1953
01:21:28,751 --> 01:21:32,152
Why didn't we get people's images here?
为什么我们没有在这里得到人们的图像呢?

1954
01:21:32,221 --> 01:21:33,520
Okay, why do you think we didn't get these,
好吧，为什么你认为我们没有得到这些，

1955
01:21:33,589 --> 01:21:35,222
these images?
这些图片吗?

1956
01:21:35,291 --> 01:21:37,657
Well, let's go look at our console.
我们来看看控制台。

1957
01:21:37,726 --> 01:21:39,058
What does it say?
它说什么了?

1958
01:21:39,127 --> 01:21:39,626
No!
不!

1959
01:21:39,695 --> 01:21:41,428
App Transport Security.
应用交通安全。

1960
01:21:41,496 --> 01:21:43,597
You recognize that from last time?
你能从上节课看到吗?

1961
01:21:43,665 --> 01:21:47,601
It's because these profiles are http something not
这是因为这些概要文件不是http

1962
01:21:47,669 --> 01:21:49,102
https something.
https。

1963
01:21:49,171 --> 01:21:50,371
So, we know how to fix that.
我们知道怎么解决这个问题。

1964
01:21:50,439 --> 01:21:53,240
We'll just go back to Info.plist right here.
我们会回到信息。plist。

1965
01:21:53,309 --> 01:21:56,877
And add a row for App Transport Security.
并为应用程序传输安全性添加一行。

1966
01:21:56,946 --> 01:22:01,348
We'll open that up, we'll add Arbitrary Loads here,
我们打开它，我们在这里添加任意的负载，

1967
01:22:01,416 --> 01:22:05,619
we'll make that be, yes, we allow arbitrary loads.
我们会让它成为，是的，我们允许任意载荷。

1968
01:22:05,688 --> 01:22:07,086
There's another problem here though.
不过这里还有一个问题。

1969
01:22:07,155 --> 01:22:08,422
Look at all these tweets.
看看这些推文。

1970
01:22:08,490 --> 01:22:11,157
Look how they're cut off, you see?
看看它们是怎么被切断的，明白吗?

1971
01:22:11,226 --> 01:22:14,928
Every row is the same size and it's not big enough for
每一行都是一样的大小，而且还不够大

1972
01:22:14,997 --> 01:22:15,729
most of the tweets.
大部分的tweet。

1973
01:22:15,798 --> 01:22:17,831
It's just dot, dot, dot, dot, dot, dot.
就是点，点，点，点，点。

1974
01:22:17,900 --> 01:22:20,801
Wouldn't it be cool if these rows could be different sizes
如果这些行可以是不同的尺寸，那不是很酷吗

1975
01:22:20,869 --> 01:22:22,969
depending on how big the tweet is?
取决于这条推文有多大?

1976
01:22:23,038 --> 01:22:24,604
Well, of course we can do that.
当然我们可以这么做。

1977
01:22:24,673 --> 01:22:25,672
Let's do it.
让我们做它。

1978
01:22:25,740 --> 01:22:28,508
Let's go see how this size is being said right now.
让我们看看这个尺寸是怎么说的。

1979
01:22:28,577 --> 01:22:31,411
Right now, it's being said, if we go and
现在，有人说，如果我们去

1980
01:22:31,480 --> 01:22:34,782
inspect this cell in its size inspector, look,
检查它的尺寸检查器，看，

1981
01:22:34,850 --> 01:22:38,552
the row height is 96, so, every single row is 96.
行高是96，所以每一行都是96。

1982
01:22:38,620 --> 01:22:43,156
What we wanna do is in our viewDidLoad right here,
我们要做的是在viewDidLoad中，

1983
01:22:43,225 --> 01:22:47,827
we wanna say that our tableView's row height is not
我们想说tableView的行高度不是

1984
01:22:47,896 --> 01:22:52,432
96, it's UITableViewAutomaticDimension.

1985
01:22:52,501 --> 01:22:55,869
But as I said before, we also want to give it a little help
但正如我之前说过的，我们也想给它一点帮助

1986
01:22:55,938 --> 01:22:59,439
by setting its estimated row height to something.
通过将其估计的行高度设置为某些东西。

1987
01:22:59,508 --> 01:23:00,073
And I'll tell you what,
我告诉你，

1988
01:23:00,142 --> 01:23:01,841
let's set it to what's in the Storyboard.
我们把它设置成故事板中的内容。

1989
01:23:01,910 --> 01:23:04,811
tableView.rowHeight, okay?
表视图。rowHeight,好吗?

1990
01:23:04,880 --> 01:23:06,879
So, I'm getting the rowHeight out of the Storyboard,
我从故事板中得到rowh8，

1991
01:23:06,948 --> 01:23:08,114
using it as the estimate.
用它作为估计值。

1992
01:23:08,183 --> 01:23:09,049
And then, I'm resetting
然后,我重置

1993
01:23:09,117 --> 01:23:10,918
the rowHeight to be the AutomaticDimension.
rowh8是自动机。

1994
01:23:17,727 --> 01:23:19,059
And sure enough, see, look,
当然，看，

1995
01:23:19,128 --> 01:23:20,928
this tall tweet is getting extra space and
这条高推特正在获得额外的空间

1996
01:23:20,996 --> 01:23:23,530
some of the smaller tweets, I don't know if we have any,
一些较小的推文，我不知道我们是否有，

1997
01:23:23,599 --> 01:23:25,766
you can probably see it if we go like this.
如果我们这样做，你可能会看到它。

1998
01:23:25,835 --> 01:23:30,370
The smaller tweets get less space, okay?
较小的推文得到的空间更少?

1999
01:23:30,438 --> 01:23:31,838
So, that's good.
所以,这很好。

2000
01:23:31,907 --> 01:23:35,275
We're out of time, so, if you have to go, feel free.
我们没时间了，所以，如果你要去的话，感觉自由。

2001
01:23:35,344 --> 01:23:38,077
The last thing I'm gonna do here in a little over time is
随着时间的推移，我最后要做的是

2002
01:23:38,146 --> 01:23:40,580
add a text field at the top that lets us type in what
在顶部添加一个文本字段，让我们输入什么

2003
01:23:40,649 --> 01:23:43,750
we wanna search for instead of always looking for Stanford.
我们想要寻找，而不是一直寻找斯坦福。

2004
01:23:43,819 --> 01:23:46,420
So, we're gonna get Stanford out of there, okay?
所以，我们要把斯坦福赶出去，好吗?

2005
01:23:46,488 --> 01:23:47,387
So, how do we do that?
那么，我们该怎么做呢?

2006
01:23:47,455 --> 01:23:48,254
It's real easy.
这是真的很容易。

2007
01:23:48,323 --> 01:23:49,656
We have, if you remember,
如果你们还记得的话，

2008
01:23:49,725 --> 01:23:52,225
the table view, it's got this little header view at the top.
表视图，顶部有一个小标题视图。

2009
01:23:52,294 --> 01:23:54,527
So, I'm just gonna take a UITextField.
我将使用UITextField。

2010
01:23:54,596 --> 01:23:56,396
Remember this editable text field we learned about in
请记住我们所了解的可编辑文本字段

2011
01:23:56,465 --> 01:23:57,130
the last lecture?
上节课吗?

2012
01:23:57,199 --> 01:23:58,665
And I'm gonna put it on the top.
我把它放在上面。

2013
01:23:58,734 --> 01:24:01,601
It's a little hard, sometimes, to see where it's going,
这有点难，有时候，看它的方向，

2014
01:24:01,670 --> 01:24:04,237
but when it looks like this, the width of the table, then,
但当它看起来像这样的时候，桌子的宽度，

2015
01:24:04,306 --> 01:24:06,139
you've got it, it's dropping it in there.
你已经得到了它，它正在把它扔到那里。

2016
01:24:06,208 --> 01:24:08,742
It's also a little hard to select and click on.
选择和点击也有点困难。

2017
01:24:08,811 --> 01:24:11,444
So, you're gonna wanna use that Ctrl + Shift + Click.
你要用Ctrl + Shift + Click。

2018
01:24:11,513 --> 01:24:13,713
And that way, you can pick either the controller, or
这样，你可以选择控制器，或者

2019
01:24:13,782 --> 01:24:16,449
the table view, or in this case, the text field.
表视图，在本例中是文本字段。

2020
01:24:16,518 --> 01:24:18,318
I'm gonna inspect it and change it a little bit.
我要检查一下，然后稍微改变一下。

2021
01:24:18,387 --> 01:24:21,221
I'm just gonna make the font a little bit bigger,
我把字体放大一点，

2022
01:24:21,290 --> 01:24:22,255
we'll say 22.
我们会说22。

2023
01:24:22,324 --> 01:24:24,991
Now, notice I can also set all those text field things I was
注意，我还可以设置所有的文本字段

2024
01:24:25,060 --> 01:24:25,792
talking about.
说什么。

2025
01:24:25,861 --> 01:24:27,694
Like, I don't want it auto-correcting.
比如，我不希望它自动纠错。

2026
01:24:27,763 --> 01:24:30,931
I don't wanna say, search for hashtag SuperBowl and
我不想说，搜索hashtag SuperBowl和

2027
01:24:31,000 --> 01:24:33,734
change it hashtag SuperSpaceBowl, okay?
把它改成hashtag SuperSpaceBowl，好吗?

2028
01:24:33,803 --> 01:24:35,435
So, I don't want any correction going on.
所以，我不希望发生任何更正。

2029
01:24:35,504 --> 01:24:36,803
Keyboard type, ooh, look,
键盘类型:哦,看,

2030
01:24:36,872 --> 01:24:38,405
there's a Twitter keyboard type.
有一个推特键盘类型。

2031
01:24:38,473 --> 01:24:41,275
It's probably got # and @ sign, things like that.
可能有# @符号之类的。

2032
01:24:41,343 --> 01:24:42,175
The return key,
返回键,

2033
01:24:42,244 --> 01:24:44,978
that's just the key on the things says return.
这就是问题的关键所在。

2034
01:24:45,047 --> 01:24:47,213
I'm searching here, so, I wanted to say search.
我在这里搜索，所以，我想说搜索。

2035
01:24:47,282 --> 01:24:50,517
So, that means the return keys gonna say, I'd search.
这意味着返回键会说，我搜索。

2036
01:24:50,586 --> 01:24:52,753
Also, a little clear button would be cool,
另外，一个小的按钮会很酷，

2037
01:24:52,821 --> 01:24:55,455
button you can press the clear out what's going on.
你可以按下这个按钮。

2038
01:24:55,524 --> 01:24:58,524
So, you can kinda configure this in any way you want
你可以用任何你想要的方式来配置它

2039
01:24:58,593 --> 01:24:59,859
to make it work in there.
让它在那里工作。

2040
01:24:59,928 --> 01:25:03,163
Now, normally I would run this and show you that it's there,
现在，通常我会运行这个并告诉你它在那里，

2041
01:25:03,231 --> 01:25:04,598
let's wire it up first, so, it actually does something.
让我们先把它连接起来，它确实做了一些事情。

2042
01:25:04,599 --> 01:25:05,966
but of course,
当然,

2043
01:25:06,034 --> 01:25:08,068
It's real easy to wire up a text field if you just
如果你只是想把文本框连接起来很容易

2044
01:25:08,136 --> 01:25:11,070
wanna hook it up to an outlet and set its delegate, and
想要把它连接到一个outlet并设置它的委托，并且

2045
01:25:11,139 --> 01:25:13,440
then, you can find out when the return key is pressed.
然后，您可以发现返回键何时被按下。

2046
01:25:13,509 --> 01:25:14,808
So, let's do that.
所以,让我们这样做。

2047
01:25:14,876 --> 01:25:17,677
We'll go here, let's get our TweetTableViewController on
我们到这里，让我们打开TweetTableViewController

2048
01:25:17,746 --> 01:25:18,846
screen at the same time.
屏幕同时显示。

2049
01:25:18,914 --> 01:25:21,081
We just wanna create an outlet to that thing.
我们只是想创建一个outlet到那个东西。

2050
01:25:21,150 --> 01:25:23,182
I'll put it, right in here.
我把它放在这里。

2051
01:25:23,251 --> 01:25:24,384
So, I'm just,
所以,我只是

2052
01:25:24,452 --> 01:25:28,588
again, I will probably wanna Shift + Click to select it.
再一次，我可能想要移动+点击来选择它。

2053
01:25:28,657 --> 01:25:30,190
I, oops, picked the wrong one.
我选错了。

2054
01:25:31,960 --> 01:25:34,828
So, let's Shift + Click, click this, select this,
所以，让我们移动+点击，点击这个，选择这个，

2055
01:25:34,896 --> 01:25:39,433
and Ctrl + Drag from it, and see it's a UITextField, and
然后按住Ctrl +拖动，看到它是UITextField

2056
01:25:39,502 --> 01:25:41,969
I'm gonna call this my searchTextField.
我把它命名为searchTextField。

2057
01:25:43,138 --> 01:25:43,904
Simple as that.
就这么简单。

2058
01:25:43,972 --> 01:25:49,742
When it's set, I'm going to set myself as its delegates.
当它设置时，我将把自己设为它的代表。

2059
01:25:49,811 --> 01:25:53,814
searchTextField.delegate = self.
searchTextField。委托=自我。

2060
01:25:53,882 --> 01:25:58,051
Of course, for me to be its delegate, I have to go
当然，我要成为它的代表，我得走了

2061
01:25:58,120 --> 01:26:02,422
up here and say yes, I am a UITextFieldDelegate.
在这里，说“是”，我是一个UITextFieldDelegate。

2062
01:26:02,490 --> 01:26:05,225
Okay, they're all the methods are optional in there, so,
它们都是可选的，

2063
01:26:05,293 --> 01:26:08,294
I have now successfully implemented that protocol.
现在，我已经成功地实现了这个协议。

2064
01:26:08,363 --> 01:26:11,298
Ooh, what happened here?
哦,发生了什么?

2065
01:26:11,367 --> 01:26:14,434
Yes, okay, so that's so I've set the delegate.
好的，这就是我设置的委托。

2066
01:26:14,503 --> 01:26:16,870
Now, I'm gonna implement the delegate method I want,
现在，我要实现我想要的委托方法，

2067
01:26:16,939 --> 01:26:18,204
which is that should return.
这是应该返回的。

2068
01:26:18,273 --> 01:26:20,440
It get sent to me when the return button is sent.
当返回按钮被发送时，它被发送给我。

2069
01:26:20,508 --> 01:26:21,708
So that is textField,
这是文本框,

2070
01:26:21,777 --> 01:26:24,244
notice as I type textField it shows me them all,
当我输入textField的时候，它显示了所有的，

2071
01:26:24,313 --> 01:26:27,381
and it is this one right here textFieldShouldReturn.
就是这个textFieldShouldReturn。

2072
01:26:27,449 --> 01:26:30,617
Let me make this bigger, bigger so
我把它放大一点

2073
01:26:30,685 --> 01:26:32,719
you can see it better.
你能看得更好。

2074
01:26:32,788 --> 01:26:34,254
Okay, so here should return.
好的，这里应该返回。

2075
01:26:34,323 --> 01:26:36,756
If I get return, I'm actually gonna check to make
如果我得到了回报，我将会进行检查

2076
01:26:36,825 --> 01:26:39,259
sure I'm getting this from my searchTextField,
我从searchTextField得到这个，

2077
01:26:39,328 --> 01:26:42,128
because someday I might have other text fields and I wanna
因为有一天我可能会有其他文本框，我想

2078
01:26:42,197 --> 01:26:45,265
make sure I'm getting, I know which one I'm talking about.
确保我能得到，我知道我说的是哪一个。

2079
01:26:45,333 --> 01:26:47,066
So textField is this argument right here, and
textField就是这个参数

2080
01:26:47,135 --> 01:26:48,969
I'm just checking to make sure it's me.
我只是想确认一下是不是我。

2081
01:26:49,038 --> 01:26:53,173
And if that is true then I'm just gonna set my
如果这是真的，那么我将设置我的

2082
01:26:53,242 --> 01:26:58,678
searchText = searchTextFields.text, okay?
searchText = searchTextFields。文本,好吗?

2083
01:26:58,747 --> 01:27:00,480
Makes sense and when I set my searchText,
讲得通，当我设置搜索文本时，

2084
01:27:00,549 --> 01:27:03,683
that's immediately going to start it going.
马上就要开始了。

2085
01:27:03,752 --> 01:27:05,919
Notice that ShouldReturn also returns a Bool which is
注意，ShouldReturn也会返回一个Bool

2086
01:27:05,988 --> 01:27:08,988
whether to do what it normally does when return is pressed.
在按下时，是否做正常的工作。

2087
01:27:09,057 --> 01:27:10,189
Which in this case is nothing,
在这种情况下，

2088
01:27:10,258 --> 01:27:11,691
cuz we don't have any target action or
因为我们没有任何目标行动

2089
01:27:11,760 --> 01:27:13,326
anything else, but we'll return true.
其他的，但我们会返回真值。

2090
01:27:13,395 --> 01:27:15,996
Sure do what you normally do, now the only other thing
当然做你平常做的事，现在唯一的事

2091
01:27:16,064 --> 01:27:18,331
here is now that we have the searchTextField,
现在我们有了searchTextField，

2092
01:27:18,400 --> 01:27:20,433
up here when we set our searchText.
当我们设置搜索文本的时候。

2093
01:27:20,502 --> 01:27:23,003
We wanna update our searchTextField.
我们想更新searchTextField。

2094
01:27:25,374 --> 01:27:28,541
And I'll be careful here in case I'm doing it in prepare.
我要小心，以防我在准备。

2095
01:27:28,610 --> 01:27:31,711
We'll set it to the searchText that we just set it to.
我们将它设置为我们刚刚设置的searchText。

2096
01:27:31,780 --> 01:27:33,913
Also I'm going to have my searchTextField
还有我的searchTextField

2097
01:27:33,982 --> 01:27:37,049
resignFirstResponder here.
resignFirstResponder这里。

2098
01:27:37,118 --> 01:27:40,453
That's if somebody types something and hits go search,
那就是如果有人输入东西并点击搜索，

2099
01:27:40,522 --> 01:27:42,488
and we search for something and put it in there.
我们搜索一些东西并把它放在那里。

2100
01:27:42,557 --> 01:27:43,923
I'm gonna take the keyboard away.
我要把键盘拿走。

2101
01:27:43,992 --> 01:27:45,658
Cuz I just don't wanna have the keyboard blocking
因为我不想让键盘挡住

2102
01:27:45,727 --> 01:27:47,427
the results that they just asked for.
他们所要求的结果。

2103
01:27:47,496 --> 01:27:48,761
And also someone sets it in code.
还有人把它设置成代码。

2104
01:27:48,830 --> 01:27:50,397
I'm gonna get rid of keyboard.
我要删掉键盘了。

2105
01:27:50,465 --> 01:27:51,798
Someone might be in the middle of typing but
可能有人正在打字，但是

2106
01:27:51,867 --> 01:27:53,400
if someone sets it in code rather than typing.
如果有人把它设置成代码而不是键入。

2107
01:27:53,468 --> 01:27:56,769
Let's get that keyboard out of the way, all right?
让我们把那个键盘挪开，好吗?

2108
01:27:56,838 --> 01:27:57,537
So let's go do that.
我们来做一下。

2109
01:27:59,274 --> 01:28:01,642
Leave this code on the screen so you can see it.
把这些代码留在屏幕上，这样您就可以看到它了。

2110
01:28:07,616 --> 01:28:11,451
All right, so here is our text field, it's kinda of hard to
好的，这是我们的文本框，有点难

2111
01:28:11,520 --> 01:28:14,888
see under this carrier, we'll fix that in a second.
看看这个载体，我们马上就能解决这个问题。

2112
01:28:14,957 --> 01:28:17,224
Let's go and search for #stanford again.
让我们再来搜索# stanford。

2113
01:28:17,293 --> 01:28:19,526
Oops, I'm not gonna do this, watch this.
我不会这么做，看这个。

2114
01:28:19,595 --> 01:28:21,194
Okay that looked easy to type, didn't it?
看起来很容易打字，不是吗?

2115
01:28:21,262 --> 01:28:22,729
Well let's go here and
我们来看看

2116
01:28:22,797 --> 01:28:28,301
say Keyboard, turn off the hardware keyboard.
说键盘，关掉硬件键盘。

2117
01:28:28,370 --> 01:28:29,635
Now when we click in here,
当我们点击这里，

2118
01:28:29,704 --> 01:28:31,037
ooh, it's a lot harder to type.
哦，打字要难得多。

2119
01:28:31,106 --> 01:28:35,242
#stanford, okay so now you're getting into what

2120
01:28:35,310 --> 01:28:39,846
I'm saying about learn to type like your users will be.
我想说的是，学会像你的用户一样打字。

2121
01:28:39,915 --> 01:28:42,582
So here I'm going to search, goes in stanford and
我将在斯坦福进行搜索

2122
01:28:42,651 --> 01:28:43,450
search for it.
寻找它。

2123
01:28:43,518 --> 01:28:46,619
Let's go and search for something else here.
我们去搜索别的东西吧。

2124
01:28:46,688 --> 01:28:48,688
Maybe we'll search for,
也许我们会寻找,

2125
01:28:48,756 --> 01:28:53,159
this is kind of dangerous because people might say, but
这很危险，因为人们可能会说，但是

2126
01:28:53,228 --> 01:28:59,198
Trump >> Okay,
特朗普> >好的,

2127
01:28:59,267 --> 01:29:01,468
there's some Trump ones.
有一些胜过的。

2128
01:29:03,104 --> 01:29:04,303
Now, we've done all this.
现在，我们已经做了所有这些。

2129
01:29:04,372 --> 01:29:05,672
I wanna fix this thing though,
我想解决这个问题，

2130
01:29:05,740 --> 01:29:08,207
where this looks really bad at the top here.
这看起来很糟糕。

2131
01:29:08,276 --> 01:29:09,910
And there's this really easy fix to that.
这个问题很容易解决。

2132
01:29:09,978 --> 01:29:11,845
Which is I'm just going to, this is the fix.
我要讲的是，这是一个修正。

2133
01:29:11,913 --> 01:29:14,013
The fix is everything in the UI as you've learned.
在UI中，修复就是你学过的所有东西。

2134
01:29:14,082 --> 01:29:17,917
I'm just gonna embed this in a navigation controller.
我将把它嵌入到导航控制器中。

2135
01:29:17,986 --> 01:29:22,055
Okay, when you embed this in a navigation controller and run,
当你将它嵌入到导航控制器中并运行时，

2136
01:29:22,123 --> 01:29:25,124
you can see that it makes a nice title at the top,
你可以看到它在顶部有一个很好的标题，

2137
01:29:25,193 --> 01:29:27,059
it moves the text field down,
它移动文本框，

2138
01:29:27,128 --> 01:29:29,429
it's just much nicer all around.
到处都很好。

2139
01:29:29,498 --> 01:29:32,164
Okay, see how it has done that from a bit down here.
好的，看看它是怎么做到的。

2140
01:29:32,233 --> 01:29:34,867
One other thing I'm gonna do is put placeholder text in
我要做的另一件事是把占位符文本放进去

2141
01:29:34,936 --> 01:29:36,502
there, I meant to show you that.
在那里，我想告诉你。

2142
01:29:36,571 --> 01:29:40,940
Sorry, let's do that, if I go back to here click this.
抱歉，我们这样做，如果我回到这里，点击这个。

2143
01:29:41,009 --> 01:29:44,110
That thing in here, swipe this guide.
在这里，滑动这个指南。

2144
01:29:44,179 --> 01:29:48,648
You can put a placeholder text like this, Twitter Search and
你可以设置一个这样的占位符，Twitter搜索和

2145
01:29:48,717 --> 01:29:50,984
see it shows it in there, kinda like gray.
看它显示在那里，有点像灰色。

2146
01:29:51,053 --> 01:29:54,421
So that when you run, it's more obvious to the user,
所以当你运行时，它对用户来说更明显，

2147
01:29:54,490 --> 01:29:57,624
what is that big white space, all right?
那个大的空白区域是什么?

2148
01:29:57,692 --> 01:30:00,093
Be clear to them that it's a Twitter search.
让他们明白这是一个Twitter搜索。

2149
01:30:01,729 --> 01:30:03,796
You know all you need to know to do your homework.
你知道你需要做的所有功课。

2150
01:30:03,865 --> 01:30:04,464
Good luck with it.
祝你好运。

2151
01:30:06,101 --> 01:30:16,709
>> For more, please visit us at Stanford.edu.
>> 更多课程详见 stanford.edu
